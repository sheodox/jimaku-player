// ==UserScript==
// @name         字幕プレーヤー
// @namespace    https://github.com/sheodox
// @version      0.6.15
// @description  Study Japanese by using Japanese subtitles on VRV!
// @author       sheodox
// @supportUrl   https://github.com/sheodox/jimaku-player/issues
// @match        https://static.vrv.co/vilos/player.html*
// @match        https://static.crunchyroll.com/vilos-v2/web/vilos/player.html*
// @grant        GM_getValue
// @grant        GM_setValue
// @grant        GM_setClipboard
// @connect      context.reviews
// @grant        GM_xmlhttpRequest
// ==/UserScript==

(function(){"use strict";function H(){}const rt=t=>t;function Tt(t,e){for(const n in e)t[n]=e[n];return t}function nn(t){return t()}function ln(){return Object.create(null)}function le(t){t.forEach(nn)}function Re(t){return typeof t=="function"}function Z(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function bs(t){return Object.keys(t).length===0}function at(t,...e){if(t==null)return H;const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function me(t){let e;return at(t,n=>e=n)(),e}function U(t,e,n){t.$$.on_destroy.push(at(e,n))}function $e(t,e,n,l){if(t){const s=sn(t,e,n,l);return t[0](s)}}function sn(t,e,n,l){return t[1]&&l?Tt(n.ctx.slice(),t[1](l(e))):n.ctx}function Se(t,e,n,l){if(t[2]&&l){const s=t[2](l(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],i=Math.max(e.dirty.length,s.length);for(let r=0;r<i;r+=1)o[r]=e.dirty[r]|s[r];return o}return e.dirty|s}return e.dirty}function Ae(t,e,n,l,s,o){if(s){const i=sn(e,n,l,o);t.p(i,s)}}function Ce(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let l=0;l<n;l++)e[l]=-1;return e}return-1}function Te(t){return t??""}function ze(t){return t&&Re(t.destroy)?t.destroy:H}const on=typeof window<"u";let jt=on?()=>window.performance.now():()=>Date.now(),Rt=on?t=>requestAnimationFrame(t):H;const Le=new Set;function rn(t){Le.forEach(e=>{e.c(t)||(Le.delete(e),e.f())}),Le.size!==0&&Rt(rn)}function Pt(t){let e;return Le.size===0&&Rt(rn),{promise:new Promise(n=>{Le.add(e={c:t,f:n})}),abort(){Le.delete(e)}}}function h(t,e){t.appendChild(e)}function an(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function gs(t){const e=v("style");return vs(an(t),e),e.sheet}function vs(t,e){return h(t.head||t,e),e.sheet}function w(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode&&t.parentNode.removeChild(t)}function he(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function ks(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function N(t){return document.createTextNode(t)}function A(){return N(" ")}function se(){return N("")}function M(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function ys(t){return function(e){return e.preventDefault(),t.call(this,e)}}function ws(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ut(t){return t===""?null:+t}function $s(t){return Array.from(t.childNodes)}function K(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function ae(t,e){t.value=e??""}function We(t,e,n,l){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function Q(t,e,n){t.classList[n?"add":"remove"](e)}function un(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(t,n,l,e),s}class cn{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,n,l=null){this.e||(this.is_svg?this.e=ks(n.nodeName):this.e=v(n.nodeName),this.t=n,this.c(e)),this.i(l)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let n=0;n<this.n.length;n+=1)w(this.t,this.n[n],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(y)}}const ct=new Map;let ft=0;function Ss(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function As(t,e){const n={stylesheet:gs(e),rules:{}};return ct.set(t,n),n}function fn(t,e,n,l,s,o,i,r=0){const a=16.666/l;let u=`{
`;for(let g=0;g<=1;g+=a){const $=e+(n-e)*o(g);u+=g*100+`%{${i($,1-$)}}
`}const c=u+`100% {${i(n,1-n)}}
}`,f=`__svelte_${Ss(c)}_${r}`,p=an(t),{stylesheet:d,rules:_}=ct.get(p)||As(p,t);_[f]||(_[f]=!0,d.insertRule(`@keyframes ${f} ${c}`,d.cssRules.length));const b=t.style.animation||"";return t.style.animation=`${b?`${b}, `:""}${f} ${l}ms linear ${s}ms 1 both`,ft+=1,f}function Ft(t,e){const n=(t.style.animation||"").split(", "),l=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),s=n.length-l.length;s&&(t.style.animation=l.join(", "),ft-=s,ft||Cs())}function Cs(){Rt(()=>{ft||(ct.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&y(e)}),ct.clear())})}let Ue;function Ye(t){Ue=t}function Mt(){if(!Ue)throw new Error("Function called outside component initialization");return Ue}function Nt(t){Mt().$$.on_mount.push(t)}function dn(t){Mt().$$.on_destroy.push(t)}function Pe(){const t=Mt();return(e,n,{cancelable:l=!1}={})=>{const s=t.$$.callbacks[e];if(s){const o=un(e,n,{cancelable:l});return s.slice().forEach(i=>{i.call(t,o)}),!o.defaultPrevented}return!0}}function re(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(l=>l.call(this,e))}const De=[],fe=[],dt=[],Et=[],pn=Promise.resolve();let It=!1;function _n(){It||(It=!0,pn.then(mn))}function Ts(){return _n(),pn}function Fe(t){dt.push(t)}function He(t){Et.push(t)}const Ot=new Set;let Ve=0;function mn(){if(Ve!==0)return;const t=Ue;do{try{for(;Ve<De.length;){const e=De[Ve];Ve++,Ye(e),js(e.$$)}}catch(e){throw De.length=0,Ve=0,e}for(Ye(null),De.length=0,Ve=0;fe.length;)fe.pop()();for(let e=0;e<dt.length;e+=1){const n=dt[e];Ot.has(n)||(Ot.add(n),n())}dt.length=0}while(De.length);for(;Et.length;)Et.pop()();It=!1,Ot.clear(),Ye(t)}function js(t){if(t.fragment!==null){t.update(),le(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Fe)}}let Je;function hn(){return Je||(Je=Promise.resolve(),Je.then(()=>{Je=null})),Je}function pt(t,e,n){t.dispatchEvent(un(`${e?"intro":"outro"}${n}`))}const _t=new Set;let je;function te(){je={r:0,c:[],p:je}}function ne(){je.r||le(je.c),je=je.p}function P(t,e){t&&t.i&&(_t.delete(t),t.i(e))}function F(t,e,n,l){if(t&&t.o){if(_t.has(t))return;_t.add(t),je.c.push(()=>{_t.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}const bn={duration:0};function gn(t,e,n){const l={direction:"in"};let s=e(t,n,l),o=!1,i,r,a=0;function u(){i&&Ft(t,i)}function c(){const{delay:p=0,duration:d=300,easing:_=rt,tick:b=H,css:g}=s||bn;g&&(i=fn(t,0,1,d,p,_,g,a++)),b(0,1);const $=jt()+p,R=$+d;r&&r.abort(),o=!0,Fe(()=>pt(t,!0,"start")),r=Pt(j=>{if(o){if(j>=R)return b(1,0),pt(t,!0,"end"),u(),o=!1;if(j>=$){const S=_((j-$)/d);b(S,1-S)}}return o})}let f=!1;return{start(){f||(f=!0,Ft(t),Re(s)?(s=s(l),hn().then(c)):c())},invalidate(){f=!1},end(){o&&(u(),o=!1)}}}function Rs(t,e,n){const l={direction:"out"};let s=e(t,n,l),o=!0,i;const r=je;r.r+=1;function a(){const{delay:u=0,duration:c=300,easing:f=rt,tick:p=H,css:d}=s||bn;d&&(i=fn(t,1,0,c,u,f,d));const _=jt()+u,b=_+c;Fe(()=>pt(t,!1,"start")),Pt(g=>{if(o){if(g>=b)return p(0,1),pt(t,!1,"end"),--r.r||le(r.c),!1;if(g>=_){const $=f((g-_)/c);p(1-$,$)}}return o})}return Re(s)?hn().then(()=>{s=s(l),a()}):a(),{end(u){u&&s.tick&&s.tick(1,0),o&&(i&&Ft(t,i),o=!1)}}}function mt(t,e){t.d(1),e.delete(t.key)}function Xe(t,e){F(t,1,1,()=>{e.delete(t.key)})}function be(t,e,n,l,s,o,i,r,a,u,c,f){let p=t.length,d=o.length,_=p;const b={};for(;_--;)b[t[_].key]=_;const g=[],$=new Map,R=new Map;for(_=d;_--;){const k=f(s,o,_),C=n(k);let G=i.get(C);G?l&&G.p(k,e):(G=u(C,k),G.c()),$.set(C,g[_]=G),C in b&&R.set(C,Math.abs(_-b[C]))}const j=new Set,S=new Set;function T(k){P(k,1),k.m(r,c),i.set(k.key,k),c=k.first,d--}for(;p&&d;){const k=g[d-1],C=t[p-1],G=k.key,z=C.key;k===C?(c=k.first,p--,d--):$.has(z)?!i.has(G)||j.has(G)?T(k):S.has(z)?p--:R.get(G)>R.get(z)?(S.add(G),T(k)):(j.add(z),p--):(a(C,i),p--)}for(;p--;){const k=t[p];$.has(k.key)||a(k,i)}for(;d;)T(g[d-1]);return g}function Ge(t,e,n){const l=t.$$.props[e];l!==void 0&&(t.$$.bound[l]=n,n(t.$$.ctx[l]))}function W(t){t&&t.c()}function B(t,e,n,l){const{fragment:s,after_update:o}=t.$$;s&&s.m(e,n),l||Fe(()=>{const i=t.$$.on_mount.map(nn).filter(Re);t.$$.on_destroy?t.$$.on_destroy.push(...i):le(i),t.$$.on_mount=[]}),o.forEach(Fe)}function q(t,e){const n=t.$$;n.fragment!==null&&(le(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ps(t,e){t.$$.dirty[0]===-1&&(De.push(t),_n(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function x(t,e,n,l,s,o,i,r=[-1]){const a=Ue;Ye(t);const u=t.$$={fragment:null,ctx:[],props:o,update:H,not_equal:s,bound:ln(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ln(),dirty:r,skip_bound:!1,root:e.target||a.$$.root};i&&i(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(f,p,...d)=>{const _=d.length?d[0]:p;return u.ctx&&s(u.ctx[f],u.ctx[f]=_)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](_),c&&Ps(t,f)),p}):[],u.update(),c=!0,le(u.before_update),u.fragment=l?l(u.ctx):!1,e.target){if(e.hydrate){const f=$s(e.target);u.fragment&&u.fragment.l(f),f.forEach(y)}else u.fragment&&u.fragment.c();e.intro&&P(t.$$.fragment),B(t,e.target,e.anchor,e.customElement),mn()}Ye(a)}class ee{$destroy(){q(this,1),this.$destroy=H}$on(e,n){if(!Re(n))return H;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const s=l.indexOf(n);s!==-1&&l.splice(s,1)}}$set(e){this.$$set&&!bs(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Be=[];function zt(t,e){return{subscribe:de(t,e).subscribe}}function de(t,e=H){let n;const l=new Set;function s(r){if(Z(t,r)&&(t=r,n)){const a=!Be.length;for(const u of l)u[1](),Be.push(u,t);if(a){for(let u=0;u<Be.length;u+=2)Be[u][0](Be[u+1]);Be.length=0}}}function o(r){s(r(t))}function i(r,a=H){const u=[r,a];return l.add(u),l.size===1&&(n=e(s)||H),r(t),()=>{l.delete(u),l.size===0&&(n(),n=null)}}return{set:s,update:o,subscribe:i}}function ge(t,e,n){const l=!Array.isArray(t),s=l?[t]:t,o=e.length<2;return zt(n,i=>{let r=!1;const a=[];let u=0,c=H;const f=()=>{if(u)return;c();const d=e(l?a[0]:a,i);o?i(d):c=Re(d)?d:H},p=s.map((d,_)=>at(d,b=>{a[_]=b,u&=~(1<<_),r&&f()},()=>{u|=1<<_}));return r=!0,f(),function(){le(p),c()}})}let Fs=0;const Ms=()=>`sx-gen-id-${Fs++}`,Ns=t=>{Ts().then(()=>{t.focus()})},kr="";function Es(t){let e,n,l;const s=t[2].default,o=$e(s,t,t[1],null);return{c(){e=v("div"),n=v("div"),o&&o.c(),m(n,"class","portal-content"),m(e,"class","portal-initial-mount-point svelte-1ok4co")},m(i,r){w(i,e,r),h(e,n),o&&o.m(n,null),t[3](n),l=!0},p(i,[r]){o&&o.p&&(!l||r&2)&&Ae(o,s,i,i[1],l?Se(s,i[1],r,null):Ce(i[1]),null)},i(i){l||(P(o,i),l=!0)},o(i){F(o,i),l=!1},d(i){i&&y(e),o&&o.d(i),t[3](null)}}}function Is(t,e,n){let{$$slots:l={},$$scope:s}=e,o,i;Nt(()=>{i=document.createElement("div"),i.className="portal-mount",document.body.appendChild(i),i.appendChild(o)}),dn(()=>{i.remove()});function r(a){fe[a?"unshift":"push"](()=>{o=a,n(0,o)})}return t.$$set=a=>{"$$scope"in a&&n(1,s=a.$$scope)},[o,s,l,r]}class Os extends ee{constructor(e){super(),x(this,e,Is,Es,Z,{})}}const yr="";function zs(t){let e,n,l,s,o,i,r,a,u,c,f;const p=t[4].default,d=$e(p,t,t[6],null);return{c(){e=v("div"),n=v("div"),l=v("div"),s=v("h1"),o=N(t[0]),i=A(),r=v("button"),r.innerHTML=`×
					<span class="sr-only">Close modal</span>`,a=A(),d&&d.c(),m(s,"class","svelte-1vzg2uj"),m(r,"class","close svelte-1vzg2uj"),m(l,"class","modal-title header svelte-1vzg2uj"),m(n,"class","modal panel svelte-1vzg2uj"),m(e,"class","overlay svelte-1vzg2uj")},m(_,b){w(_,e,b),h(e,n),h(n,l),h(l,s),h(s,o),h(l,i),h(l,r),h(n,a),d&&d.m(n,null),u=!0,c||(f=[M(r,"click",t[1]),M(n,"click",ws(t[5])),M(n,"keydown",t[2]),M(e,"click",t[1]),M(e,"keydown",t[2])],c=!0)},p(_,b){(!u||b&1)&&K(o,_[0]),d&&d.p&&(!u||b&64)&&Ae(d,p,_,_[6],u?Se(p,_[6],b,null):Ce(_[6]),null)},i(_){u||(P(d,_),u=!0)},o(_){F(d,_),u=!1},d(_){_&&y(e),d&&d.d(_),c=!1,le(f)}}}function Ls(t){let e,n;return e=new Os({props:{$$slots:{default:[zs]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(l,s){B(e,l,s),n=!0},p(l,[s]){const o={};s&65&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function Ds(t,e,n){let{$$slots:l={},$$scope:s}=e,{title:o=""}=e,{visible:i=!1}=e;const r=Pe();function a(){n(3,i=!1),r("closed")}function u(f){f.key==="Escape"&&n(3,i=!1)}function c(f){re.call(this,t,f)}return t.$$set=f=>{"title"in f&&n(0,o=f.title),"visible"in f&&n(3,i=f.visible),"$$scope"in f&&n(6,s=f.$$scope)},[o,a,u,i,l,c,s]}class vn extends ee{constructor(e){super(),x(this,e,Ds,Ls,Z,{title:0,visible:3})}}const wr="",$r="",Sr="",Ar="",Cr="",Tr="",jr="",Rr="",Pr="",Fr="",Mr="",Hs=t=>({}),kn=t=>({});function Vs(t){let e,n,l,s;return{c(){e=v("input"),m(e,"id",n="text-input-"+t[3]),m(e,"type","email"),m(e,"name",t[4]),m(e,"placeholder",t[2]),m(e,"autocomplete",t[5]),m(e,"class","svelte-14gkwni")},m(o,i){w(o,e,i),ae(e,t[0]),t[39](e),l||(s=[M(e,"input",t[38]),ze(t[9].call(null,e)),M(e,"focus",t[40]),M(e,"blur",t[41]),M(e,"keyup",t[23]),M(e,"keydown",t[24]),M(e,"keypress",t[25])],l=!0)},p(o,i){i[0]&8&&n!==(n="text-input-"+o[3])&&m(e,"id",n),i[0]&16&&m(e,"name",o[4]),i[0]&4&&m(e,"placeholder",o[2]),i[0]&32&&m(e,"autocomplete",o[5]),i[0]&1&&e.value!==o[0]&&ae(e,o[0])},d(o){o&&y(e),t[39](null),l=!1,le(s)}}}function Gs(t){let e,n,l,s;return{c(){e=v("input"),m(e,"id",n="text-input-"+t[3]),m(e,"type","password"),m(e,"name",t[4]),m(e,"placeholder",t[2]),m(e,"autocomplete",t[5]),m(e,"class","svelte-14gkwni")},m(o,i){w(o,e,i),ae(e,t[0]),t[35](e),l||(s=[M(e,"input",t[34]),ze(t[9].call(null,e)),M(e,"focus",t[36]),M(e,"blur",t[37]),M(e,"keyup",t[20]),M(e,"keydown",t[21]),M(e,"keypress",t[22])],l=!0)},p(o,i){i[0]&8&&n!==(n="text-input-"+o[3])&&m(e,"id",n),i[0]&16&&m(e,"name",o[4]),i[0]&4&&m(e,"placeholder",o[2]),i[0]&32&&m(e,"autocomplete",o[5]),i[0]&1&&e.value!==o[0]&&ae(e,o[0])},d(o){o&&y(e),t[35](null),l=!1,le(s)}}}function Bs(t){let e,n,l,s;return{c(){e=v("input"),m(e,"id",n="text-input-"+t[3]),m(e,"type","number"),m(e,"name",t[4]),m(e,"placeholder",t[2]),m(e,"autocomplete",t[5]),m(e,"class","svelte-14gkwni")},m(o,i){w(o,e,i),ae(e,t[0]),t[31](e),l||(s=[M(e,"input",t[30]),ze(t[9].call(null,e)),M(e,"focus",t[32]),M(e,"blur",t[33]),M(e,"keyup",t[17]),M(e,"keydown",t[18]),M(e,"keypress",t[19])],l=!0)},p(o,i){i[0]&8&&n!==(n="text-input-"+o[3])&&m(e,"id",n),i[0]&16&&m(e,"name",o[4]),i[0]&4&&m(e,"placeholder",o[2]),i[0]&32&&m(e,"autocomplete",o[5]),i[0]&1&&ut(e.value)!==o[0]&&ae(e,o[0])},d(o){o&&y(e),t[31](null),l=!1,le(s)}}}function qs(t){let e,n,l,s;return{c(){e=v("input"),m(e,"id",n="text-input-"+t[3]),m(e,"type","text"),m(e,"name",t[4]),m(e,"placeholder",t[2]),m(e,"autocomplete",t[5]),m(e,"class","svelte-14gkwni")},m(o,i){w(o,e,i),ae(e,t[0]),t[27](e),l||(s=[M(e,"input",t[26]),ze(t[9].call(null,e)),M(e,"focus",t[28]),M(e,"blur",t[29]),M(e,"keyup",t[14]),M(e,"keydown",t[15]),M(e,"keypress",t[16])],l=!0)},p(o,i){i[0]&8&&n!==(n="text-input-"+o[3])&&m(e,"id",n),i[0]&16&&m(e,"name",o[4]),i[0]&4&&m(e,"placeholder",o[2]),i[0]&32&&m(e,"autocomplete",o[5]),i[0]&1&&e.value!==o[0]&&ae(e,o[0])},d(o){o&&y(e),t[27](null),l=!1,le(s)}}}function Ws(t){let e,n,l,s,o,i;function r(_,b){if(_[6]==="text")return qs;if(_[6]==="number")return Bs;if(_[6]==="password")return Gs;if(_[6]==="email")return Vs}let a=r(t),u=a&&a(t);const c=t[13].default,f=$e(c,t,t[12],null),p=t[13].append,d=$e(p,t,t[12],kn);return{c(){e=v("div"),u&&u.c(),n=A(),l=v("label"),f&&f.c(),o=A(),d&&d.c(),m(l,"for",s="text-input-"+t[3]),m(l,"class","svelte-14gkwni"),m(e,"class","input-group svelte-14gkwni"),Q(e,"focused",t[7]),Q(e,"muted-label",!t[8]),Q(e,"emphasized-label",t[8])},m(_,b){w(_,e,b),u&&u.m(e,null),h(e,n),h(e,l),f&&f.m(l,null),h(e,o),d&&d.m(e,null),i=!0},p(_,b){a===(a=r(_))&&u?u.p(_,b):(u&&u.d(1),u=a&&a(_),u&&(u.c(),u.m(e,n))),f&&f.p&&(!i||b[0]&4096)&&Ae(f,c,_,_[12],i?Se(c,_[12],b,null):Ce(_[12]),null),(!i||b[0]&8&&s!==(s="text-input-"+_[3]))&&m(l,"for",s),d&&d.p&&(!i||b[0]&4096)&&Ae(d,p,_,_[12],i?Se(p,_[12],b,Hs):Ce(_[12]),kn),(!i||b[0]&128)&&Q(e,"focused",_[7]),(!i||b[0]&256)&&Q(e,"muted-label",!_[8]),(!i||b[0]&256)&&Q(e,"emphasized-label",_[8])},i(_){i||(P(f,_),P(d,_),i=!0)},o(_){F(f,_),F(d,_),i=!1},d(_){_&&y(e),u&&u.d(),f&&f.d(_),d&&d.d(_)}}}function Us(t,e,n){let l,{$$slots:s={},$$scope:o}=e,{value:i}=e,{placeholder:r=""}=e,{id:a=Ms()}=e,{name:u=""}=e,{autocomplete:c="off"}=e,{autofocus:f=!1}=e,{autoselect:p=!1}=e,{type:d="text"}=e,{inputElement:_=void 0}=e,b;if(!a)throw new Error("'id' not provided for text input.");function g(L){f&&Ns(L),p&&L.select()}function $(L){re.call(this,t,L)}function R(L){re.call(this,t,L)}function j(L){re.call(this,t,L)}function S(L){re.call(this,t,L)}function T(L){re.call(this,t,L)}function k(L){re.call(this,t,L)}function C(L){re.call(this,t,L)}function G(L){re.call(this,t,L)}function z(L){re.call(this,t,L)}function Y(L){re.call(this,t,L)}function E(L){re.call(this,t,L)}function O(L){re.call(this,t,L)}function I(){i=this.value,n(0,i)}function V(L){fe[L?"unshift":"push"](()=>{_=L,n(1,_)})}const ue=()=>n(7,b=!0),J=()=>n(7,b=!1);function st(){i=ut(this.value),n(0,i)}function St(L){fe[L?"unshift":"push"](()=>{_=L,n(1,_)})}const At=()=>n(7,b=!0),Ct=()=>n(7,b=!1);function ce(){i=this.value,n(0,i)}function qe(L){fe[L?"unshift":"push"](()=>{_=L,n(1,_)})}const it=()=>n(7,b=!0),Ee=()=>n(7,b=!1);function we(){i=this.value,n(0,i)}function ot(L){fe[L?"unshift":"push"](()=>{_=L,n(1,_)})}const Ie=()=>n(7,b=!0),Oe=()=>n(7,b=!1);return t.$$set=L=>{"value"in L&&n(0,i=L.value),"placeholder"in L&&n(2,r=L.placeholder),"id"in L&&n(3,a=L.id),"name"in L&&n(4,u=L.name),"autocomplete"in L&&n(5,c=L.autocomplete),"autofocus"in L&&n(10,f=L.autofocus),"autoselect"in L&&n(11,p=L.autoselect),"type"in L&&n(6,d=L.type),"inputElement"in L&&n(1,_=L.inputElement),"$$scope"in L&&n(12,o=L.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&129&&n(8,l=(i===""||i===null)&&!b)},[i,_,r,a,u,c,d,b,l,g,f,p,o,s,$,R,j,S,T,k,C,G,z,Y,E,O,I,V,ue,J,st,St,At,Ct,ce,qe,it,Ee,we,ot,Ie,Oe]}class Ys extends ee{constructor(e){super(),x(this,e,Us,Ws,Z,{value:0,placeholder:2,id:3,name:4,autocomplete:5,autofocus:10,autoselect:11,type:6,inputElement:1},null,[-1,-1])}}function yn(t,e,n){const l=t.slice();return l[3]=e[n],l}function wn(t){let e,n,l=t[3].title+"",s,o,i,r,a,u,c;function f(){return t[2](t[3])}return{c(){e=v("li"),n=v("button"),s=N(l),a=A(),m(n,"role","tab"),m(n,"id",o="tab-"+t[3].id),m(n,"aria-selected",i=t[0]===t[3].id),m(n,"aria-controls",r="tab-content-"+t[3].id),Q(n,"selected",t[0]===t[3].id)},m(p,d){w(p,e,d),h(e,n),h(n,s),h(e,a),u||(c=M(n,"click",f),u=!0)},p(p,d){t=p,d&2&&l!==(l=t[3].title+"")&&K(s,l),d&2&&o!==(o="tab-"+t[3].id)&&m(n,"id",o),d&3&&i!==(i=t[0]===t[3].id)&&m(n,"aria-selected",i),d&2&&r!==(r="tab-content-"+t[3].id)&&m(n,"aria-controls",r),d&3&&Q(n,"selected",t[0]===t[3].id)},d(p){p&&y(e),u=!1,c()}}}function Js(t){let e,n=t[1],l=[];for(let s=0;s<n.length;s+=1)l[s]=wn(yn(t,n,s));return{c(){e=v("ul");for(let s=0;s<l.length;s+=1)l[s].c();m(e,"role","tablist"),m(e,"class","tab-list")},m(s,o){w(s,e,o);for(let i=0;i<l.length;i+=1)l[i].m(e,null)},p(s,[o]){if(o&3){n=s[1];let i;for(i=0;i<n.length;i+=1){const r=yn(s,n,i);l[i]?l[i].p(r,o):(l[i]=wn(r),l[i].c(),l[i].m(e,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},i:H,o:H,d(s){s&&y(e),he(l,s)}}}function Xs(t,e,n){let{tabs:l}=e,{selectedTab:s=l[0].id}=e;const o=i=>n(0,s=i.id);return t.$$set=i=>{"tabs"in i&&n(1,l=i.tabs),"selectedTab"in i&&n(0,s=i.selectedTab)},[s,l,o]}class $n extends ee{constructor(e){super(),x(this,e,Xs,Js,Z,{tabs:1,selectedTab:0})}}const Nr="";function Sn(t){let e;const n=t[4].default,l=$e(n,t,t[3],null);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,o){l&&l.p&&(!e||o&8)&&Ae(l,n,s,s[3],e?Se(n,s[3],o,null):Ce(s[3]),null)},i(s){e||(P(l,s),e=!0)},o(s){F(l,s),e=!1},d(s){l&&l.d(s)}}}function Ks(t){let e,n,l,s,o=t[1]&&Sn(t);return{c(){e=v("div"),o&&o.c(),m(e,"class","tab svelte-g9bv3d"),m(e,"id",n="tab-content-"+t[0]),m(e,"aria-labelledby",l="tab-"+t[0]),m(e,"role","tabpanel"),Q(e,"selected",t[1])},m(i,r){w(i,e,r),o&&o.m(e,null),s=!0},p(i,[r]){i[1]?o?(o.p(i,r),r&2&&P(o,1)):(o=Sn(i),o.c(),P(o,1),o.m(e,null)):o&&(te(),F(o,1,1,()=>{o=null}),ne()),(!s||r&1&&n!==(n="tab-content-"+i[0]))&&m(e,"id",n),(!s||r&1&&l!==(l="tab-"+i[0]))&&m(e,"aria-labelledby",l),(!s||r&2)&&Q(e,"selected",i[1])},i(i){s||(P(o),s=!0)},o(i){F(o),s=!1},d(i){i&&y(e),o&&o.d()}}}function Zs(t,e,n){let l,{$$slots:s={},$$scope:o}=e,{tabId:i}=e,{selectedTab:r}=e;return t.$$set=a=>{"tabId"in a&&n(0,i=a.tabId),"selectedTab"in a&&n(2,r=a.selectedTab),"$$scope"in a&&n(3,o=a.$$scope)},t.$$.update=()=>{t.$$.dirty&5&&n(1,l=r===i)},[i,l,r,o,s]}class Ke extends ee{constructor(e){super(),x(this,e,Zs,Ks,Z,{tabId:0,selectedTab:2})}}const Er="",Ir="";function Qs(t){let e;const n=t[1].default,l=$e(n,t,t[0],null);return{c(){l&&l.c()},m(s,o){l&&l.m(s,o),e=!0},p(s,[o]){l&&l.p&&(!e||o&1)&&Ae(l,n,s,s[0],e?Se(n,s[0],o,null):Ce(s[0]),null)},i(s){e||(P(l,s),e=!0)},o(s){F(l,s),e=!1},d(s){l&&l.d(s)}}}function xs(t,e,n){let{$$slots:l={},$$scope:s}=e;return t.$$set=o=>{"$$scope"in o&&n(0,s=o.$$scope)},[s,l]}class ei extends ee{constructor(e){super(),x(this,e,xs,Qs,Z,{})}}const Or="";function ti(t){let e,n,l,s,o,i,r,a;const u=t[9].default,c=$e(u,t,t[8],null);return{c(){e=v("fieldset"),n=v("legend"),l=v("span"),s=N(t[0]),i=A(),c&&c.c(),m(l,"class","svelte-1vn20zt"),m(n,"class",o=Te(t[2])+" svelte-1vn20zt"),m(n,"title",t[0]),m(e,"class",r="size-"+t[5]+" variant-"+t[6]+" "+t[1]+" svelte-1vn20zt"),e.disabled=t[7],Q(e,"centeredLegend",t[3]),Q(e,"mutedLegend",t[4])},m(f,p){w(f,e,p),h(e,n),h(n,l),h(l,s),h(e,i),c&&c.m(e,null),a=!0},p(f,[p]){(!a||p&1)&&K(s,f[0]),(!a||p&4&&o!==(o=Te(f[2])+" svelte-1vn20zt"))&&m(n,"class",o),(!a||p&1)&&m(n,"title",f[0]),c&&c.p&&(!a||p&256)&&Ae(c,u,f,f[8],a?Se(u,f[8],p,null):Ce(f[8]),null),(!a||p&98&&r!==(r="size-"+f[5]+" variant-"+f[6]+" "+f[1]+" svelte-1vn20zt"))&&m(e,"class",r),(!a||p&128)&&(e.disabled=f[7]),(!a||p&106)&&Q(e,"centeredLegend",f[3]),(!a||p&114)&&Q(e,"mutedLegend",f[4])},i(f){a||(P(c,f),a=!0)},o(f){F(c,f),a=!1},d(f){f&&y(e),c&&c.d(f)}}}function ni(t,e,n){let{$$slots:l={},$$scope:s}=e,{legend:o}=e,{fieldsetClasses:i=""}=e,{legendClasses:r=""}=e,{centeredLegend:a=!1}=e,{mutedLegend:u=!1}=e,{size:c="normal"}=e,{variant:f="box"}=e,{disabled:p=!1}=e;return t.$$set=d=>{"legend"in d&&n(0,o=d.legend),"fieldsetClasses"in d&&n(1,i=d.fieldsetClasses),"legendClasses"in d&&n(2,r=d.legendClasses),"centeredLegend"in d&&n(3,a=d.centeredLegend),"mutedLegend"in d&&n(4,u=d.mutedLegend),"size"in d&&n(5,c=d.size),"variant"in d&&n(6,f=d.variant),"disabled"in d&&n(7,p=d.disabled),"$$scope"in d&&n(8,s=d.$$scope)},[o,i,r,a,u,c,f,p,s,l]}class Lt extends ee{constructor(e){super(),x(this,e,ni,ti,Z,{legend:0,fieldsetClasses:1,legendClasses:2,centeredLegend:3,mutedLegend:4,size:5,variant:6,disabled:7})}}const zr="",Lr="",Dr="",An="settings-store",Cn={subtitleFallbackColor:"#FFFFFF",showSubtitlesOnVideo:!0,pauseWhenTrayOpen:!0,invertVerticalAlignment:!0,autoCopySubtitles:!1,globalFontScale:1,subtitleClickAction:"jisho",aspectRatio:"auto"},Dt=Object.assign({},Cn,GM_getValue(An,{})),ve={};Object.keys(Cn).forEach(t=>{(ve[t]=de(Dt[t])).subscribe(n=>{Dt[t]=n,GM_setValue(An,Dt)})});const ht=ve.subtitleFallbackColor,Ze=ve.showSubtitlesOnVideo,bt=ve.pauseWhenTrayOpen,Qe=ve.invertVerticalAlignment,Ht=ve.autoCopySubtitles,Vt=ve.globalFontScale,xe=ve.subtitleClickAction,Gt=ve.aspectRatio;function Tn(t){const e=t-1;return e*e*e+1}function jn(t){return Object.prototype.toString.call(t)==="[object Date]"}function Bt(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const l=e.map((s,o)=>Bt(t[o],s));return s=>l.map(o=>o(s))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(jn(t)&&jn(e)){t=t.getTime(),e=e.getTime();const o=e-t;return i=>new Date(t+i*o)}const l=Object.keys(e),s={};return l.forEach(o=>{s[o]=Bt(t[o],e[o])}),o=>{const i={};return l.forEach(r=>{i[r]=s[r](o)}),i}}if(n==="number"){const l=e-t;return s=>t+s*l}throw new Error(`Cannot interpolate ${n} values`)}function li(t,e={}){const n=de(t);let l,s=t;function o(i,r){if(t==null)return n.set(t=i),Promise.resolve();s=i;let a=l,u=!1,{delay:c=0,duration:f=400,easing:p=rt,interpolate:d=Bt}=Tt(Tt({},e),r);if(f===0)return a&&(a.abort(),a=null),n.set(t=s),Promise.resolve();const _=jt()+c;let b;return l=Pt(g=>{if(g<_)return!0;u||(b=d(t,i),typeof f=="function"&&(f=f(t,i)),u=!0),a&&(a.abort(),a=null);const $=g-_;return $>f?(n.set(t=i),!1):(n.set(t=b(p($/f))),!0)}),l.promise}return{set:o,update:(i,r)=>o(i(s,t),r),subscribe:n.subscribe}}const si=50,qt=de([]);let ii=1;function Wt(t){qt.update(e=>[...e.filter(n=>n.id!==t.id),{...t,ttl:t.duration,id:t.id||ii++}])}let Rn=Date.now();setInterval(()=>{const t=Date.now(),e=t-Rn;Rn=t,qt.update(n=>n.map(l=>({...l,ttl:l.ttl-e})).filter(l=>l.ttl>0))},si);const Pn=()=>`last-used-alignment-${Ut}`,Fn=()=>`alignment-history-${Ut}`,oi=5;let Ut="";const gt=1e3,vt=200,pe=de(null),Yt=de(!1),Mn=t=>{pe.update(e=>{const n=e+t;return et.update(l=>[Nn(n),...l.slice(1)]),Wt({id:"fine-adjust-in-place",message:`Alignment: ${On(n/1e3)}`,duration:1e3,variant:"info"}),n})},et=de([]),Jt=ge(et,t=>t.slice(1)),Me=de("");Me.subscribe(t=>{Ut=t;const e=GM_getValue(Pn());et.set(GM_getValue(Fn(),[])),pe.set(e),Yt.set(typeof e=="number")}),pe.subscribe(t=>{GM_setValue(Pn(),t),Yt.set(typeof t=="number")});const Xt=t=>{t!==null&&et.update((e=[])=>[Nn(t),...e.filter(n=>n.alignment!==t)].slice(0,oi))};et.subscribe(t=>{GM_setValue(Fn(),t)});function Nn(t){return{alignment:t,signed:En(t)}}function En(t){const e=parseFloat((t/1e3).toFixed(2));return e>0?`+${e}`:""+e}const In=ge(pe,t=>parseFloat((t/1e3).toFixed(2))),ri=ge(pe,t=>En(t));function On(t){if(t===0)return"using video timing";const e=Math.abs(t)===1?"":"s";return t>0?`delayed by ${t} second${e}`:`hastened by ${Math.abs(t)} second${e}`}const kt=ge(In,t=>On(t)),Hr="";function ai(t){let e,n,l,s,o,i,r,a,u,c,f,p,d,_,b,g,$,R,j,S,T,k,C,G,z,Y;return{c(){e=v("div"),n=v("h1"),n.textContent="Fine Adjustment",l=A(),s=v("p"),o=N(`Play the video and use these adjustment buttons until the subtitles show at the right time.
		`),i=v("br"),r=A(),a=v("strong"),u=N("Subtitles are "),c=N(t[0]),f=A(),p=v("p"),p.textContent="Do the subtitles show...",d=A(),_=v("button"),_.textContent="Way too late?",b=A(),g=v("button"),g.textContent="Too late?",$=A(),R=v("button"),R.textContent="Too early?",j=A(),S=v("button"),S.textContent="Way too early?",T=A(),k=v("br"),C=A(),G=v("button"),G.textContent="Done",m(n,"class","m-3"),m(s,"class","mt-0"),m(_,"class","secondary"),m(g,"class","secondary"),m(R,"class","secondary"),m(S,"class","secondary"),m(G,"class","primary mt-4"),m(e,"class","fine-align panel p-3 svelte-8v3i6j")},m(E,O){w(E,e,O),h(e,n),h(e,l),h(e,s),h(s,o),h(s,i),h(s,r),h(s,a),h(a,u),h(a,c),h(e,f),h(e,p),h(e,d),h(e,_),h(e,b),h(e,g),h(e,$),h(e,R),h(e,j),h(e,S),h(e,T),h(e,k),h(e,C),h(e,G),z||(Y=[M(_,"click",t[1](-1*gt)),M(g,"click",t[1](-1*vt)),M(R,"click",t[1](vt)),M(S,"click",t[1](gt)),M(G,"click",t[2])],z=!0)},p(E,[O]){O&1&&K(c,E[0])},i:H,o:H,d(E){E&&y(e),z=!1,le(Y)}}}function ui(t,e,n){let l;U(t,kt,r=>n(0,l=r));const s=r=>()=>{pe.update(a=>a+r)},o=Pe();function i(){Xt(me(pe)),o("close")}return[l,s,i]}class ci extends ee{constructor(e){super(),x(this,e,ui,ai,Z,{})}}function fi(){return document.querySelector("video")}const di=zt(0,t=>{let e;function n(){e=requestAnimationFrame(n);const l=fi();l&&t(l.currentTime)}return n(),()=>{cancelAnimationFrame(e)}}),yt=de(!0),pi=2500;let zn;function Ln(){yt.set(!0),clearTimeout(zn),zn=setTimeout(()=>{yt.set(!1)},pi)}document.addEventListener("keydown",Ln),document.addEventListener("mousemove",Ln);function Dn(t,{delay:e=0,duration:n=400,easing:l=rt}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:l,css:o=>`opacity: ${o*s}`}}function _i(t,{delay:e=0,duration:n=400,easing:l=Tn,x:s=0,y:o=0,opacity:i=0}={}){const r=getComputedStyle(t),a=+r.opacity,u=r.transform==="none"?"":r.transform,c=a*(1-i);return{delay:e,duration:n,easing:l,css:(f,p)=>`
			transform: ${u} translate(${(1-f)*s}px, ${(1-f)*o}px);
			opacity: ${a-c*p}`}}function Hn(){return{overrideGlobalFontScale:!1,fontScale:1,overrideGlobalAspectRatio:!1,aspectRatio:"auto"}}function Vn(t){return`show-based-settings-${t}`}const Kt=ge(Me,t=>!!t),ke=de(Hn());let Zt=!1;ke.subscribe(t=>{if(!Zt){const e=me(Me);GM_setValue(Vn(e),t)}}),Me.subscribe(t=>{const e=Hn();Zt=!0,ke.set({...e,...GM_getValue(Vn(t),{})}),Zt=!1});const Qt="user-paused";function Gn(t){document.querySelector("video").currentTime=Math.max(0,(t+me(pe))/1e3-.5)}class mi{constructor(){this.video=null,this.reasons=[]}setVideo(e){this.reasons=[],this.video=e}addPauser(e){this.reasons.includes(Qt)&&!this.video.paused&&this.reasons.splice(this.reasons.indexOf(Qt)),this.reasons.length===0&&this.video.paused&&this.reasons.push(Qt),this.reasons.includes(e)||this.reasons.push(e),this._checkPause()}removePauser(e){const n=this.reasons.indexOf(e);n!==-1&&(this.reasons.splice(n,1),this._checkPause())}_checkPause(){this.reasons.length?this.video.pause():this.video.play()}}const tt=new mi;function wt(t){return t.filter(e=>!!e).join(";")}const Bn=ge([Vt,Kt,ke],([t,e,n])=>e&&n.overrideGlobalFontScale?n.fontScale:t),qn=ge(xe,t=>["jisho","copy","context.reviews"].includes(t));function nt(t){if(t.length===0)return;const e=t.join("").trim();switch(me(xe)){case"jisho":window.open(`https://jisho.org/search/${encodeURIComponent(e)}`),tt.addPauser("define");break;case"copy":hi(e);break;case"context.reviews":bi(t);break}}function hi(t){const e=document.createElement("input");document.body.appendChild(e),e.value=t,e.select(),document.execCommand("copy"),e.remove()}function bi(t){GM_xmlhttpRequest({url:"https://context.reviews/phrases/add?jimakuplayer=1",method:"POST",headers:{"Content-Type":"application/json"},data:JSON.stringify({phraseText:t}),onload:e=>{e.status===200?Wt({duration:500,variant:"info",message:"Subtitle saved to Context.Reviews"}):Wt({duration:1e3,variant:"error",message:"Failed to save to Context.Reviews. Are you logged in?"})}})}const Wn=ge([Gt,Kt,ke],([t,e,n])=>e&&n.overrideGlobalAspectRatio?n.aspectRatio:t);function Un(t){return t==="4:3"?4/3:16/9}const Vr="";function Yn(t,e,n){const l=t.slice();return l[4]=e[n],l}function Jn(t){let e;return{c(){e=v("p"),e.textContent="No subtitles yet!",m(e,"class","muted text-align-center svelte-1sbqwdd")},m(n,l){w(n,e,l)},p:H,d(n){n&&y(e)}}}function gi(t){let e,n=t[4].text.trim()+"",l,s,o;function i(){return t[2](t[4])}return{c(){e=v("button"),l=N(n),m(e,"class","a svelte-1sbqwdd")},m(r,a){w(r,e,a),h(e,l),s||(o=M(e,"click",i),s=!0)},p(r,a){t=r,a&1&&n!==(n=t[4].text.trim()+"")&&K(l,n)},d(r){r&&y(e),s=!1,o()}}}function vi(t){let e=t[4].text.trim()+"",n;return{c(){n=N(e)},m(l,s){w(l,n,s)},p(l,s){s&1&&e!==(e=l[4].text.trim()+"")&&K(n,e)},d(l){l&&y(n)}}}function Xn(t,e){let n,l,s,o,i,r,a,u,c;function f(b,g){return b[1]==="nothing"?vi:gi}let p=f(e),d=p(e);function _(){return e[3](e[4])}return{key:t,first:null,c(){n=v("li"),l=v("div"),d.c(),s=A(),o=v("div"),i=v("button"),i.innerHTML='⯇<span class="sr">Rewind to this subtitle</span>',r=A(),m(l,"class","subtitle f-1 svelte-1sbqwdd"),m(i,"class","small-button secondary"),m(i,"title","Rewind to this subtitle"),m(o,"class","rewind"),m(n,"class","mb-3 f-row"),this.first=n},m(b,g){w(b,n,g),h(n,l),d.m(l,null),h(n,s),h(n,o),h(o,i),h(n,r),u||(c=M(i,"click",_),u=!0)},p(b,g){e=b,p===(p=f(e))&&d?d.p(e,g):(d.d(1),d=p(e),d&&(d.c(),d.m(l,null)))},i(b){a||Fe(()=>{a=gn(n,_i,{y:-50,duration:100}),a.start()})},o:H,d(b){b&&y(n),d.d(),u=!1,c()}}}function ki(t){let e,n=[],l=new Map,s=t[0];const o=r=>r[4]._id;for(let r=0;r<s.length;r+=1){let a=Yn(t,s,r),u=o(a);l.set(u,n[r]=Xn(u,a))}let i=null;return s.length||(i=Jn()),{c(){e=v("ul");for(let r=0;r<n.length;r+=1)n[r].c();i&&i.c(),m(e,"id","recent-subs"),m(e,"class","svelte-1sbqwdd")},m(r,a){w(r,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);i&&i.m(e,null)},p(r,[a]){a&3&&(s=r[0],n=be(n,a,o,1,r,s,l,e,mt,Xn,null,Yn),!s.length&&i?i.p(r,a):s.length?i&&(i.d(1),i=null):(i=Jn(),i.c(),i.m(e,null)))},i(r){for(let a=0;a<s.length;a+=1)P(n[a])},o:H,d(r){r&&y(e);for(let a=0;a<n.length;a+=1)n[a].d();i&&i.d()}}}function yi(t,e,n){let l;U(t,xe,r=>n(1,l=r));let{recentSubs:s}=e;const o=r=>nt([r.text]),i=r=>Gn(r.start);return t.$$set=r=>{"recentSubs"in r&&n(0,s=r.recentSubs)},[s,l,o,i]}class wi extends ee{constructor(e){super(),x(this,e,yi,ki,Z,{recentSubs:0})}}let Kn;const $i=t=>{Kn=t},Zn=de(0),xt=de([]),Qn=(t,e)=>zt([],n=>{let l=typeof t=="number"?t:0,s;typeof t!="number"&&(s=t.subscribe(i=>{l=i}));const o=di.subscribe(i=>{const r=i*1e3-l;Zn.set(r);const a=Kn.getSubs(r);n(a.subs),e&&xt.set(a.history)});return()=>{o(),s&&s()}}),Gr="";function xn(t,e,n){const l=t.slice();return l[6]=e[n],l}function el(t){let e,n,l=t[1],s=[];for(let o=0;o<l.length;o+=1)s[o]=nl(xn(t,l,o));return{c(){e=v("div");for(let o=0;o<s.length;o+=1)s[o].c();m(e,"class",n=Te(t[0]?"with-previews":"no-previews")+" svelte-ve7qmk")},m(o,i){w(o,e,i);for(let r=0;r<s.length;r+=1)s[r].m(e,null)},p(o,i){if(i&11){l=o[1];let r;for(r=0;r<l.length;r+=1){const a=xn(o,l,r);s[r]?s[r].p(a,i):(s[r]=nl(a),s[r].c(),s[r].m(e,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=l.length}i&1&&n!==(n=Te(o[0]?"with-previews":"no-previews")+" svelte-ve7qmk")&&m(e,"class",n)},d(o){o&&y(e),he(s,o)}}}function tl(t){let e;return{c(){e=v("pre"),m(e,"class","subtitle-preview svelte-ve7qmk")},m(n,l){w(n,e,l)},d(n){n&&y(e)}}}function nl(t){let e,n=t[6].signed+"",l,s,o,i,r,a,u=t[0]&&tl();function c(){return t[4](t[6])}return{c(){e=v("button"),l=N(n),s=N(` seconds
				`),u&&u.c(),o=A(),m(e,"class","secondary svelte-ve7qmk")},m(f,p){w(f,e,p),h(e,l),h(e,s),u&&u.m(e,null),h(e,o),r||(a=[M(e,"click",c),ze(i=t[2].call(null,e,t[6].alignment))],r=!0)},p(f,p){t=f,p&2&&n!==(n=t[6].signed+"")&&K(l,n),t[0]?u||(u=tl(),u.c(),u.m(e,o)):u&&(u.d(1),u=null),i&&Re(i.update)&&p&2&&i.update.call(null,t[6].alignment)},d(f){f&&y(e),u&&u.d(),r=!1,le(a)}}}function Si(t){let e,n=t[1].length&&el(t);return{c(){n&&n.c(),e=se()},m(l,s){n&&n.m(l,s),w(l,e,s)},p(l,[s]){l[1].length?n?n.p(l,s):(n=el(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(l){n&&n.d(l),l&&y(e)}}}function Ai(t,e,n){let l;U(t,Jt,u=>n(1,l=u));let{showPreviews:s=!1}=e;const o=Pe();function i(u,c){if(!s)return;const f=de(c),p=u.querySelector(".subtitle-preview"),d=Qn(f),_=d.subscribe(b=>{const g=b.map($=>$.text).join(`
`).trim()||`

`;p.textContent=g.includes(`
`)?g:`
`+g});return{update:b=>f.set(b),destroy:_}}function r(u){pe.set(u),Xt(u),o("aligned")}const a=u=>r(u.alignment);return t.$$set=u=>{"showPreviews"in u&&n(0,s=u.showPreviews)},[s,l,i,r,a]}class ll extends ee{constructor(e){super(),x(this,e,Ai,Si,Z,{showPreviews:0})}}const Br="";function sl(t){let e,n,l,s,o,i,r=t[3]&&il();return o=new ll({props:{showPreviews:!0}}),{c(){e=v("h3"),e.textContent="Or use a recently used alignment",n=A(),r&&r.c(),l=A(),s=v("div"),W(o.$$.fragment),m(e,"class","sx-font-size-3 svelte-1ggjcbl"),m(s,"class","mt-2")},m(a,u){w(a,e,u),w(a,n,u),r&&r.m(a,u),w(a,l,u),w(a,s,u),B(o,s,null),i=!0},p(a,u){a[3]?r?r.p(a,u):(r=il(),r.c(),r.m(l.parentNode,l)):r&&(r.d(1),r=null)},i(a){i||(P(o.$$.fragment,a),i=!0)},o(a){F(o.$$.fragment,a),i=!1},d(a){a&&y(e),a&&y(n),r&&r.d(a),a&&y(l),a&&y(s),q(o)}}}function il(t){let e,n,l;return{c(){e=v("button"),e.textContent="Resume Video",m(e,"id","resume-button"),m(e,"class","secondary svelte-1ggjcbl")},m(s,o){w(s,e,o),n||(l=M(e,"click",Ti),n=!0)},p:H,d(s){s&&y(e),n=!1,l()}}}function Ci(t){let e,n,l,s,o,i,r,a,u,c,f,p,d,_,b,g,$,R,j,S,T=t[2].length&&sl(t);return{c(){e=v("div"),n=v("button"),n.textContent="Select Different Subtitles",l=A(),s=v("h2"),s.textContent="Alignment",o=A(),i=v("div"),r=v("p"),a=N("Currently "),u=N(t[1]),c=A(),f=v("p"),f.textContent="The timing is...",p=A(),d=v("button"),d.textContent="Almost Correct",_=A(),b=v("button"),b.textContent="Not Even Close",g=A(),T&&T.c(),$=se(),m(n,"class","restart secondary svelte-1ggjcbl"),m(e,"class","gap-2 mt-2"),m(r,"class","muted"),m(f,"class","fw-bold mb-0 mt-2"),m(d,"class","secondary svelte-1ggjcbl"),m(b,"class","secondary svelte-1ggjcbl"),m(i,"class","mt-1")},m(k,C){w(k,e,C),h(e,n),w(k,l,C),w(k,s,C),w(k,o,C),w(k,i,C),h(i,r),h(r,a),h(r,u),h(i,c),h(i,f),h(i,p),h(i,d),h(i,_),h(i,b),w(k,g,C),T&&T.m(k,C),w(k,$,C),R=!0,j||(S=[M(n,"click",t[5]),M(d,"click",t[6]),M(b,"click",t[7])],j=!0)},p(k,[C]){(!R||C&2)&&K(u,k[1]),k[2].length?T?(T.p(k,C),C&4&&P(T,1)):(T=sl(k),T.c(),P(T,1),T.m($.parentNode,$)):T&&(te(),F(T,1,1,()=>{T=null}),ne())},i(k){R||(P(T),R=!0)},o(k){F(T),R=!1},d(k){k&&y(e),k&&y(l),k&&y(s),k&&y(o),k&&y(i),k&&y(g),T&&T.d(k),k&&y($),j=!1,le(S)}}}function Ti(){document.querySelector("video").play()}function ji(t,e,n){let l,s,o;U(t,kt,f=>n(1,l=f)),U(t,Jt,f=>n(2,s=f)),U(t,bt,f=>n(3,o=f));const i=Pe();let{fineAdjustDialogVisible:r}=e;const a=()=>i("restart"),u=()=>n(0,r=!0),c=()=>i("realign");return t.$$set=f=>{"fineAdjustDialogVisible"in f&&n(0,r=f.fineAdjustDialogVisible)},[r,l,s,o,i,a,u,c]}class Ri extends ee{constructor(e){super(),x(this,e,ji,Ci,Z,{fineAdjustDialogVisible:0})}}function Pi(t){let e,n;const l=t[4].default,s=$e(l,t,t[3],null);return{c(){e=v("a"),s&&s.c(),m(e,"href",t[0]),m(e,"target","_blank"),m(e,"rel","noreferrer noopener"),m(e,"class",t[2]),Q(e,"inline-link",t[1])},m(o,i){w(o,e,i),s&&s.m(e,null),n=!0},p(o,[i]){s&&s.p&&(!n||i&8)&&Ae(s,l,o,o[3],n?Se(l,o[3],i,null):Ce(o[3]),null),(!n||i&1)&&m(e,"href",o[0]),(!n||i&4)&&m(e,"class",o[2]),(!n||i&6)&&Q(e,"inline-link",o[1])},i(o){n||(P(s,o),n=!0)},o(o){F(s,o),n=!1},d(o){o&&y(e),s&&s.d(o)}}}function Fi(t,e,n){let{$$slots:l={},$$scope:s}=e,{href:o}=e,{inline:i=!0}=e,{classes:r=""}=e;return t.$$set=a=>{"href"in a&&n(0,o=a.href),"inline"in a&&n(1,i=a.inline),"classes"in a&&n(2,r=a.classes),"$$scope"in a&&n(3,s=a.$$scope)},[o,i,r,s,l]}class _e extends ee{constructor(e){super(),x(this,e,Fi,Pi,Z,{href:0,inline:1,classes:2})}}const qr="";function ol(t,e,n){const l=t.slice();return l[29]=e[n],l}function rl(t,e,n){const l=t.slice();return l[29]=e[n],l}function al(t,e,n){const l=t.slice();return l[29]=e[n],l}function Mi(t){let e,n;return e=new _e({props:{href:t[29].href,classes:"ml-1 sx-font-size-2",$$slots:{default:[Ni]},$$scope:{ctx:t}}}),{c(){W(e.$$.fragment)},m(l,s){B(e,l,s),n=!0},p(l,s){const o={};s[1]&32&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function Ni(t){let e,n=t[29].linkText+"",l,s;return{c(){e=N("("),l=N(n),s=N(")")},m(o,i){w(o,e,i),w(o,l,i),w(o,s,i)},p:H,d(o){o&&y(e),o&&y(l),o&&y(s)}}}function ul(t){let e,n,l,s,o=t[29].name+"",i,r,a,u,c,f,p=t[29].href&&Mi(t);return{c(){e=v("div"),n=v("label"),l=v("input"),s=A(),i=N(o),r=A(),p&&p.c(),a=A(),m(l,"type","radio"),l.__value=t[29].value,l.value=l.__value,t[20][0].push(l),m(n,"class","radio-label svelte-ht1j20"),m(e,"class","f-row")},m(d,_){w(d,e,_),h(e,n),h(n,l),l.checked=l.__value===t[6],h(n,s),h(n,i),h(e,r),p&&p.m(e,null),h(e,a),u=!0,c||(f=M(l,"change",t[19]),c=!0)},p(d,_){_[0]&64&&(l.checked=l.__value===d[6]),d[29].href&&p.p(d,_)},i(d){u||(P(p),u=!0)},o(d){F(p),u=!1},d(d){d&&y(e),t[20][0].splice(t[20][0].indexOf(l),1),p&&p.d(),c=!1,f()}}}function Ei(t){let e,n,l,s,o=t[12],i=[];for(let a=0;a<o.length;a+=1)i[a]=ul(al(t,o,a));const r=a=>F(i[a],1,1,()=>{i[a]=null});return{c(){e=v("p"),e.innerHTML='<kbd class="svelte-ht1j20">Hotkey: a</kbd>',n=A();for(let a=0;a<i.length;a+=1)i[a].c();l=se()},m(a,u){w(a,e,u),w(a,n,u);for(let c=0;c<i.length;c+=1)i[c].m(a,u);w(a,l,u),s=!0},p(a,u){if(u[0]&4160){o=a[12];let c;for(c=0;c<o.length;c+=1){const f=al(a,o,c);i[c]?(i[c].p(f,u),P(i[c],1)):(i[c]=ul(f),i[c].c(),P(i[c],1),i[c].m(l.parentNode,l))}for(te(),c=o.length;c<i.length;c+=1)r(c);ne()}},i(a){if(!s){for(let u=0;u<o.length;u+=1)P(i[u]);s=!0}},o(a){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)F(i[u]);s=!1},d(a){a&&y(e),a&&y(n),he(i,a),a&&y(l)}}}function cl(t){let e,n,l,s,o=t[29].name+"",i,r,a,u;return{c(){e=v("label"),n=v("input"),s=A(),i=N(o),r=A(),m(n,"type","radio"),n.__value=t[29].value,n.value=n.__value,n.disabled=l=t[8].overrideGlobalAspectRatio,t[20][1].push(n),m(e,"class","radio-label svelte-ht1j20")},m(c,f){w(c,e,f),h(e,n),n.checked=n.__value===t[9],h(e,s),h(e,i),h(e,r),a||(u=M(n,"change",t[22]),a=!0)},p(c,f){f[0]&256&&l!==(l=c[8].overrideGlobalAspectRatio)&&(n.disabled=l),f[0]&512&&(n.checked=n.__value===c[9])},d(c){c&&y(e),t[20][1].splice(t[20][1].indexOf(n),1),a=!1,u()}}}function Ii(t){let e,n,l,s,o,i,r=t[13],a=[];for(let u=0;u<r.length;u+=1)a[u]=cl(rl(t,r,u));return{c(){e=v("div"),n=v("div");for(let u=0;u<a.length;u+=1)a[u].c();l=A(),s=v("button"),s.textContent="About Aspect Ratios",m(n,"class","f-1"),m(e,"class","f-row justify-space-between align-items-center")},m(u,c){w(u,e,c),h(e,n);for(let f=0;f<a.length;f+=1)a[f].m(n,null);h(e,l),h(e,s),o||(i=M(s,"click",t[23]),o=!0)},p(u,c){if(c[0]&8960){r=u[13];let f;for(f=0;f<r.length;f+=1){const p=rl(u,r,f);a[f]?a[f].p(p,c):(a[f]=cl(p),a[f].c(),a[f].m(n,null))}for(;f<a.length;f+=1)a[f].d(1);a.length=r.length}},d(u){u&&y(e),he(a,u),o=!1,i()}}}function fl(t){let e,n,l,s,o,i,r,a,u,c,f,p,d,_,b,g,$,R,j,S=t[8].overrideGlobalFontScale&&dl(t),T=t[8].overrideGlobalAspectRatio&&pl(t);return{c(){e=v("h3"),n=N("Settings for "),l=N(t[11]),s=A(),o=v("div"),i=v("label"),r=v("input"),a=N(`
			Use a different subtitle font size scale for this show`),u=A(),S&&S.c(),c=A(),f=v("div"),p=v("label"),d=v("input"),_=N(`
			Use a different aspect ratio for this show`),b=A(),T&&T.c(),g=se(),m(r,"type","checkbox"),m(o,"class","f-row"),m(d,"type","checkbox"),m(f,"class","f-row")},m(k,C){w(k,e,C),h(e,n),h(e,l),w(k,s,C),w(k,o,C),h(o,i),h(i,r),r.checked=t[8].overrideGlobalFontScale,h(i,a),w(k,u,C),S&&S.m(k,C),w(k,c,C),w(k,f,C),h(f,p),h(p,d),d.checked=t[8].overrideGlobalAspectRatio,h(p,_),w(k,b,C),T&&T.m(k,C),w(k,g,C),$=!0,R||(j=[M(r,"change",t[24]),M(d,"change",t[26])],R=!0)},p(k,C){(!$||C[0]&2048)&&K(l,k[11]),C[0]&256&&(r.checked=k[8].overrideGlobalFontScale),k[8].overrideGlobalFontScale?S?S.p(k,C):(S=dl(k),S.c(),S.m(c.parentNode,c)):S&&(S.d(1),S=null),C[0]&256&&(d.checked=k[8].overrideGlobalAspectRatio),k[8].overrideGlobalAspectRatio?T?(T.p(k,C),C[0]&256&&P(T,1)):(T=pl(k),T.c(),P(T,1),T.m(g.parentNode,g)):T&&(te(),F(T,1,1,()=>{T=null}),ne())},i(k){$||(P(T),$=!0)},o(k){F(T),$=!1},d(k){k&&y(e),k&&y(s),k&&y(o),k&&y(u),S&&S.d(k),k&&y(c),k&&y(f),k&&y(b),T&&T.d(k),k&&y(g),R=!1,le(j)}}}function dl(t){let e,n,l,s=Math.floor(t[8].fontScale*100)+"",o,i,r,a,u,c,f,p;return{c(){e=v("div"),n=v("label"),l=N("This show's subtitle font size scale ("),o=N(s),i=N(`%)
				`),r=v("br"),a=A(),u=v("input"),m(u,"type","range"),m(u,"min","0.5"),m(u,"max","3"),m(u,"step","0.1"),u.disabled=c=!t[8].overrideGlobalFontScale,m(u,"class","svelte-ht1j20"),m(e,"class","f-row")},m(d,_){w(d,e,_),h(e,n),h(n,l),h(n,o),h(n,i),h(n,r),h(n,a),h(n,u),ae(u,t[8].fontScale),f||(p=[M(u,"change",t[25]),M(u,"input",t[25])],f=!0)},p(d,_){_[0]&256&&s!==(s=Math.floor(d[8].fontScale*100)+"")&&K(o,s),_[0]&256&&c!==(c=!d[8].overrideGlobalFontScale)&&(u.disabled=c),_[0]&256&&ae(u,d[8].fontScale)},d(d){d&&y(e),f=!1,le(p)}}}function pl(t){let e,n,l;return n=new Lt({props:{fieldsetClasses:"my-2 mx-0",legend:"Video Aspect Ratio",$$slots:{default:[Oi]},$$scope:{ctx:t}}}),{c(){e=v("div"),W(n.$$.fragment),m(e,"class","f-row")},m(s,o){w(s,e,o),B(n,e,null),l=!0},p(s,o){const i={};o[0]&256|o[1]&32&&(i.$$scope={dirty:o,ctx:s}),n.$set(i)},i(s){l||(P(n.$$.fragment,s),l=!0)},o(s){F(n.$$.fragment,s),l=!1},d(s){s&&y(e),q(n)}}}function _l(t){let e,n,l,s=t[29].name+"",o,i,r,a;return{c(){e=v("label"),n=v("input"),l=A(),o=N(s),i=A(),m(n,"type","radio"),n.__value=t[29].value,n.value=n.__value,t[20][2].push(n),m(e,"class","radio-label svelte-ht1j20")},m(u,c){w(u,e,c),h(e,n),n.checked=n.__value===t[8].aspectRatio,h(e,l),h(e,o),h(e,i),r||(a=M(n,"change",t[27]),r=!0)},p(u,c){c[0]&256&&(n.checked=n.__value===u[8].aspectRatio)},d(u){u&&y(e),t[20][2].splice(t[20][2].indexOf(n),1),r=!1,a()}}}function Oi(t){let e,n=t[13],l=[];for(let s=0;s<n.length;s+=1)l[s]=_l(ol(t,n,s));return{c(){for(let s=0;s<l.length;s+=1)l[s].c();e=se()},m(s,o){for(let i=0;i<l.length;i+=1)l[i].m(s,o);w(s,e,o)},p(s,o){if(o[0]&8448){n=s[13];let i;for(i=0;i<n.length;i+=1){const r=ol(s,n,i);l[i]?l[i].p(r,o):(l[i]=_l(r),l[i].c(),l[i].m(e.parentNode,e))}for(;i<l.length;i+=1)l[i].d(1);l.length=n.length}},d(s){he(l,s),s&&y(e)}}}function ml(t){let e,n,l;function s(i){t[28](i)}let o={title:"Aspect Ratio Help",$$slots:{default:[zi]},$$scope:{ctx:t}};return t[0]!==void 0&&(o.visible=t[0]),e=new vn({props:o}),fe.push(()=>Ge(e,"visible",s)),{c(){W(e.$$.fragment)},m(i,r){B(e,i,r),l=!0},p(i,r){const a={};r[1]&32&&(a.$$scope={dirty:r,ctx:i}),!n&&r[0]&1&&(n=!0,a.visible=i[0],He(()=>n=!1)),e.$set(a)},i(i){l||(P(e.$$.fragment,i),l=!0)},o(i){F(e.$$.fragment,i),l=!1},d(i){q(e,i)}}}function zi(t){let e;return{c(){e=v("div"),e.innerHTML=`<p>Aspect Ratio is the ratio of a video&#39;s width to height. The <strong>&quot;16:9&quot;</strong> aspect ratio is typically
				called &quot;widescreen&quot; and it&#39;s the most common one you&#39;ll see. Older stuff was <strong>&quot;4:3&quot;</strong> and typically
				called &quot;fullscreen&quot; and is more square.</p> 
			<p>Jimaku Player has support for both sizes so your subtitles don&#39;t extend beyond the sides of the video. If you&#39;re
				using subtitles in the <em>ASS format</em> the <strong>Auto</strong> aspect ratio can figure out the right aspect
				ratio from the subtitles or use 16:9 otherwise. You can choose to force it to use either 16:9 or 4:3 if you prefer.</p>`,m(e,"class","modal-body svelte-ht1j20")},m(n,l){w(n,e,l)},p:H,d(n){n&&y(e)}}}function Li(t){let e,n,l,s,o,i,r,a,u,c,f,p,d,_,b,g,$,R,j,S,T,k,C,G,z,Y,E,O,I,V,ue,J=Math.floor(t[7]*100)+"",st,St,At,Ct,ce,qe,it,Ee,we,ot,Ie,Oe,L,tn,_s;E=new Lt({props:{fieldsetClasses:"my-2 mx-0",legend:"When a subtitle is clicked...",$$slots:{default:[Ei]},$$scope:{ctx:t}}}),we=new Lt({props:{fieldsetClasses:"my-2 mx-0",legend:"Video Aspect Ratio",$$slots:{default:[Ii]},$$scope:{ctx:t}}});let ie=t[10]&&fl(t),oe=t[0]&&ml(t);return{c(){e=v("div"),n=v("label"),n.textContent="Subtitle fallback color:",l=A(),s=v("input"),o=A(),i=v("div"),r=v("input"),a=A(),u=v("label"),u.innerHTML='Show subtitles(<kbd class="svelte-ht1j20">Hotkey: h</kbd>)',c=A(),f=v("div"),p=v("input"),d=A(),_=v("label"),_.textContent="Pause when tray is open",b=A(),g=v("div"),$=v("input"),R=A(),j=v("label"),j.textContent="Auto-copy every subtitle to the clipboard",S=A(),T=v("div"),k=v("input"),C=A(),G=v("label"),G.innerHTML='Flip subtitle vertical position (<kbd class="svelte-ht1j20">Hotkey: i</kbd>)',z=A(),Y=v("div"),W(E.$$.fragment),O=A(),I=v("div"),V=v("label"),ue=N("Subtitle font size scale ("),st=N(J),St=N(`%)
		`),At=v("br"),Ct=A(),ce=v("input"),it=A(),Ee=v("div"),W(we.$$.fragment),ot=A(),ie&&ie.c(),Ie=A(),oe&&oe.c(),Oe=se(),m(n,"for","subtitle-color"),m(s,"type","color"),m(s,"id","subtitle-color"),m(e,"class","mt-2"),m(r,"id","show-subs"),m(r,"type","checkbox"),m(u,"for","show-subs"),m(p,"id","pause-on-tray"),m(p,"type","checkbox"),m(_,"for","pause-on-tray"),m($,"id","auto-copy-subtitles"),m($,"type","checkbox"),m(j,"for","auto-copy-subtitles"),m(k,"id","invert-subtitle-alignment"),m(k,"type","checkbox"),m(G,"for","invert-subtitle-alignment"),m(ce,"type","range"),m(ce,"min","0.5"),m(ce,"max","3"),m(ce,"step","0.1"),ce.disabled=qe=t[8]&&t[8].overrideGlobalFontScale,m(ce,"class","svelte-ht1j20"),m(Ee,"class","f-row")},m(D,X){w(D,e,X),h(e,n),h(e,l),h(e,s),ae(s,t[1]),w(D,o,X),w(D,i,X),h(i,r),r.checked=t[2],h(i,a),h(i,u),w(D,c,X),w(D,f,X),h(f,p),p.checked=t[3],h(f,d),h(f,_),w(D,b,X),w(D,g,X),h(g,$),$.checked=t[4],h(g,R),h(g,j),w(D,S,X),w(D,T,X),h(T,k),k.checked=t[5],h(T,C),h(T,G),w(D,z,X),w(D,Y,X),B(E,Y,null),w(D,O,X),w(D,I,X),h(I,V),h(V,ue),h(V,st),h(V,St),h(V,At),h(V,Ct),h(V,ce),ae(ce,t[7]),w(D,it,X),w(D,Ee,X),B(we,Ee,null),w(D,ot,X),ie&&ie.m(D,X),w(D,Ie,X),oe&&oe.m(D,X),w(D,Oe,X),L=!0,tn||(_s=[M(s,"input",t[14]),M(r,"change",t[15]),M(p,"change",t[16]),M($,"change",t[17]),M(k,"change",t[18]),M(ce,"change",t[21]),M(ce,"input",t[21])],tn=!0)},p(D,X){X[0]&2&&ae(s,D[1]),X[0]&4&&(r.checked=D[2]),X[0]&8&&(p.checked=D[3]),X[0]&16&&($.checked=D[4]),X[0]&32&&(k.checked=D[5]);const ms={};X[0]&64|X[1]&32&&(ms.$$scope={dirty:X,ctx:D}),E.$set(ms),(!L||X[0]&128)&&J!==(J=Math.floor(D[7]*100)+"")&&K(st,J),(!L||X[0]&256&&qe!==(qe=D[8]&&D[8].overrideGlobalFontScale))&&(ce.disabled=qe),X[0]&128&&ae(ce,D[7]);const hs={};X[0]&769|X[1]&32&&(hs.$$scope={dirty:X,ctx:D}),we.$set(hs),D[10]?ie?(ie.p(D,X),X[0]&1024&&P(ie,1)):(ie=fl(D),ie.c(),P(ie,1),ie.m(Ie.parentNode,Ie)):ie&&(te(),F(ie,1,1,()=>{ie=null}),ne()),D[0]?oe?(oe.p(D,X),X[0]&1&&P(oe,1)):(oe=ml(D),oe.c(),P(oe,1),oe.m(Oe.parentNode,Oe)):oe&&(te(),F(oe,1,1,()=>{oe=null}),ne())},i(D){L||(P(E.$$.fragment,D),P(we.$$.fragment,D),P(ie),P(oe),L=!0)},o(D){F(E.$$.fragment,D),F(we.$$.fragment,D),F(ie),F(oe),L=!1},d(D){D&&y(e),D&&y(o),D&&y(i),D&&y(c),D&&y(f),D&&y(b),D&&y(g),D&&y(S),D&&y(T),D&&y(z),D&&y(Y),q(E),D&&y(O),D&&y(I),D&&y(it),D&&y(Ee),q(we),D&&y(ot),ie&&ie.d(D),D&&y(Ie),oe&&oe.d(D),D&&y(Oe),tn=!1,le(_s)}}}function Di(t,e,n){let l,s,o,i,r,a,u,c,f,p,d;U(t,ht,J=>n(1,l=J)),U(t,Ze,J=>n(2,s=J)),U(t,bt,J=>n(3,o=J)),U(t,Ht,J=>n(4,i=J)),U(t,Qe,J=>n(5,r=J)),U(t,xe,J=>n(6,a=J)),U(t,Vt,J=>n(7,u=J)),U(t,ke,J=>n(8,c=J)),U(t,Gt,J=>n(9,f=J)),U(t,Kt,J=>n(10,p=J)),U(t,Me,J=>n(11,d=J));let _=!1;const b=[{value:"jisho",name:"Search on Jisho"},{value:"copy",name:"Copy to clipboard"},{value:"context.reviews",name:"Save to Context.Reviews",href:"https://context.reviews",linkText:"About"},{value:"nothing",name:"Do nothing"}],g=[{value:"auto",name:"Auto"},{value:"16:9",name:"16:9"},{value:"4:3",name:"4:3"}],$=[[],[],[]];function R(){l=this.value,ht.set(l)}function j(){s=this.checked,Ze.set(s)}function S(){o=this.checked,bt.set(o)}function T(){i=this.checked,Ht.set(i)}function k(){r=this.checked,Qe.set(r)}function C(){a=this.__value,xe.set(a)}function G(){u=ut(this.value),Vt.set(u)}function z(){f=this.__value,Gt.set(f)}const Y=()=>n(0,_=!0);function E(){c.overrideGlobalFontScale=this.checked,ke.set(c)}function O(){c.fontScale=ut(this.value),ke.set(c)}function I(){c.overrideGlobalAspectRatio=this.checked,ke.set(c)}function V(){c.aspectRatio=this.__value,ke.set(c)}function ue(J){_=J,n(0,_)}return[_,l,s,o,i,r,a,u,c,f,p,d,b,g,R,j,S,T,k,C,$,G,z,Y,E,O,I,V,ue]}class Hi extends ee{constructor(e){super(),x(this,e,Di,Li,Z,{},null,[-1,-1])}}const Vi=`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:xlink="http://www.w3.org/1999/xlink"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="100"
   height="100"
   viewBox="0 0 26.458333 26.458334"
   version="1.1"
   id="logo"
   inkscape:version="0.92.4 (5da689c313, 2019-01-14)"
   sodipodi:docname="logo.svg"
   inkscape:export-filename="/home/sheodox/code/js/vrv-subtitler/static/logo.png"
   inkscape:export-xdpi="480"
   inkscape:export-ydpi="480">
  <defs
     id="defs2">
    <linearGradient
       inkscape:collect="always"
       id="linearGradient1344">
      <stop
         style="stop-color:#06acfd;stop-opacity:1;"
         offset="0"
         id="stop1340" />
      <stop
         style="stop-color:#06acfd;stop-opacity:0;"
         offset="1"
         id="stop1342" />
    </linearGradient>
    <linearGradient
       inkscape:collect="always"
       xlink:href="#linearGradient1344"
       id="linearGradient829"
       x1="17.983095"
       y1="289.99261"
       x2="0.94231331"
       y2="273.58023"
       gradientUnits="userSpaceOnUse" />
  </defs>
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="9.995"
     inkscape:cx="65.343446"
     inkscape:cy="52.168826"
     inkscape:document-units="mm"
     inkscape:current-layer="layer1"
     showgrid="false"
     units="px"
     inkscape:window-width="2560"
     inkscape:window-height="1379"
     inkscape:window-x="1920"
     inkscape:window-y="1104"
     inkscape:window-maximized="1" />
  <metadata
     id="metadata5">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title />
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:groupmode="layer"
     id="layer3"
     inkscape:label="bg">
    <path
       inkscape:export-ydpi="480"
       inkscape:export-xdpi="480"
       inkscape:transform-center-y="1.8900336e-05"
       inkscape:transform-center-x="-3.5966854"
       d="M 25.113071,13.844912 11.777112,25.205372 3.5329561,26.304197 0.36248875,9.0746872 3.5329561,1.3856262 20.039383,7.2546758 Z"
       inkscape:randomized="0"
       inkscape:rounded="0"
       inkscape:flatsided="false"
       sodipodi:arg2="1.4785639"
       sodipodi:arg1="0"
       sodipodi:r2="11.408953"
       sodipodi:r1="14.386744"
       sodipodi:cy="13.844912"
       sodipodi:cx="10.726328"
       sodipodi:sides="3"
       id="path1336"
       style="display:inline;fill:#e83450;fill-opacity:1;stroke-width:1.18684554"
       sodipodi:type="star" />
  </g>
  <g
     inkscape:label="base"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(0,-270.54165)"
     style="display:inline">
    <path
       sodipodi:type="star"
       style="fill:url(#linearGradient829);fill-opacity:1;stroke-width:1.19480908"
       id="path1207"
       sodipodi:sides="3"
       sodipodi:cx="12.215874"
       sodipodi:cy="283.82473"
       sodipodi:r1="14.483277"
       sodipodi:r2="11.485504"
       sodipodi:arg1="0"
       sodipodi:arg2="1.4785639"
       inkscape:flatsided="false"
       inkscape:rounded="0"
       inkscape:randomized="0"
       d="m 26.699151,283.82474 -13.425443,11.43668 -8.2994729,1.1062 -3.1917395,-17.34511 3.1917395,-7.74066 16.6171819,5.90843 z"
       inkscape:transform-center-x="-3.6208201"
       inkscape:transform-center-y="2.0634538e-05"
       inkscape:export-xdpi="480"
       inkscape:export-ydpi="480" />
  </g>
  <g
     inkscape:groupmode="layer"
     id="layer2"
     inkscape:label="字"
     style="display:none">
    <path
       style="fill:#2a3450;fill-opacity:1;stroke-width:1.19326925"
       d="m 10.493036,4.2294393 -0.0307,2.5055593 -7.6894064,0.00759 L 2.181029,8.0311187 2.0069423,10.400352 3.0169365,9.2165609 3.8177363,8.8132112 19.336462,8.7783942 20.238597,9.386179 21.216892,10.435169 20.970165,8.0599332 20.590179,6.8470381 12.221367,6.7077686 11.703701,5.4349399 Z m -5.3757182,6.4831057 1.22837,1.954871 7.7174492,-0.108921 -3.391706,3.339596 0.05446,1.323266 -4.464056,-0.02723 0.027231,1.677347 4.382365,0.05446 0.05446,4.107556 -1.5811669,0.835287 -0.6407481,1.260906 4.089873,-1.336945 0.163381,-4.757883 3.910443,-0.190607 -0.02723,-1.568425 -3.883213,-0.02723 v -0.727271 l 4.100892,-4.194763 -0.823444,-1.614014 z"
       id="rect1177"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="ccccccccccccccccccccccccccccccccccc"
       inkscape:export-xdpi="480"
       inkscape:export-ydpi="480" />
  </g>
</svg>
`,Wr="";function Gi(t){let e;return{c(){e=v("div"),m(e,"class","logo svelte-v7pnro")},m(n,l){w(n,e,l),e.innerHTML=Vi},p:H,i:H,o:H,d(n){n&&y(e)}}}class hl extends ee{constructor(e){super(),x(this,e,null,Gi,Z,{})}}const Ur="";function bl(t,e,n){const l=t.slice();return l[10]=e[n],l}function Bi(t){let e;return{c(){e=N("sheodox")},m(n,l){w(n,e,l)},d(n){n&&y(e)}}}function qi(t){let e;return{c(){e=N("Project homepage (Github)")},m(n,l){w(n,e,l)},d(n){n&&y(e)}}}function Wi(t){let e;return{c(){e=N("Report a bug or request a feature")},m(n,l){w(n,e,l)},d(n){n&&y(e)}}}function Ui(t){let e;return{c(){e=N("Buy Me a Coffee")},m(n,l){w(n,e,l)},d(n){n&&y(e)}}}function Yi(t){let e;return{c(){e=N("my website")},m(n,l){w(n,e,l)},d(n){n&&y(e)}}}function Ji(t){let e,n,l,s,o,i,r,a,u,c,f,p,d,_,b,g,$,R,j,S,T;return l=new _e({props:{href:"https://sheodox.com/",$$slots:{default:[Bi]},$$scope:{ctx:t}}}),r=new _e({props:{href:"https://github.com/sheodox/jimaku-player",$$slots:{default:[qi]},$$scope:{ctx:t}}}),f=new _e({props:{href:"https://github.com/sheodox/jimaku-player/issues",$$slots:{default:[Wi]},$$scope:{ctx:t}}}),b=new _e({props:{href:"https://www.buymeacoffee.com/sheodox",$$slots:{default:[Ui]},$$scope:{ctx:t}}}),j=new _e({props:{href:"https://sheodox.com/",$$slots:{default:[Yi]},$$scope:{ctx:t}}}),{c(){e=v("p"),n=N("Jimaku Player is made by "),W(l.$$.fragment),s=N(`, a Software Engineer
			from Minnesota.`),o=A(),i=v("div"),W(r.$$.fragment),a=A(),u=v("br"),c=A(),W(f.$$.fragment),p=A(),d=v("br"),_=A(),W(b.$$.fragment),g=A(),$=v("p"),R=N("Check out "),W(j.$$.fragment),S=N(`! I have several other helpful
			projects for productivity and learning Japanese that you might like!`),m(i,"class","mt-4")},m(k,C){w(k,e,C),h(e,n),B(l,e,null),h(e,s),w(k,o,C),w(k,i,C),B(r,i,null),h(i,a),h(i,u),h(i,c),B(f,i,null),h(i,p),h(i,d),h(i,_),B(b,i,null),w(k,g,C),w(k,$,C),h($,R),B(j,$,null),h($,S),T=!0},p(k,C){const G={};C&8192&&(G.$$scope={dirty:C,ctx:k}),l.$set(G);const z={};C&8192&&(z.$$scope={dirty:C,ctx:k}),r.$set(z);const Y={};C&8192&&(Y.$$scope={dirty:C,ctx:k}),f.$set(Y);const E={};C&8192&&(E.$$scope={dirty:C,ctx:k}),b.$set(E);const O={};C&8192&&(O.$$scope={dirty:C,ctx:k}),j.$set(O)},i(k){T||(P(l.$$.fragment,k),P(r.$$.fragment,k),P(f.$$.fragment,k),P(b.$$.fragment,k),P(j.$$.fragment,k),T=!0)},o(k){F(l.$$.fragment,k),F(r.$$.fragment,k),F(f.$$.fragment,k),F(b.$$.fragment,k),F(j.$$.fragment,k),T=!1},d(k){k&&y(e),q(l),k&&y(o),k&&y(i),q(r),q(f),q(b),k&&y(g),k&&y($),q(j)}}}function gl(t){let e,n,l=t[10].title+"",s,o,i,r=t[10].detail+"",a,u;return{c(){e=v("tr"),n=v("th"),s=N(l),o=A(),i=v("td"),a=N(r),u=A(),m(n,"scope","row")},m(c,f){w(c,e,f),h(e,n),h(n,s),h(e,o),h(e,i),h(i,a),h(e,u)},p(c,f){f&1&&l!==(l=c[10].title+"")&&K(s,l),f&1&&r!==(r=c[10].detail+"")&&K(a,r)},d(c){c&&y(e)}}}function Xi(t){let e,n,l,s,o,i,r=t[0].fileName+"",a,u,c,f,p,d,_,b,g,$,R,j,S,T,k,C,G,z=t[0].debugInfo(),Y=[];for(let E=0;E<z.length;E+=1)Y[E]=gl(bl(t,z,E));return{c(){e=v("table"),n=v("tbody"),l=v("tr"),s=v("th"),s.textContent="Subtitles File",o=A(),i=v("td"),a=N(r),u=A(),c=v("tr"),f=v("th"),f.textContent="Alignment",p=A(),d=v("td"),_=N(t[2]),b=N(" ("),g=N(t[3]),$=N(")"),R=A();for(let E=0;E<Y.length;E+=1)Y[E].c();j=A(),S=v("button"),S.textContent="⬇ Download parsed subtitles",T=A(),k=v("button"),k.textContent="⬇ Download currently visible parsed subtitles",m(s,"scope","row"),m(f,"scope","row"),m(e,"class","svelte-6bkr3j")},m(E,O){w(E,e,O),h(e,n),h(n,l),h(l,s),h(l,o),h(l,i),h(i,a),h(n,u),h(n,c),h(c,f),h(c,p),h(c,d),h(d,_),h(d,b),h(d,g),h(d,$),h(n,R);for(let I=0;I<Y.length;I+=1)Y[I].m(n,null);w(E,j,O),w(E,S,O),w(E,T,O),w(E,k,O),C||(G=[M(S,"click",t[8]),M(k,"click",t[9])],C=!0)},p(E,O){if(O&1&&r!==(r=E[0].fileName+"")&&K(a,r),O&4&&K(_,E[2]),O&8&&K(g,E[3]),O&1){z=E[0].debugInfo();let I;for(I=0;I<z.length;I+=1){const V=bl(E,z,I);Y[I]?Y[I].p(V,O):(Y[I]=gl(V),Y[I].c(),Y[I].m(n,null))}for(;I<Y.length;I+=1)Y[I].d(1);Y.length=z.length}},d(E){E&&y(e),he(Y,E),E&&y(j),E&&y(S),E&&y(T),E&&y(k),C=!1,le(G)}}}function Ki(t){let e,n,l,s,o,i,r,a,u;function c(p){t[7](p)}let f={tabs:t[5]};return t[1]!==void 0&&(f.selectedTab=t[1]),l=new $n({props:f}),fe.push(()=>Ge(l,"selectedTab",c)),i=new Ke({props:{tabId:"about",selectedTab:t[1],$$slots:{default:[Ji]},$$scope:{ctx:t}}}),a=new Ke({props:{tabId:"debug",selectedTab:t[1],$$slots:{default:[Xi]},$$scope:{ctx:t}}}),{c(){e=v("div"),n=v("div"),W(l.$$.fragment),o=A(),W(i.$$.fragment),r=A(),W(a.$$.fragment),m(n,"class","mb-3"),m(e,"class","modal-body pt-0 svelte-6bkr3j")},m(p,d){w(p,e,d),h(e,n),B(l,n,null),h(e,o),B(i,e,null),h(e,r),B(a,e,null),u=!0},p(p,[d]){const _={};!s&&d&2&&(s=!0,_.selectedTab=p[1],He(()=>s=!1)),l.$set(_);const b={};d&2&&(b.selectedTab=p[1]),d&8192&&(b.$$scope={dirty:d,ctx:p}),i.$set(b);const g={};d&2&&(g.selectedTab=p[1]),d&8221&&(g.$$scope={dirty:d,ctx:p}),a.$set(g)},i(p){u||(P(l.$$.fragment,p),P(i.$$.fragment,p),P(a.$$.fragment,p),u=!0)},o(p){F(l.$$.fragment,p),F(i.$$.fragment,p),F(a.$$.fragment,p),u=!1},d(p){p&&y(e),q(l),q(i),q(a)}}}function Zi(t,e,n){let l,s,o;U(t,kt,d=>n(2,l=d)),U(t,ri,d=>n(3,s=d)),U(t,Zn,d=>n(4,o=d));let{subtitleParser:i}=e;const r=[{id:"about",title:"About"}];let a;i&&r.push({id:"debug",title:"Debug"});function u(d){const _=document.createElement("a"),b=new Blob([i.serialize(d)],{type:"application/json"});_.download="parsed-subtitles.json",_.href=URL.createObjectURL(b),document.body.appendChild(_),_.click(),document.body.removeChild(_)}function c(d){a=d,n(1,a)}const f=()=>u(),p=()=>u(o);return t.$$set=d=>{"subtitleParser"in d&&n(0,i=d.subtitleParser)},[i,a,l,s,o,r,u,c,f,p]}class Qi extends ee{constructor(e){super(),x(this,e,Zi,Ki,Z,{subtitleParser:0})}}const Yr="";function vl(t){let e,n,l,s;function o(r){t[14](r)}let i={tabs:t[11]};return t[4]!==void 0&&(i.selectedTab=t[4]),n=new $n({props:i}),fe.push(()=>Ge(n,"selectedTab",o)),{c(){e=v("div"),W(n.$$.fragment),m(e,"class","f-row justify-content-center")},m(r,a){w(r,e,a),B(n,e,null),s=!0},p(r,a){const u={};!l&&a&16&&(l=!0,u.selectedTab=r[4],He(()=>l=!1)),n.$set(u)},i(r){s||(P(n.$$.fragment,r),s=!0)},o(r){F(n.$$.fragment,r),s=!1},d(r){r&&y(e),q(n)}}}function xi(t){let e,n,l,s,o,i,r;return n=new Ke({props:{tabId:"recent",selectedTab:t[4],$$slots:{default:[to]},$$scope:{ctx:t}}}),s=new Ke({props:{tabId:"setup",selectedTab:t[4],$$slots:{default:[no]},$$scope:{ctx:t}}}),i=new Ke({props:{tabId:"settings",selectedTab:t[4],$$slots:{default:[lo]},$$scope:{ctx:t}}}),{c(){e=v("div"),W(n.$$.fragment),l=A(),W(s.$$.fragment),o=A(),W(i.$$.fragment),m(e,"class","tab-content px-4 svelte-1l37kb3")},m(a,u){w(a,e,u),B(n,e,null),h(e,l),B(s,e,null),h(e,o),B(i,e,null),r=!0},p(a,u){const c={};u&16&&(c.selectedTab=a[4]),u&4194432&&(c.$$scope={dirty:u,ctx:a}),n.$set(c);const f={};u&16&&(f.selectedTab=a[4]),u&4194312&&(f.$$scope={dirty:u,ctx:a}),s.$set(f);const p={};u&16&&(p.selectedTab=a[4]),u&4194304&&(p.$$scope={dirty:u,ctx:a}),i.$set(p)},i(a){r||(P(n.$$.fragment,a),P(s.$$.fragment,a),P(i.$$.fragment,a),r=!0)},o(a){F(n.$$.fragment,a),F(s.$$.fragment,a),F(i.$$.fragment,a),r=!1},d(a){a&&y(e),q(n),q(s),q(i)}}}function eo(t){let e,n,l,s,o,i,r,a,u,c,f,p;return i=new _e({props:{href:"https://github.com/sheodox/jimaku-player/issues",$$slots:{default:[so]},$$scope:{ctx:t}}}),u=new _e({props:{href:"https://sheodox.com/",$$slots:{default:[io]},$$scope:{ctx:t}}}),{c(){e=v("div"),n=v("div"),l=v("button"),l.textContent="Select Subtitles",s=A(),o=v("div"),W(i.$$.fragment),r=A(),a=v("div"),W(u.$$.fragment),m(l,"class","primary"),m(e,"class","tab tab-active tab-cancelled gap-2 svelte-1l37kb3")},m(d,_){w(d,e,_),h(e,n),h(n,l),h(e,s),h(e,o),B(i,o,null),h(e,r),h(e,a),B(u,a,null),c=!0,f||(p=M(l,"click",t[15]),f=!0)},p(d,_){const b={};_&4194304&&(b.$$scope={dirty:_,ctx:d}),i.$set(b);const g={};_&4194304&&(g.$$scope={dirty:_,ctx:d}),u.$set(g)},i(d){c||(P(i.$$.fragment,d),P(u.$$.fragment,d),c=!0)},o(d){F(i.$$.fragment,d),F(u.$$.fragment,d),c=!1},d(d){d&&y(e),q(i),q(u),f=!1,p()}}}function to(t){let e,n;return e=new wi({props:{recentSubs:t[7]}}),{c(){W(e.$$.fragment)},m(l,s){B(e,l,s),n=!0},p(l,s){const o={};s&128&&(o.recentSubs=l[7]),e.$set(o)},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function no(t){let e,n,l;function s(i){t[16](i)}let o={};return t[3]!==void 0&&(o.fineAdjustDialogVisible=t[3]),e=new Ri({props:o}),fe.push(()=>Ge(e,"fineAdjustDialogVisible",s)),e.$on("realign",t[17]),e.$on("restart",t[18]),{c(){W(e.$$.fragment)},m(i,r){B(e,i,r),l=!0},p(i,r){const a={};!n&&r&8&&(n=!0,a.fineAdjustDialogVisible=i[3],He(()=>n=!1)),e.$set(a)},i(i){l||(P(e.$$.fragment,i),l=!0)},o(i){F(e.$$.fragment,i),l=!1},d(i){q(e,i)}}}function lo(t){let e,n;return e=new Hi({}),{c(){W(e.$$.fragment)},m(l,s){B(e,l,s),n=!0},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function so(t){let e;return{c(){e=N("Issue? Report it here!")},m(n,l){w(n,e,l)},d(n){n&&y(e)}}}function io(t){let e;return{c(){e=N("My other projects")},m(n,l){w(n,e,l)},d(n){n&&y(e)}}}function oo(t){let e;return{c(){e=N("Join the Discord community!")},m(n,l){w(n,e,l)},d(n){n&&y(e)}}}function kl(t){let e,n;return e=new ci({}),e.$on("close",t[19]),{c(){W(e.$$.fragment)},m(l,s){B(e,l,s),n=!0},p:H,i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function yl(t){let e,n,l;function s(i){t[20](i)}let o={title:"About 字幕プレーヤー",$$slots:{default:[ro]},$$scope:{ctx:t}};return t[2]!==void 0&&(o.visible=t[2]),e=new vn({props:o}),fe.push(()=>Ge(e,"visible",s)),{c(){W(e.$$.fragment)},m(i,r){B(e,i,r),l=!0},p(i,r){const a={};r&4194305&&(a.$$scope={dirty:r,ctx:i}),!n&&r&4&&(n=!0,a.visible=i[2],He(()=>n=!1)),e.$set(a)},i(i){l||(P(e.$$.fragment,i),l=!0)},o(i){F(e.$$.fragment,i),l=!1},d(i){q(e,i)}}}function ro(t){let e,n;return e=new Qi({props:{subtitleParser:t[0]}}),{c(){W(e.$$.fragment)},m(l,s){B(e,l,s),n=!0},p(l,s){const o={};s&1&&(o.subtitleParser=l[0]),e.$set(o)},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function ao(t){let e,n,l,s,o,i,r,a,u,c,f,p,d,_,b,g,$,R,j,S,T,k;o=new hl({});let C=t[1]==="normal"&&vl(t);const G=[eo,xi],z=[];function Y(I,V){return I[1]==="cancelled"?0:I[1]==="normal"?1:-1}~(p=Y(t))&&(d=z[p]=G[p](t)),g=new _e({props:{href:"https://discord.gg/Vyjjyj4",$$slots:{default:[oo]},$$scope:{ctx:t}}});let E=t[3]&&kl(t),O=t[2]&&yl(t);return{c(){e=v("div"),n=v("div"),l=v("div"),s=v("h1"),W(o.$$.fragment),i=A(),r=v("div"),r.textContent="字幕プレーヤー",a=A(),u=v("button"),u.textContent="About",c=A(),C&&C.c(),f=A(),d&&d.c(),_=A(),b=v("div"),W(g.$$.fragment),$=A(),E&&E.c(),R=A(),O&&O.c(),j=se(),m(r,"id","app-title"),m(r,"class","ml-2 svelte-1l37kb3"),m(s,"class","f-row align-items-end justify-content-center"),m(l,"class","f-row justify-content-between align-items-center px-3 py-2"),m(n,"class","tray-header svelte-1l37kb3"),m(b,"class","p-2 has-inline-links svelte-1l37kb3"),m(e,"class","tray svelte-1l37kb3"),We(e,"right",t[6]+"rem"),Q(e,"inactive",!t[5]&&!t[9]),Q(e,"hidden",t[3]),Q(e,"debug-always-open",t[9])},m(I,V){w(I,e,V),h(e,n),h(n,l),h(l,s),B(o,s,null),h(s,i),h(s,r),h(l,a),h(l,u),h(n,c),C&&C.m(n,null),h(e,f),~p&&z[p].m(e,null),h(e,_),h(e,b),B(g,b,null),w(I,$,V),E&&E.m(I,V),w(I,R,V),O&&O.m(I,V),w(I,j,V),S=!0,T||(k=[M(u,"click",t[13]),M(e,"mouseenter",t[12](!0)),M(e,"mouseleave",t[12](!1))],T=!0)},p(I,[V]){I[1]==="normal"?C?(C.p(I,V),V&2&&P(C,1)):(C=vl(I),C.c(),P(C,1),C.m(n,null)):C&&(te(),F(C,1,1,()=>{C=null}),ne());let ue=p;p=Y(I),p===ue?~p&&z[p].p(I,V):(d&&(te(),F(z[ue],1,1,()=>{z[ue]=null}),ne()),~p?(d=z[p],d?d.p(I,V):(d=z[p]=G[p](I),d.c()),P(d,1),d.m(e,_)):d=null);const J={};V&4194304&&(J.$$scope={dirty:V,ctx:I}),g.$set(J),(!S||V&64)&&We(e,"right",I[6]+"rem"),(!S||V&544)&&Q(e,"inactive",!I[5]&&!I[9]),(!S||V&8)&&Q(e,"hidden",I[3]),I[3]?E?(E.p(I,V),V&8&&P(E,1)):(E=kl(I),E.c(),P(E,1),E.m(R.parentNode,R)):E&&(te(),F(E,1,1,()=>{E=null}),ne()),I[2]?O?(O.p(I,V),V&4&&P(O,1)):(O=yl(I),O.c(),P(O,1),O.m(j.parentNode,j)):O&&(te(),F(O,1,1,()=>{O=null}),ne())},i(I){S||(P(o.$$.fragment,I),P(C),P(d),P(g.$$.fragment,I),P(E),P(O),S=!0)},o(I){F(o.$$.fragment,I),F(C),F(d),F(g.$$.fragment,I),F(E),F(O),S=!1},d(I){I&&y(e),q(o),C&&C.d(),~p&&z[p].d(),q(g),I&&y($),E&&E.d(I),I&&y(R),O&&O.d(I),I&&y(j),T=!1,le(k)}}}function uo(t,e,n){let l,s,o;U(t,yt,z=>n(5,l=z)),U(t,xt,z=>n(7,o=z));const i=Pe(),r=!1,a={hidden:-26,shown:0},u=li(a.hidden,{duration:300,easing:Tn}),c=[{id:"recent",title:"Recent Subtitles"},{id:"setup",title:"Session Options"},{id:"settings",title:"Settings"}];U(t,u,z=>n(6,s=z));let{subtitleParser:f=null}=e,{mode:p="normal"}=e,d=!1,_=!1,b;function g(z){return()=>{u.set(z?a.shown:a.hidden),(!z||me(bt))&&i("tray-pauser",z)}}const $=()=>n(2,d=!0);function R(z){b=z,n(4,b)}const j=()=>i("restart");function S(z){_=z,n(3,_)}function T(z){re.call(this,t,z)}function k(z){re.call(this,t,z)}const C=()=>n(3,_=!1);function G(z){d=z,n(2,d)}return t.$$set=z=>{"subtitleParser"in z&&n(0,f=z.subtitleParser),"mode"in z&&n(1,p=z.mode)},[f,p,d,_,b,l,s,o,i,r,u,c,g,$,R,j,S,T,k,C,G]}class wl extends ee{constructor(e){super(),x(this,e,uo,ao,Z,{subtitleParser:0,mode:1})}}const Jr="";function $l(t,e,n){const l=t.slice();return l[15]=e[n],l}function Sl(t,e,n){const l=t.slice();return l[15]=e[n],l}function Al(t){let e=[],n=new Map,l,s,o=t[2];const i=a=>a[15]._id;for(let a=0;a<o.length;a+=1){let u=Sl(t,o,a),c=i(u);n.set(c,e[a]=Cl(c,u))}let r=t[1].length&&Tl(t);return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=A(),r&&r.c(),s=se()},m(a,u){for(let c=0;c<e.length;c+=1)e[c].m(a,u);w(a,l,u),r&&r.m(a,u),w(a,s,u)},p(a,u){u&388&&(o=a[2],e=be(e,u,i,1,a,o,n,l.parentNode,mt,Cl,l,Sl)),a[1].length?r?r.p(a,u):(r=Tl(a),r.c(),r.m(s.parentNode,s)):r&&(r.d(1),r=null)},d(a){for(let u=0;u<e.length;u+=1)e[u].d(a);a&&y(l),r&&r.d(a),a&&y(s)}}}function Cl(t,e){let n,l=e[15].text+"",s,o,i,r,a,u;function c(){return e[11](e[15])}return{key:t,first:null,c(){n=v("p"),s=N(l),m(n,"style",o=e[8](e[15],e[7],!0)),m(n,"data-sub-style",i=e[15].style),m(n,"data-sub-id",r=e[15]._id),m(n,"title","click to search this phrase on Jisho.org"),m(n,"class","svelte-1u656ch"),this.first=n},m(f,p){w(f,n,p),h(n,s),a||(u=M(n,"click",c),a=!0)},p(f,p){e=f,p&4&&l!==(l=e[15].text+"")&&K(s,l),p&132&&o!==(o=e[8](e[15],e[7],!0))&&m(n,"style",o),p&4&&i!==(i=e[15].style)&&m(n,"data-sub-style",i),p&4&&r!==(r=e[15]._id)&&m(n,"data-sub-id",r)},d(f){f&&y(n),a=!1,u()}}}function Tl(t){let e,n=[],l=new Map,s,o=t[1];const i=r=>r[15]._id;for(let r=0;r<o.length;r+=1){let a=$l(t,o,r),u=i(a);l.set(u,n[r]=jl(u,a))}return{c(){e=v("div");for(let r=0;r<n.length;r+=1)n[r].c();m(e,"class",s="subs-without-styles-container "+(t[4]?"inverted":"normal")+" svelte-1u656ch"),Q(e,"active",t[7])},m(r,a){w(r,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null)},p(r,a){a&386&&(o=r[1],n=be(n,a,i,1,r,o,l,e,mt,jl,null,$l)),a&16&&s!==(s="subs-without-styles-container "+(r[4]?"inverted":"normal")+" svelte-1u656ch")&&m(e,"class",s),a&144&&Q(e,"active",r[7])},d(r){r&&y(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function jl(t,e){let n,l=e[15].text+"",s,o,i,r,a,u,c;function f(){return e[12](e[15])}return{key:t,first:null,c(){n=v("p"),s=N(l),o=A(),m(n,"style",i=e[8](e[15],e[7],!1)),m(n,"data-sub-style",r=e[15].style),m(n,"data-sub-id",a=e[15]._id),m(n,"title","click to search this phrase on Jisho.org"),m(n,"class","svelte-1u656ch"),this.first=n},m(p,d){w(p,n,d),h(n,s),h(n,o),u||(c=M(n,"click",f),u=!0)},p(p,d){e=p,d&2&&l!==(l=e[15].text+"")&&K(s,l),d&130&&i!==(i=e[8](e[15],e[7],!1))&&m(n,"style",i),d&2&&r!==(r=e[15].style)&&m(n,"data-sub-style",r),d&2&&a!==(a=e[15]._id)&&m(n,"data-sub-id",a)},d(p){p&&y(n),u=!1,c()}}}function co(t){let e,n,l,s=t[6]&&Al(t);return{c(){e=v("div"),s&&s.c(),m(e,"class",n=Te(`subtitles ${t[5]?"actionable":"non-actionable"}`)+" svelte-1u656ch"),m(e,"style",l=`--aspect-ratio: ${t[3]}`)},m(o,i){w(o,e,i),s&&s.m(e,null)},p(o,[i]){o[6]?s?s.p(o,i):(s=Al(o),s.c(),s.m(e,null)):s&&(s.d(1),s=null),i&32&&n!==(n=Te(`subtitles ${o[5]?"actionable":"non-actionable"}`)+" svelte-1u656ch")&&m(e,"class",n),i&8&&l!==(l=`--aspect-ratio: ${o[3]}`)&&m(e,"style",l)},i:H,o:H,d(o){o&&y(e),s&&s.d()}}}function fo(t,e,n){let l,s,o,i,r,a,u,c=H,f=()=>(c(),c=at(g,S=>n(9,u=S)),g),p,d,_,b;U(t,Qe,S=>n(4,i=S)),U(t,Bn,S=>n(13,r=S)),U(t,ht,S=>n(14,a=S)),U(t,Wn,S=>n(10,p=S)),U(t,qn,S=>n(5,d=S)),U(t,Ze,S=>n(6,_=S)),U(t,yt,S=>n(7,b=S)),t.$$.on_destroy.push(()=>c());let{subtitles:g}=e;f();function $(S,T,k){let C=[`color: ${a}`,`font-size: ${5*r}vh`];return k&&(C.push("position: fixed"),S.verticalAlignment&&C.push(S.verticalAlignment[i?"inverted":"normal"][T?"active":"inactive"]),C=C.concat([S.inline||""])),wt(C)}const R=S=>nt([S.text]),j=S=>nt([S.text]);return t.$$set=S=>{"subtitles"in S&&f(n(0,g=S.subtitles))},t.$$.update=()=>{t.$$.dirty&1024&&n(3,l=Un(p)),t.$$.dirty&512&&n(2,s=u.filter(S=>S.hasStyling)),t.$$.dirty&512&&n(1,o=u.filter(S=>!S.hasStyling))},[g,o,s,l,i,d,_,b,$,u,p,R,j]}class po extends ee{constructor(e){super(),x(this,e,fo,co,Z,{subtitles:0})}}const Xr="";function Rl(t,e,n){const l=t.slice();return l[7]=e[n],l}function _o(t){let e=t[0].text+"",n;return{c(){n=N(e)},m(l,s){w(l,n,s)},p(l,s){s&1&&e!==(e=l[0].text+"")&&K(n,e)},i:H,o:H,d(l){l&&y(n)}}}function mo(t){let e=[],n=new Map,l,s,o=t[0].phrases;const i=r=>r[7]._id;for(let r=0;r<o.length;r+=1){let a=Rl(t,o,r),u=i(a);n.set(u,e[r]=Ml(u,a))}return{c(){for(let r=0;r<e.length;r+=1)e[r].c();l=se()},m(r,a){for(let u=0;u<e.length;u+=1)e[u].m(r,a);w(r,l,a),s=!0},p(r,a){a&3&&(o=r[0].phrases,te(),e=be(e,a,i,1,r,o,n,l.parentNode,Xe,Ml,l,Rl),ne())},i(r){if(!s){for(let a=0;a<o.length;a+=1)P(e[a]);s=!0}},o(r){for(let a=0;a<e.length;a+=1)F(e[a]);s=!1},d(r){for(let a=0;a<e.length;a+=1)e[a].d(r);r&&y(l)}}}function ho(t){let e,n,l=t[7].text+"",s,o,i,r,a=t[7].html&&Pl(t);return{c(){e=v("span"),a&&a.c(),n=A(),s=N(l),o=A(),m(e,"style",i=t[1](t[7],t[0])),m(e,"data-phrase-id",r=t[7]._id)},m(u,c){w(u,e,c),a&&a.m(e,null),h(e,n),h(e,s),h(e,o)},p(u,c){u[7].html?a?a.p(u,c):(a=Pl(u),a.c(),a.m(e,n)):a&&(a.d(1),a=null),c&1&&l!==(l=u[7].text+"")&&K(s,l),c&1&&i!==(i=u[1](u[7],u[0]))&&m(e,"style",i),c&1&&r!==(r=u[7]._id)&&m(e,"data-phrase-id",r)},i:H,o:H,d(u){u&&y(e),a&&a.d()}}}function bo(t){let e,n,l=t[7].text+"",s,o,i,r,a,u,c,f=t[7].html&&Fl(t);return{c(){e=v("span"),f&&f.c(),n=A(),s=N(l),o=A(),m(e,"style",i=t[1](t[7],t[0])),m(e,"data-phrase-id",r=t[7]._id)},m(p,d){w(p,e,d),f&&f.m(e,null),h(e,n),h(e,s),h(e,o),c=!0},p(p,d){t=p,t[7].html?f?f.p(t,d):(f=Fl(t),f.c(),f.m(e,n)):f&&(f.d(1),f=null),(!c||d&1)&&l!==(l=t[7].text+"")&&K(s,l),(!c||d&1&&i!==(i=t[1](t[7],t[0])))&&m(e,"style",i),(!c||d&1&&r!==(r=t[7]._id))&&m(e,"data-phrase-id",r)},i(p){c||(Fe(()=>{u&&u.end(1),a=gn(e,Dn,Nl(t[7].fadeIn)),a.start()}),c=!0)},o(p){a&&a.invalidate(),u=Rs(e,Dn,Nl(t[7].fadeOut)),c=!1},d(p){p&&y(e),f&&f.d(),p&&u&&u.end()}}}function Pl(t){let e,n=t[7].html+"",l;return{c(){e=new cn(!1),l=se(),e.a=l},m(s,o){e.m(n,s,o),w(s,l,o)},p(s,o){o&1&&n!==(n=s[7].html+"")&&e.p(n)},d(s){s&&y(l),s&&e.d()}}}function Fl(t){let e,n=t[7].html+"",l;return{c(){e=new cn(!1),l=se(),e.a=l},m(s,o){e.m(n,s,o),w(s,l,o)},p(s,o){o&1&&n!==(n=s[7].html+"")&&e.p(n)},d(s){s&&y(l),s&&e.d()}}}function Ml(t,e){let n,l,s,o,i;const r=[bo,ho],a=[];function u(c,f){return c[7].fadeIn||c[7].fadeOut?0:1}return l=u(e),s=a[l]=r[l](e),{key:t,first:null,c(){n=se(),s.c(),o=se(),this.first=n},m(c,f){w(c,n,f),a[l].m(c,f),w(c,o,f),i=!0},p(c,f){e=c;let p=l;l=u(e),l===p?a[l].p(e,f):(te(),F(a[p],1,1,()=>{a[p]=null}),ne(),s=a[l],s?s.p(e,f):(s=a[l]=r[l](e),s.c()),P(s,1),s.m(o.parentNode,o))},i(c){i||(P(s),i=!0)},o(c){F(s),i=!1},d(c){c&&y(n),a[l].d(c),c&&y(o)}}}function go(t){let e,n,l,s,o,i,r,a,u;const c=[mo,_o],f=[];function p(d,_){return d[0].phrases.length?0:1}return n=p(t),l=f[n]=c[n](t),{c(){e=v("p"),l.c(),m(e,"style",s=t[2](t[0])),m(e,"data-sub-style",o=t[0].style),m(e,"data-sub-id",i=t[0]._id),m(e,"title","click to search this phrase on Jisho.org"),m(e,"class","svelte-ffx501"),Q(e,"has-movement",!!t[0].movement)},m(d,_){w(d,e,_),f[n].m(e,null),r=!0,a||(u=M(e,"click",t[4]),a=!0)},p(d,[_]){let b=n;n=p(d),n===b?f[n].p(d,_):(te(),F(f[b],1,1,()=>{f[b]=null}),ne(),l=f[n],l?l.p(d,_):(l=f[n]=c[n](d),l.c()),P(l,1),l.m(e,null)),(!r||_&1&&s!==(s=d[2](d[0])))&&m(e,"style",s),(!r||_&1&&o!==(o=d[0].style))&&m(e,"data-sub-style",o),(!r||_&1&&i!==(i=d[0]._id))&&m(e,"data-sub-id",i),(!r||_&1)&&Q(e,"has-movement",!!d[0].movement)},i(d){r||(P(l),r=!0)},o(d){F(l),r=!1},d(d){d&&y(e),f[n].d(),a=!1,u()}}}function Nl(t){return typeof t!="number"&&(t=0),{delay:0,duration:t}}function vo(t,e,n){let l,s;U(t,Bn,c=>n(5,l=c)),U(t,ht,c=>n(6,s=c));let{subtitleParser:o}=e,{sub:i}=e;function r(c,f){const p=o.getStyle(f.style);return wt([`font-size: ${p.fontSize*l}vh`,c.inline,c.fontSize?`font-size: ${c.fontSize*l}vh`:null])}function a(c){let f=[`color: ${s}`];const p=o.getStyle(c.style);if(f.push(p.inline),f=f.concat([c.inline||""]),c.phrases.length||f.push(`font-size: ${p.fontSize*l}vh`),c.movement){const d=c.movement.timings,_=c.movement.timings.length>0,b=_?d[1]-d[0]:c.end-c.start,g=_?d[0]:0;f=f.concat([`--move-duration: ${b}ms`,`--move-delay: ${g}ms`,`--move-from-top: ${c.movement.y1}`,`--move-from-left: ${c.movement.x1}`,`--move-to-top: ${c.movement.y2}`,`--move-to-left: ${c.movement.x2}`])}return wt(f)}const u=()=>nt([i.text]);return t.$$set=c=>{"subtitleParser"in c&&n(3,o=c.subtitleParser),"sub"in c&&n(0,i=c.sub)},[i,r,a,o,u]}class El extends ee{constructor(e){super(),x(this,e,vo,go,Z,{subtitleParser:3,sub:0})}}const Kr="";function Il(t,e,n){const l=t.slice();return l[13]=e[n],l}function Ol(t,e,n){const l=t.slice();return l[16]=e[n],l}function zl(t,e,n){const l=t.slice();return l[19]=e[n],l}function Ll(t,e,n){const l=t.slice();return l[19]=e[n],l}function Dl(t,e){let n,l,s;return l=new El({props:{sub:e[19],subtitleParser:e[0]}}),l.$on("define-pauser",e[8]),{key:t,first:null,c(){n=se(),W(l.$$.fragment),this.first=n},m(o,i){w(o,n,i),B(l,o,i),s=!0},p(o,i){e=o;const r={};i&8&&(r.sub=e[19]),i&1&&(r.subtitleParser=e[0]),l.$set(r)},i(o){s||(P(l.$$.fragment,o),s=!0)},o(o){F(l.$$.fragment,o),s=!1},d(o){o&&y(n),q(l,o)}}}function Hl(t){let e,n=[],l=new Map,s,o=t[13].mounts[`an${t[16]}`];const i=r=>r[19]._id;for(let r=0;r<o.length;r+=1){let a=zl(t,o,r),u=i(a);l.set(u,n[r]=Vl(u,a))}return{c(){e=v("div");for(let r=0;r<n.length;r+=1)n[r].c();m(e,"class","an an"+t[16]+" svelte-14akjkn")},m(r,a){w(r,e,a);for(let u=0;u<n.length;u+=1)n[u].m(e,null);s=!0},p(r,a){a&25&&(o=r[13].mounts[`an${r[16]}`],te(),n=be(n,a,i,1,r,o,l,e,Xe,Vl,null,zl),ne())},i(r){if(!s){for(let a=0;a<o.length;a+=1)P(n[a]);s=!0}},o(r){for(let a=0;a<n.length;a+=1)F(n[a]);s=!1},d(r){r&&y(e);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Vl(t,e){let n,l,s;return l=new El({props:{sub:e[19],subtitleParser:e[0]}}),l.$on("define-pauser",e[9]),{key:t,first:null,c(){n=se(),W(l.$$.fragment),this.first=n},m(o,i){w(o,n,i),B(l,o,i),s=!0},p(o,i){e=o;const r={};i&8&&(r.sub=e[19]),i&1&&(r.subtitleParser=e[0]),l.$set(r)},i(o){s||(P(l.$$.fragment,o),s=!0)},o(o){F(l.$$.fragment,o),s=!1},d(o){o&&y(n),q(l,o)}}}function Gl(t,e){let n,l,s,o=e[13].mounts[`an${e[16]}`].length&&Hl(e);return{key:t,first:null,c(){n=se(),o&&o.c(),l=se(),this.first=n},m(i,r){w(i,n,r),o&&o.m(i,r),w(i,l,r),s=!0},p(i,r){e=i,e[13].mounts[`an${e[16]}`].length?o?(o.p(e,r),r&8&&P(o,1)):(o=Hl(e),o.c(),P(o,1),o.m(l.parentNode,l)):o&&(te(),F(o,1,1,()=>{o=null}),ne())},i(i){s||(P(o),s=!0)},o(i){F(o),s=!1},d(i){i&&y(n),o&&o.d(i),i&&y(l)}}}function Bl(t,e){let n,l=[],s=new Map,o,i=[],r=new Map,a,u,c,f=e[13].mounts.positioned;const p=b=>b[19]._id;for(let b=0;b<f.length;b+=1){let g=Ll(e,f,b),$=p(g);s.set($,l[b]=Dl($,g))}let d=e[4];const _=b=>b[16];for(let b=0;b<d.length;b+=1){let g=Ol(e,d,b),$=_(g);r.set($,i[b]=Gl($,g))}return{key:t,first:null,c(){n=v("div");for(let b=0;b<l.length;b+=1)l[b].c();o=A();for(let b=0;b<i.length;b+=1)i[b].c();a=A(),m(n,"data-ass-layer",u=e[13].layer),m(n,"class","layer svelte-14akjkn"),We(n,"position","absolute"),We(n,"z-index",e[13].layer),this.first=n},m(b,g){w(b,n,g);for(let $=0;$<l.length;$+=1)l[$].m(n,null);h(n,o);for(let $=0;$<i.length;$+=1)i[$].m(n,null);h(n,a),c=!0},p(b,g){e=b,g&9&&(f=e[13].mounts.positioned,te(),l=be(l,g,p,1,e,f,s,n,Xe,Dl,o,Ll),ne()),g&25&&(d=e[4],te(),i=be(i,g,_,1,e,d,r,n,Xe,Gl,a,Ol),ne()),(!c||g&8&&u!==(u=e[13].layer))&&m(n,"data-ass-layer",u),(!c||g&8)&&We(n,"z-index",e[13].layer)},i(b){if(!c){for(let g=0;g<f.length;g+=1)P(l[g]);for(let g=0;g<d.length;g+=1)P(i[g]);c=!0}},o(b){for(let g=0;g<l.length;g+=1)F(l[g]);for(let g=0;g<i.length;g+=1)F(i[g]);c=!1},d(b){b&&y(n);for(let g=0;g<l.length;g+=1)l[g].d();for(let g=0;g<i.length;g+=1)i[g].d()}}}function ko(t){let e,n=[],l=new Map,s,o,i,r=t[3];const a=u=>u[13].layer;for(let u=0;u<r.length;u+=1){let c=Il(t,r,u),f=a(c);l.set(f,n[u]=Bl(f,c))}return{c(){e=v("div");for(let u=0;u<n.length;u+=1)n[u].c();m(e,"class",s=Te(`subtitles ${t[2]?"actionable":"non-actionable"}`)+" svelte-14akjkn"),m(e,"style",o=`--aspect-ratio: ${t[1]}`)},m(u,c){w(u,e,c);for(let f=0;f<n.length;f+=1)n[f].m(e,null);i=!0},p(u,[c]){c&25&&(r=u[3],te(),n=be(n,c,a,1,u,r,l,e,Xe,Bl,null,Il),ne()),(!i||c&4&&s!==(s=Te(`subtitles ${u[2]?"actionable":"non-actionable"}`)+" svelte-14akjkn"))&&m(e,"class",s),(!i||c&2&&o!==(o=`--aspect-ratio: ${u[1]}`))&&m(e,"style",o)},i(u){if(!i){for(let c=0;c<r.length;c+=1)P(n[c]);i=!0}},o(u){for(let c=0;c<n.length;c+=1)F(n[c]);i=!1},d(u){u&&y(e);for(let c=0;c<n.length;c+=1)n[c].d()}}}function yo(t){return{layer:t,mounts:{positioned:[],an1:[],an2:[],an3:[],an4:[],an5:[],an6:[],an7:[],an8:[],an9:[]}}}function wo(t,e,n){let l,s,o,i,r;U(t,Qe,g=>n(10,s=g)),U(t,Wn,g=>n(7,o=g)),U(t,qn,g=>n(2,i=g));let{subtitleParser:a}=e,{subtitles:u}=e;function c(g,$){return $==="auto"?g.getAspectRatio():Un($)}const f=[1,2,3,4,5,6,7,8,9],p={1:"7",2:"8",3:"9",4:"4",5:"5",6:"6",7:"1",8:"2",9:"3"},d=ge(u,g=>{const $={};for(const R of g){const j=R.mountPoint==="positioned"?R.mountPoint:`an${s?p[R.mountPoint]:R.mountPoint}`;$[R.layer]||($[R.layer]=yo(R.layer)),$[R.layer].mounts[j].push(R)}return Object.values($)});U(t,d,g=>n(3,r=g));function _(g){re.call(this,t,g)}function b(g){re.call(this,t,g)}return t.$$set=g=>{"subtitleParser"in g&&n(0,a=g.subtitleParser),"subtitles"in g&&n(6,u=g.subtitles)},t.$$.update=()=>{t.$$.dirty&129&&n(1,l=c(a,o))},[a,l,i,r,f,d,u,o,_,b]}class $o extends ee{constructor(e){super(),x(this,e,wo,ko,Z,{subtitleParser:0,subtitles:6})}}const ql=60*1e3,So=60*ql,Ao=20,Co=3,To=5,jo=9,Wl=t=>Object.assign({},t),Ro=[[/&lrm;/g,""]];class Ul{constructor(e){this.fileName=e,this.subs=[],this.generatedIdBase=0}finish(){this.subs.sort((e,n)=>e.start-n.start),this.subsWithValidText=this.subs.filter(e=>!!e.text)}cleanSubtitleText(e){for(const[n,l]of Ro)e=e.replace(n,l);return e}genId(){return`generated-id-${this.generatedIdBase++}`}getSubs(e){var i;let n=null;const l=this.subs.filter((r,a)=>(r.text&&r.start<=e&&(n=a),r.start<=e&&r.end>=e)),s=((i=this.subs[n])==null?void 0:i._id)??null,o=s?this.subsWithValidText.findIndex(r=>r._id===s):-1;return{subs:l,history:o!==-1?this.subsWithValidText.slice(Math.max(0,o-jo),o+1).reverse():[]}}timeToMs(e){const[n,l,s]=e.split(":");return+n*So+ +l*ql+parseFloat(s)*1e3}prettyTimeDifference(e,n){return`+${parseFloat(((n-e)/1e3).toFixed(1))} seconds`}getAlignmentCandidates(e){return this.subs.sort((n,l)=>n.start-l.end),e?this.subs.reduce((n,l,s)=>{if(l.text.includes(e)){const o=s+1,i=this.subs.slice(o,o+Co).map(Wl).map(r=>(r.offset=this.prettyTimeDifference(l.start,r.start),r));n.push({type:"search-match",sub:l,subsequent:i})}return n},[]).slice(0,To):this.subs.slice(0,Ao).map(Wl).map(n=>(n.offset=this.prettyTimeDifference(this.subs[0].start,n.start),n))}}const Yl=t=>(t.charAt(0).toLowerCase()+t.substring(1)).replace(" ",""),Jl="http://www.w3.org/2000/svg";function $t(t){return document.createElementNS(Jl,t)}function Po(){const t=$t("svg");return t.setAttribute("xmlns",Jl),t}const en="Jimaku Player Fallback Style",Fo={dataType:"style",name:en,fontname:"",fontsize:"20",primaryColour:"&H00FFFFFF",secondaryColour:"&H000000FF",outlineColour:"&H00000000",backColour:"&H00000000",bold:"0",italic:"0",underline:"0",strikeOut:"0",scaleX:"100",scaleY:"100",spacing:"0",angle:"0",borderStyle:"1",outline:"2",shadow:"2",alignment:"2",marginL:"10",marginR:"10",marginV:"10",encoding:"0",_id:en.toLowerCase().replace(/ /g,"-")},Mo={1:1,2:2,3:3,5:7,6:8,7:9,9:4,10:5,11:6},No=t=>Mo[t],ye=t=>{if(t){t=t.toUpperCase().replace(/[&H]/g,"").replace(/[^0-9A-F]/g,""),t=t.padStart(8,"0");const[e,n,l,s,o]=t.match(/([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})([0-9A-F]{2})/i),i=r=>parseInt(r,16);return{rgba:`rgba(${i(o)}, ${i(s)}, ${i(l)}, ${((255-i(n))/255).toFixed(3)})`,weakenAlpha:r=>`rgba(${i(o)}, ${i(s)}, ${i(l)}, ${(r*((255-i(n))/255)).toFixed(3)})`}}},Eo=t=>{if(t.length!==4){const[e,n]=t.length===1?[1,t[0]]:t,l=Xl(n);if(l)return{scale:e,commands:l}}},Xl=t=>{if(!t)return null;const e=[],n=/([mnlbspc][ .0-9-]+)/g;for(const s of t.match(n)){const[o,...i]=s.trim().split(" ");e.push({command:o,coordinates:i.map(parseFloat)})}const l=-1*e.reduce((s,{coordinates:o})=>Math.min(s,...o),0);return e.forEach(s=>{s.coordinates=s.coordinates.map(o=>o+l)}),e},Io=t=>{let e=[],n=0,l=0;function s(i,r){n=Math.max(n,i),l=Math.max(l,r)}function o(i,r,a,u){const c=[],f=r.slice();for(;f.length>0;){const p=f.splice(0,a);u&&u(...p),c.push(i+" "+p.join(" "))}e=e.concat(c)}for(const i of t){let r=i.command;const a=i.coordinates;r==="m"&&e.length>0&&e.push(" Z "),r==="n"&&(r="m"),r==="l"?o("L",a,2,s):r==="m"?(e.push("M"+a.join(" ")),s(a[0],a[1])):r==="b"&&o("C",a,6,(u,c,f,p,d,_)=>{s(u,c),s(f,p),s(d,_)})}return{path:e.join(" "),viewBox:`0 0 ${n} ${l}`,maxHeight:l,maxWidth:n}},Kl=(t,e,n=ye("FF000000"),l=0,s=0)=>{const o=t||n,i=s<1?o.rgba:o.weakenAlpha(1/(4*e)),r=`${s}px`;let a=[];for(let u=-1*e;u<=e;u++)for(let c=-1*e;c<=e;c++)a.push(`${u}px ${c}px ${r} ${i}`);return e===0&&(a=["none"]),`text-shadow: ${a.join(", ")}; filter: drop-shadow(${l}px ${l}px ${r} ${n.rgba})`},Zl=t=>{const e='"Source Han Sans", "源ノ角ゴシック", "Hiragino Sans", "HiraKakuProN-W3", "Hiragino Kaku Gothic ProN W3", "Hiragino Kaku Gothic ProN", "ヒラギノ角ゴ ProN W3", "Noto Sans JP", "Noto Sans CJK JP", "Noto Sans", "メイリオ", Meiryo, "游ゴシック", YuGothic, "ＭＳ Ｐゴシック", "MS PGothic", "ＭＳ ゴシック", "MS Gothic", sans-serif';return t?`font-family: "${t}", ${e}`:`font-family: ${e}`};function*Oo(t){const e=/({.*?}[^{]*)/g;let n;const l=t.indexOf("{");if(l>0){const s=t.substring(0,l);yield{text:s,rawText:s,overrides:{},rawOverrides:{}}}for(;(n=e.exec(t))!==null;)yield Do(n[1])}const lt=t=>parseInt(t,10),zo=[{tag:"t",friendly:"animatedTransform",complex:!0,repeatable:!0},{tag:"move",friendly:"movement",complex:!0,parser:parseFloat},{tag:"clip",friendly:"clip",complex:!0,parser:Eo,parseTogether:!0},{tag:"3c",friendly:"outlineColor",parser:ye},{tag:"4c",friendly:"shadowColor",parser:ye},{tag:"bord",friendly:"outlineSize",parser:parseFloat},{tag:"shad",friendly:"shadowDepth",parser:parseFloat},{tag:"blur",friendly:"blur",parser:parseFloat},{tag:"be",friendly:"blur"},{tag:"pos",friendly:"position",complex:!0,parser:lt},{tag:"an",friendly:"alignment"},{tag:"org",friendly:"origin",complex:!0},{tag:"fscx",friendly:"fontScaleX"},{tag:"fscy",friendly:"fontScaleY"},{tag:"frx",friendly:"rotateX",parser:parseFloat},{tag:"fry",friendly:"rotateY",parser:parseFloat},{tag:"frz",friendly:"rotateZ",parser:parseFloat},{tag:"fad",friendly:"fade",complex:!0,parser:lt},{tag:"fsp",friendly:"letterSpacing"},{tag:"fs",friendly:"fontSize",parser:lt},{tag:"u",friendly:"underline"},{tag:"s",friendly:"strikethrough"},{tag:"b",friendly:"bold",parser:lt},{tag:"i",friendly:"italic",parser:lt},{tag:"fn",friendly:"fontName"},{tag:"1c",friendly:"color",parser:ye},{tag:"c",friendly:"color",parser:ye},{tag:"r",friendly:"reset",defaultValue:!1},{tag:"q",friendly:"wrapStyle"},{tag:"p",friendly:"drawMode"},{tag:"a",friendly:"alignment",parser:No}];function Lo(t,e,n=!1){return e?n?e(t):Array.isArray(t)?t.map(e):e(t):t}function Do(t){const e=t,n=t.replace(/{.*?}/g,""),l={},s={};let[o]=t.match(/{.*?}/);for(const{tag:i,friendly:r,complex:a=!1,defaultValue:u,parser:c,repeatable:f=!1,parseTogether:p}of zo){let d=Ql(o,i,a),_=0;for(;!f&&_===0||f&&d;){if(d){o=d.overrides;let b=Lo(d.params,c,p);typeof u<"u"&&!b&&(b=u),l[r]=f?[...l[r]||[],b]:b,s[i]=f?[...s[i]||[],d.params]:d.params}d=Ql(o,i,a),_++}}return{text:n,rawText:e,overrides:l,rawOverrides:s}}function Ql(t,e,n=!1){if(n){const o=t.match(`\\\\${e}\\((.*)`);if(!o)return;const i=[];let r="",a="",u=!1;const c=o[1];for(let f=0;f<c.length&&t;f++){const p=c[f],d=()=>{a+=p,r+=p};if(p==="(")d(),u=!0;else if(!u&&(p===","||p===")")){if(i.push(a),r+=p,a="",p===")")return{overrides:t.replace(`\\${e}(`+r,""),params:i}}else u&&p===")"?(d(),u=!1):d()}}const l=new RegExp(`\\\\${e}([^\\\\}]*)`),s=t.match(l);if(s)return{overrides:t.replace(s[0],""),params:s[1]}}class xl extends Ul{constructor(e,n){super(n),this.format="ass",e=e.replace(/\r\n/g,`
`);try{this.blocks=this.parseBlocks(e),this.parseInfo(),this.parseStyles(this.parseBlock(this.blocks.styles)),this.subs=this.parseSubOverrideTags(this.parseBlock(this.blocks.subs))}catch(l){console.error("[Jimaku Player] ASS parse error",l),this.parsingSub&&console.error("[Jimaku Player] Error occurred parsing this line",this.parsingSub),this.subs=[]}this.finish()}getAspectRatio(){return+this.info.playResX/+this.info.playResY}serialize(e){let n=this.subs,l=this.styles;if(typeof e=="number"){n=this.getSubs(e).subs,l={};for(const{style:s}of n)l[s]=this.styles[s]}return JSON.stringify({info:this.info,styles:l,subs:n},null,4)}debugInfo(){return[{title:"Number of styles",detail:Object.keys(this.styles).length},{title:"Number of subtitles",detail:this.subs.length},{title:"Resolution",detail:`${this.info.playResX}x${this.info.playResY}`},{title:"Aspect Ratio",detail:this.getAspectRatio()}]}parseInfo(){this.info={playResX:"1280",playResY:"720"},this.blocks.info.split(`
`).forEach(e=>{const[n,l]=e.split(/: ?/);this.info[Yl(n)]=l})}scaleHeight(e,n=!1){const l=100*(e/+this.info.playResY);return n?l:`${l}vh`}scaleWidth(e){return`${100*(e/+this.info.playResX)}vw`}parseBlocks(e){const n=e.split(/\n(?=\[)/),l=s=>n.find(i=>(i=i.trim(),i.match(/^\[(.*?)]/)[1]===s)).replace(/.*\n/,"").trim();return{info:l("Script Info"),styles:l("V4+ Styles"),subs:l("Events")}}parseBlock(e){const[n,...l]=e.split(`
`),s=(i,r=1/0)=>{const[a,u]=i.match(/(\w*): (.*)/).slice(1),c=u.split(",");return c.length>r&&(c[r-1]=c.slice(r-1).join(","),c.splice(r,1/0)),{type:a,attributes:c}},o=s(n);return l.reduce((i,r)=>{if(!r||r.charAt(0)===";"||r.indexOf("Comment: ")===0)return i;const a=s(r,o.attributes.length),u={dataType:a.type.toLowerCase()};return o.attributes.forEach((c,f)=>{c=c.trim();const p=Yl(c);u[p]=a.attributes[f]}),u.style=u.style==="*Default"?"Default":u.style,u._id=this.genId(),i.push(u),i},[])}parseStyles(e){this.styles={},[Fo,...e].forEach(n=>{const l={_id:n._id,name:n.name==="*Default"?"Default":n.name,primaryColor:ye(n.primaryColour),secondaryColor:ye(n.secondaryColour),outlineColor:ye(n.outlineColour),backColor:ye(n.backColour)},s=[],o="-1",{borderStyle:i,outline:r,shadow:a,fontname:u,fontsize:c,bold:f,italic:p,underline:d,strikeOut:_,alignment:b,marginL:g,marginR:$,marginV:R}=n;l.primaryColor&&s.push(`color: ${l.primaryColor.rgba}`),s.push(Zl(u)),i==="1"?s.push(Kl(l.outlineColor,parseFloat(r),l.backColor,+a)):i==="3"&&s.push(`background-color: ${l.backColor.rgba}`),f===o&&s.push("font-weight: bold"),p===o&&s.push("font-style: italic"),(d===o||_===o)&&s.push(`text-decoration: ${d===o?"underline":""} ${_===o?"line-through":""}`),this.styles[l.name]={...l,inline:s.join(";"),marginL:this.scaleWidth(+g),marginR:this.scaleWidth(+$),marginV:this.scaleHeight(+R),fontSize:this.genScaledFont(+c),shadow:parseFloat(a),outline:parseFloat(r),alignment:b,borderStyle:i,fontname:u,fontsize:c,bold:f,italic:p,underline:d,strikeOut:_,raw:n}})}getStyle(e){return this.styles[e]??this.styles[en]}genScaledFont(e){return this.scaleHeight(e*.7,!0)}parseSubOverrideTags(e){const n=e.map(l=>{this.parsingSub=JSON.parse(JSON.stringify(l));const s={_id:l._id,layer:l.layer,rawStart:l.start,rawEnd:l.end,rawText:l.text,start:this.timeToMs(l.start),style:l.style,end:this.timeToMs(l.end),phrases:[],text:this.cleanSubtitleText(l.text.replace(/\\n/g," ").replace(/\\N/g,`
`).trim().replace(/\\h/g," "))},o=this.getStyle(l.style);if(s.mountPoint=o.alignment,!/{.+?}/.test(l.text))return s;const i=u=>u.replace(/{.*?}/g,""),r=Oo(s.text);let a=[];for(const u of r){const c=[],f={_id:this.genId(),text:u.text,fadeIn:0,fadeOut:0,inline:"",overrides:u.overrides,rawOverrides:u.rawOverrides,rawText:u.rawText,html:""},{overrides:p}=u;if([p.outlineColor,p.shadowColor,p.outlineSize,p.shadowDepth,p.blur].some(T=>typeof T<"u")){const T=this.getStyle(s.style),k=(C,G)=>typeof C=="number"?C:G;if(T){const C=p.outlineColor||T.outlineColor,G=p.shadowColor||T.backColor,z=k(p.outlineSize,T.outline),Y=k(p.shadowDepth,T.shadow);a.push(Kl(C,z,G,Y,p.blur))}}const d=[];if(p.position||p.movement){if(s.mountPoint="positioned",p.position){const[k,C]=p.position;c.push(`position: fixed; left: ${this.scaleWidth(k)}; top: ${this.scaleHeight(C)}`)}else if(p.movement){const[k,C,G,z,...Y]=p.movement;s.movement={x1:this.scaleWidth(k),y1:this.scaleHeight(C),x2:this.scaleWidth(G),y2:this.scaleHeight(z),timings:Y.every(E=>E===0)?[]:Y}}c.push("white-space: pre");const T={1:"0, -100%",2:"-50%, -100%",3:"-100%, -100%",4:"0, -50%",5:"-50%, -50%",6:"-100%, -50%",7:"0, 0",8:"-50%, 0",9:"-100%, 0"}[p.alignment||o.alignment];if(c.push(`transform: translate(${T})`),p.origin){const[k,C]=p.origin;a.push(`transform-origin: ${this.scaleWidth(+k)} ${this.scaleHeight(+C)}`)}}else p.alignment&&(s.mountPoint=p.alignment);const{fontScaleX:_,fontScaleY:b}=p;_&&d.push(`scaleX(${_}%)`),b&&d.push(`scaleY(${b}%)`);const g=[],$=(T,k,C=1)=>{if(!isNaN(T))return T*=C,g.push(`${k}(${T}deg)`)};$(p.rotateY,"rotateY"),$(p.rotateX,"rotateX"),$(p.rotateZ,"rotateZ",-1),g.length&&(d.push("perspective(200px)"),d.push(g.join(" "))),d.length&&(a.push("display: inline-block"),a.push(`transform: ${d.join(" ")}`)),p.fade&&(f.fadeIn=p.fade[0],f.fadeOut=p.fade[1],s.end-=f.fadeOut),p.letterSpacing&&a.push(`letter-spacing: ${p.letterSpacing}px`),p.fontSize&&(f.fontSize=this.genScaledFont(p.fontSize));const R=[];p.underline&&R.push("underline"),p.strikethrough&&R.push("line-through"),R.length&&a.push(`text-decoration: ${R.length?R.join(" "):"none"}`);const{bold:j,italic:S}=p;if(j!==void 0){const T={[j]:j,1:"bold",0:"normal"};a.push(`font-weight: ${T[j]}`)}if(typeof S=="number"&&a.push(`font-style: ${S?"italic":"normal"}`),p.fontName&&a.push(Zl(p.fontName)),p.color&&a.push(`color: ${p.color.rgba}`),p.reset?a=[this.getStyle(p.reset).inline]:p.reset===!1&&(a=[]),p.drawMode==="1"){const T=this.draw(f.text,p,o);f.html+=T.html,f.drawCommands=T.commands,f.text="",s.text="",c.push("pointer-events: none"),p.blur&&a.push(`filter: blur(${p.blur}px)`)}if(p.clip){const{html:T,clipId:k}=this.clip(p.clip,f._id);a.push(`clip-path: url(#${k})`),f.html+=T}f.inline=a.join(";"),s.phrases.push(f),c.length&&(s.inline=c.join(";"))}return s.text=i(s.text),s});return this.parsingSub=null,n}genSvg(e,n=1){const l=Po(),s=$t("path"),{path:o,maxHeight:i,maxWidth:r,viewBox:a}=Io(e);return l.setAttribute("viewBox",a),s.setAttribute("d",o),l.setAttribute("width",""+this.scaleWidth(r)),l.setAttribute("height",""+this.scaleHeight(i)),{svg:l,path:s}}clip({scale:e,commands:n},l){const{svg:s,path:o}=this.genSvg(n,e),i=$t("defs"),r=$t("clipPath"),a=`clip-path-${l}`;return r.setAttribute("id",a),s.appendChild(i),i.appendChild(r),r.appendChild(o),{html:s.outerHTML,clipId:a,commands:n}}draw(e,n,l){const s=Xl(e),{svg:o,path:i}=this.genSvg(s);function r(a,u){return a?a.rgba:u.rgba}return i.setAttribute("fill",r(n.color,l.primaryColor)),o.appendChild(i),{html:o.outerHTML,commands:s}}}const Ho={"line-left":"0%",center:"-50%","line-right":"-100%"};class es extends Ul{constructor(e,n){super(n),this.format="subrip",this.parse(e),this.finish()}parse(e){const n=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`).split(`

`);this.subs=n.reduce((l,s)=>{const o=s.trim().split(`
`);function i(){o.shift()}try{/^\d*$/.test(o[0])&&i();const[r,a]=o[0].replace(/,/g,".").match(/^([\d:.\-> ]*)/)[0].split(/-->/),u=o[0].match(/([a-zA-Z].*)/),c=u&&u.length?u[1]:null,f=[],p=o.length-1,d=(V,ue)=>{const J=c==null?void 0:c.match(new RegExp(`${V}:([-\\d\\.]*)%?`));return J?J[1]:ue},_=(V,ue)=>{const J=c==null?void 0:c.match(new RegExp(`${V}:([\\d\\.]*)%`));return J?parseInt(J[1],10):ue},b=()=>{const V=c==null?void 0:c.match(/position:([\d.]*)%(?:,(\w*))?/);return V?{position:parseInt(V[1]),positionAlignment:V[2]==="middle"?"center":V[2]}:{position:50,positionAlignment:"center"}},{position:g,positionAlignment:$="center"}=b(),R=d("line",100),j=_("size",null),S={[R]:R,"-1":100,0:0}[R];f.push(`left: ${g}vw`);const T=`translateX(${Ho[$]})`;f.push(`width: ${j?j+"vw":"max-content"}`),i();const k=this.cleanSubtitleText(o.join(`
`).replace(/<\/?[cibuv].*?>/g,"")),C=1,G=p*C,z=`transform: ${T} `+(S===100?"translateY(-100%)":""),Y=`transform: translateY(${S===100?"0%":"-100%"}) ${T}`,E="calc(100vh - 100px)",O=`${100-G}vh`,I=(V,ue)=>`top: clamp(${G}vh, ${V}vh, ${ue});`;l.push({_id:this.genId(),start:this.timeToMs(r),end:this.timeToMs(a),hasStyling:!!c,verticalAlignment:{normal:{inactive:`${I(S,O)} ${z}`,active:`${I(S,E)} ${z}`},inverted:{inactive:`${I(100-S,O)} ${Y}`,active:`${I(100-S,E)} ${Y}`}},text:k,inline:f.join("; ")})}catch{}return l},[])}serialize(e){return JSON.stringify(typeof e=="number"?this.getSubs(e):this.subs,null,4)}debugInfo(){return[{title:"Number of subtitles",detail:this.subs.length}]}}const Zr="";function ts(t,e,n){const l=t.slice();return l[9]=e[n],l}function ns(t){let e,n=t[9].title+"",l,s,o=t[9].language+"",i,r,a,u;function c(){return t[4](t[9])}return{c(){e=v("button"),l=N(n),s=N(" ("),i=N(o),r=N(`)
		`),m(e,"class","secondary svelte-hysbl4")},m(f,p){w(f,e,p),h(e,l),h(e,s),h(e,i),h(e,r),a||(u=M(e,"click",c),a=!0)},p(f,p){t=f,p&1&&n!==(n=t[9].title+"")&&K(l,n),p&1&&o!==(o=t[9].language+"")&&K(i,o)},d(f){f&&y(e),a=!1,u()}}}function Vo(t){let e,n,l,s,o,i,r,a,u,c,f,p,d,_,b;o=new hl({});let g=t[0]||[],$=[];for(let R=0;R<g.length;R+=1)$[R]=ns(ts(t,g,R));return{c(){e=v("div"),n=v("div"),l=v("label"),s=v("div"),W(o.$$.fragment),i=A(),r=v("div"),r.innerHTML=`<p class="m-0">字幕プレーヤー</p> 
					<p class="m-0 sx-font-size-2">Select a subtitle file to begin</p>`,a=A(),u=v("input"),c=A(),f=v("button"),f.textContent="Cancel",p=A();for(let R=0;R<$.length;R+=1)$[R].c();m(r,"class","ml-3"),m(s,"class","f-row align-items-center"),m(l,"for","srt-upload"),m(l,"class","svelte-hysbl4"),m(u,"type","file"),m(u,"id","srt-upload"),m(u,"accept",".srt,.ass,.ssa,.vtt"),m(u,"class","svelte-hysbl4"),m(f,"class","m-0 svelte-hysbl4"),m(n,"class","f-row gap-1 svelte-hysbl4"),m(e,"class","column svelte-hysbl4"),m(e,"id","subtitles-prompt")},m(R,j){w(R,e,j),h(e,n),h(n,l),h(l,s),B(o,s,null),h(s,i),h(s,r),h(n,a),h(n,u),h(n,c),h(n,f),h(e,p);for(let S=0;S<$.length;S+=1)$[S].m(e,null);d=!0,_||(b=[M(u,"change",t[1]),M(f,"click",t[3])],_=!0)},p(R,[j]){if(j&5){g=R[0]||[];let S;for(S=0;S<g.length;S+=1){const T=ts(R,g,S);$[S]?$[S].p(T,j):($[S]=ns(T),$[S].c(),$[S].m(e,null))}for(;S<$.length;S+=1)$[S].d(1);$.length=g.length}},i(R){d||(P(o.$$.fragment,R),d=!0)},o(R){F(o.$$.fragment,R),d=!1},d(R){R&&y(e),q(o),he($,R),_=!1,le(b)}}}function Go(t,e,n){const l=Pe();let s,o;function i(p){const d=p.target.files[0],_=new FileReader;_.onload=b=>{const g=d.name.match(/\.(\w{3})$/)[1];u(g,b.target.result.toString(),d.name)},_.readAsText(d)}function r(p){u(p.format,p.content,p.title,!0)}const a={ass:xl,ssa:xl,srt:es,vtt:es};function u(p,d,_,b=!1){l("subtitles-loaded",{skipAlignment:b,subtitles:new a[p](d,_)})}function c(){l("cancel")}return Nt(()=>{o=setInterval(()=>{n(0,s=window.jimakuProvidedSubtitles)},100)}),dn(()=>{clearInterval(o)}),[s,i,r,c,p=>r(p)]}class Bo extends ee{constructor(e){super(),x(this,e,Go,Vo,Z,{})}}const Qr="";function ls(t,e,n){const l=t.slice();return l[1]=e[n],l}function ss(t){let e,n=[],l=new Map,s=t[0];const o=i=>i[1].id;for(let i=0;i<s.length;i+=1){let r=ls(t,s,i),a=o(r);l.set(a,n[i]=is(a,r))}return{c(){e=v("div");for(let i=0;i<n.length;i+=1)n[i].c();m(e,"class","toasts f-column gap-3 align-items-center svelte-1lzj44a")},m(i,r){w(i,e,r);for(let a=0;a<n.length;a+=1)n[a].m(e,null)},p(i,r){r&1&&(s=i[0],n=be(n,r,o,1,i,s,l,e,mt,is,null,ls))},d(i){i&&y(e);for(let r=0;r<n.length;r+=1)n[r].d()}}}function is(t,e){let n,l=e[1].message+"",s,o,i;return{key:t,first:null,c(){n=v("div"),s=N(l),o=A(),m(n,"class",i="toast variant-"+e[1].variant+" p-3 sx-font-size-4 svelte-1lzj44a"),this.first=n},m(r,a){w(r,n,a),h(n,s),h(n,o)},p(r,a){e=r,a&1&&l!==(l=e[1].message+"")&&K(s,l),a&1&&i!==(i="toast variant-"+e[1].variant+" p-3 sx-font-size-4 svelte-1lzj44a")&&m(n,"class",i)},d(r){r&&y(n)}}}function qo(t){let e,n=t[0].length&&ss(t);return{c(){n&&n.c(),e=se()},m(l,s){n&&n.m(l,s),w(l,e,s)},p(l,[s]){l[0].length?n?n.p(l,s):(n=ss(l),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:H,o:H,d(l){n&&n.d(l),l&&y(e)}}}function Wo(t,e,n){let l;return U(t,qt,s=>n(0,l=s)),[l]}class Uo extends ee{constructor(e){super(),x(this,e,Wo,qo,Z,{})}}const xr="";function os(t,e,n){const l=t.slice();return l[25]=e[n],l}function rs(t,e,n){const l=t.slice();return l[28]=e[n],l}function Yo(t){let e,n,l,s,o,i,r,a,u,c,f,p;return{c(){e=v("div"),n=v("form"),l=v("label"),l.textContent="Subtitle display time offset (in seconds):",s=A(),o=v("div"),i=v("input"),r=A(),a=v("button"),a.textContent="Set",u=A(),c=v("p"),c.textContent=`The alignment offset is added to the start and end times of every subtitle, so positive numbers will delay
				subtitles and negative numbers will show the subtitles earlier.`,m(l,"for","manual-alignment"),m(l,"class","svelte-1v5j0a9"),m(i,"type","text"),m(i,"id","manual-alignment"),m(i,"autocomplete","off"),m(i,"class","svelte-1v5j0a9"),m(a,"class","svelte-1v5j0a9"),m(n,"class","f-column"),m(c,"class","alignment-sign-hint svelte-1v5j0a9"),m(e,"class","f-column")},m(d,_){w(d,e,_),h(e,n),h(n,l),h(n,s),h(n,o),h(o,i),ae(i,t[2]),h(o,r),h(o,a),h(e,u),h(e,c),f||(p=[M(i,"input",t[23]),M(i,"keydown",t[10]),ze(sr.call(null,i)),M(n,"submit",ys(t[11]))],f=!0)},p(d,_){_[0]&4&&i.value!==d[2]&&ae(i,d[2])},i:H,o:H,d(d){d&&y(e),f=!1,le(p)}}}function Jo(t){let e,n,l,s,o,i,r,a,u,c,f,p,d;function _(j){t[19](j)}let b={id:"subtitle-search",$$slots:{default:[Ko]},$$scope:{ctx:t}};t[0]!==void 0&&(b.value=t[0]),e=new Ys({props:b}),fe.push(()=>Ge(e,"value",_));let g=t[1].length===0&&as(t),$=t[1],R=[];for(let j=0;j<$.length;j+=1)R[j]=cs(os(t,$,j));return{c(){W(e.$$.fragment),l=A(),s=v("div"),o=v("p"),o.textContent="Click a subtitle as soon as you hear it said",i=A(),r=v("div"),g&&g.c(),a=A();for(let j=0;j<R.length;j+=1)R[j].c();u=A(),c=v("button"),c.textContent="Or manually enter an offset...",m(o,"class","svelte-1v5j0a9"),m(r,"id","subtitle-options"),m(r,"class","f-column svelte-1v5j0a9"),m(s,"class","mt-3 svelte-1v5j0a9"),m(s,"id","subtitle-list"),m(c,"class","secondary svelte-1v5j0a9")},m(j,S){B(e,j,S),w(j,l,S),w(j,s,S),h(s,o),h(s,i),h(s,r),g&&g.m(r,null),h(r,a);for(let T=0;T<R.length;T+=1)R[T].m(r,null);w(j,u,S),w(j,c,S),f=!0,p||(d=M(c,"click",t[22]),p=!0)},p(j,S){const T={};if(S[1]&1&&(T.$$scope={dirty:S,ctx:j}),!n&&S[0]&1&&(n=!0,T.value=j[0],He(()=>n=!1)),e.$set(T),j[1].length===0?g?g.p(j,S):(g=as(j),g.c(),g.m(r,a)):g&&(g.d(1),g=null),S[0]&8194){$=j[1];let k;for(k=0;k<$.length;k+=1){const C=os(j,$,k);R[k]?R[k].p(C,S):(R[k]=cs(C),R[k].c(),R[k].m(r,null))}for(;k<R.length;k+=1)R[k].d(1);R.length=$.length}},i(j){f||(P(e.$$.fragment,j),f=!0)},o(j){F(e.$$.fragment,j),f=!1},d(j){q(e,j),j&&y(l),j&&y(s),g&&g.d(),he(R,j),j&&y(u),j&&y(c),p=!1,d()}}}function Xo(t){let e,n,l,s,o,i,r,a,u;function c(_,b){return _[4]?er:xo}let f=c(t),p=f(t),d=t[6].length&&fs(t);return i=new _e({props:{href:"https://github.com/sheodox/jimaku-player#alignment",$$slots:{default:[nr]},$$scope:{ctx:t}}}),{c(){p.c(),e=A(),n=v("button"),n.textContent="Choose a different alignment...",l=A(),d&&d.c(),s=A(),o=v("div"),W(i.$$.fragment),m(n,"class","secondary svelte-1v5j0a9"),m(o,"class","fw-bold mt-4")},m(_,b){p.m(_,b),w(_,e,b),w(_,n,b),w(_,l,b),d&&d.m(_,b),w(_,s,b),w(_,o,b),B(i,o,null),r=!0,a||(u=M(n,"click",t[18]),a=!0)},p(_,b){f===(f=c(_))&&p?p.p(_,b):(p.d(1),p=f(_),p&&(p.c(),p.m(e.parentNode,e))),_[6].length?d?(d.p(_,b),b[0]&64&&P(d,1)):(d=fs(_),d.c(),P(d,1),d.m(s.parentNode,s)):d&&(te(),F(d,1,1,()=>{d=null}),ne());const g={};b[1]&1&&(g.$$scope={dirty:b,ctx:_}),i.$set(g)},i(_){r||(P(d),P(i.$$.fragment,_),r=!0)},o(_){F(d),F(i.$$.fragment,_),r=!1},d(_){p.d(_),_&&y(e),_&&y(n),_&&y(l),d&&d.d(_),_&&y(s),_&&y(o),q(i),a=!1,u()}}}function Ko(t){let e;return{c(){e=N("Subtitle Search")},m(n,l){w(n,e,l)},d(n){n&&y(e)}}}function as(t){let e,n,l,s;return{c(){e=v("p"),n=N('No subtitles matching "'),l=N(t[0]),s=N('".'),m(e,"class","svelte-1v5j0a9")},m(o,i){w(o,e,i),h(e,n),h(e,l),h(e,s)},p(o,i){i[0]&1&&K(l,o[0])},d(o){o&&y(e)}}}function Zo(t){let e,n=t[25].text.trim()+"",l,s,o,i,r,a,u=t[25].offset+"",c,f,p,d,_;function b(){return t[21](t[25])}return{c(){e=v("button"),l=N(n),s=A(),o=v("br"),i=A(),r=v("span"),a=N("("),c=N(u),f=N(")"),p=A(),m(r,"class","muted"),m(e,"class","secondary svelte-1v5j0a9")},m(g,$){w(g,e,$),h(e,l),h(e,s),h(e,o),h(e,i),h(e,r),h(r,a),h(r,c),h(r,f),h(e,p),d||(_=M(e,"click",b),d=!0)},p(g,$){t=g,$[0]&2&&n!==(n=t[25].text.trim()+"")&&K(l,n),$[0]&2&&u!==(u=t[25].offset+"")&&K(c,u)},d(g){g&&y(e),d=!1,_()}}}function Qo(t){let e,n,l,s=t[25].sub.text.trim()+"",o,i,r,a,u=t[25].subsequent,c=[];for(let f=0;f<u.length;f+=1)c[f]=us(rs(t,u,f));return{c(){e=v("div"),n=v("fieldset"),l=v("legend"),o=N(s),i=A(),r=v("div");for(let f=0;f<c.length;f+=1)c[f].c();a=A(),m(l,"class","svelte-1v5j0a9"),m(r,"class","f-column"),m(e,"class","search-match svelte-1v5j0a9")},m(f,p){w(f,e,p),h(e,n),h(n,l),h(l,o),h(n,i),h(n,r);for(let d=0;d<c.length;d+=1)c[d].m(r,null);h(e,a)},p(f,p){if(p[0]&2&&s!==(s=f[25].sub.text.trim()+"")&&K(o,s),p[0]&8194){u=f[25].subsequent;let d;for(d=0;d<u.length;d+=1){const _=rs(f,u,d);c[d]?c[d].p(_,p):(c[d]=us(_),c[d].c(),c[d].m(r,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=u.length}},d(f){f&&y(e),he(c,f)}}}function us(t){let e,n,l=t[28].offset+"",s,o,i,r=t[28].text.trim()+"",a,u,c,f;function p(){return t[20](t[28])}return{c(){e=v("button"),n=N("("),s=N(l),o=N(")"),i=v("br"),a=N(r),u=A(),m(e,"class","secondary svelte-1v5j0a9")},m(d,_){w(d,e,_),h(e,n),h(e,s),h(e,o),h(e,i),h(e,a),h(e,u),c||(f=M(e,"click",p),c=!0)},p(d,_){t=d,_[0]&2&&l!==(l=t[28].offset+"")&&K(s,l),_[0]&2&&r!==(r=t[28].text.trim()+"")&&K(a,r)},d(d){d&&y(e),c=!1,f()}}}function cs(t){let e;function n(o,i){return o[25].type==="search-match"?Qo:Zo}let l=n(t),s=l(t);return{c(){s.c(),e=se()},m(o,i){s.m(o,i),w(o,e,i)},p(o,i){l===(l=n(o))&&s?s.p(o,i):(s.d(1),s=l(o),s&&(s.c(),s.m(e.parentNode,e)))},d(o){s.d(o),o&&y(e)}}}function xo(t){let e,n,l,s,o;return{c(){e=v("p"),e.textContent="You haven't set an alignment for this show before",n=A(),l=v("button"),l.textContent="Assume subtitles are properly timed",m(e,"class","svelte-1v5j0a9"),m(l,"class","svelte-1v5j0a9")},m(i,r){w(i,e,r),w(i,n,r),w(i,l,r),s||(o=M(l,"click",t[17]),s=!0)},p:H,d(i){i&&y(e),i&&y(n),i&&y(l),s=!1,o()}}}function er(t){let e,n,l,s,o,i,r,a,u,c=t[7]&&tr(t);return{c(){e=v("button"),n=N(`Last used alignment
				
				`),c&&c.c(),l=A(),s=v("br"),o=N(`
				(`),i=N(t[5]),r=N(")"),m(e,"class","primary svelte-1v5j0a9")},m(f,p){w(f,e,p),h(e,n),c&&c.m(e,null),h(e,l),h(e,s),h(e,o),h(e,i),h(e,r),a||(u=M(e,"click",t[12]),a=!0)},p(f,p){f[7]&&c.p(f,p),p[0]&32&&K(i,f[5])},d(f){f&&y(e),c&&c.d(),a=!1,u()}}}function tr(t){let e,n;return{c(){e=N("for "),n=v("span"),n.textContent=`${t[7]}`,m(n,"class","show-name svelte-1v5j0a9")},m(l,s){w(l,e,s),w(l,n,s)},p:H,d(l){l&&y(e),l&&y(n)}}}function fs(t){let e,n,l,s;return l=new ll({}),l.$on("aligned",t[15]),{c(){e=v("h2"),e.textContent="Other Recently Used Alignments",n=A(),W(l.$$.fragment),m(e,"class","mt-4 svelte-1v5j0a9")},m(o,i){w(o,e,i),w(o,n,i),B(l,o,i),s=!0},p:H,i(o){s||(P(l.$$.fragment,o),s=!0)},o(o){F(l.$$.fragment,o),s=!1},d(o){o&&y(e),o&&y(n),q(l,o)}}}function nr(t){let e;return{c(){e=N("What is alignment?")},m(n,l){w(n,e,l)},d(n){n&&y(e)}}}function lr(t){let e,n,l,s,o,i,r,a,u,c,f;const p=[Xo,Jo,Yo],d=[];function _(b,g){return b[3]===b[8].entry?0:b[3]===b[8].automatic?1:b[3]===b[8].manual?2:-1}return~(r=_(t))&&(a=d[r]=p[r](t)),{c(){e=v("div"),n=v("div"),l=v("h1"),l.textContent="Alignment",s=A(),o=v("button"),o.textContent="Back",i=A(),a&&a.c(),m(l,"class","svelte-1v5j0a9"),m(o,"class","small svelte-1v5j0a9"),m(n,"class","f-row align-items-center justify-content-between"),m(e,"class","panel m-3 px-4 svelte-1v5j0a9"),m(e,"id","alignment")},m(b,g){w(b,e,g),h(e,n),h(n,l),h(n,s),h(n,o),h(e,i),~r&&d[r].m(e,null),u=!0,c||(f=M(o,"click",t[9]),c=!0)},p(b,g){let $=r;r=_(b),r===$?~r&&d[r].p(b,g):(a&&(te(),F(d[$],1,1,()=>{d[$]=null}),ne()),~r?(a=d[r],a?a.p(b,g):(a=d[r]=p[r](b),a.c()),P(a,1),a.m(e,null)):a=null)},i(b){u||(P(a),u=!0)},o(b){F(a),u=!1},d(b){b&&y(e),~r&&d[r].d(),c=!1,f()}}}function sr(t){t.focus(),t.select()}function ir(t,e,n){let l,s,o;U(t,Yt,O=>n(4,l=O)),U(t,kt,O=>n(5,s=O)),U(t,Jt,O=>n(6,o=O));let{subtitles:i}=e;const r=Pe(),a=me(Me),u={entry:"entry",manual:"manual",automatic:"automatic"};let c=i.getAlignmentCandidates(),f=me(In),p=u.entry,d="";function _(){if(p===u.entry){r("reselect");return}n(3,p=p===u.automatic?u.entry:u.automatic)}function b(O){O.stopPropagation(),O.key==="Enter"&&g()}function g(){isNaN(f)?alert("Please enter a valid number!"):j(f*1e3)}function $(){j(me(pe))}function R(O){j(document.querySelector("video").currentTime*1e3-O.start-400)}function j(O){pe.set(O),Xt(O),S()}function S(){r("done")}const T=()=>j(0),k=()=>n(3,p=u.automatic);function C(O){d=O,n(0,d)}const G=O=>R(O),z=O=>R(O),Y=()=>n(3,p=u.manual);function E(){f=this.value,n(2,f)}return t.$$set=O=>{"subtitles"in O&&n(16,i=O.subtitles)},t.$$.update=()=>{t.$$.dirty[0]&65537&&n(1,c=i.getAlignmentCandidates(d))},[d,c,f,p,l,s,o,a,u,_,b,g,$,R,j,S,i,T,k,C,G,z,Y,E]}class or extends ee{constructor(e){super(),x(this,e,ir,lr,Z,{subtitles:16},null,[-1,-1])}}function rr(t){let e,n;return{c:H,m(l,s){e||(n=M(window,"keydown",t[0]),e=!0)},p:H,i:H,o:H,d(l){e=!1,n()}}}function ar(t,e,n){let l;U(t,xt,i=>n(2,l=i));let{subtitleStore:s}=e;function o(i){const r=document.activeElement.tagName.toLowerCase();if(["textarea","input"].includes(r))return;const a=i.key.toLowerCase();if(a==="h")Ze.update(u=>!u);else if(a==="i")Qe.update(u=>!u);else if(a==="a")nt(me(s).map(u=>u.text));else if(a==="z")Mn(i.shiftKey?gt:vt);else if(a==="x")Mn(-1*(i.shiftKey?gt:vt));else if(a==="b"){const u=l;u[0]&&Gn(u[0].start)}}return t.$$set=i=>{"subtitleStore"in i&&n(1,s=i.subtitleStore)},[o,s]}class ur extends ee{constructor(e){super(),x(this,e,ar,rr,Z,{subtitleStore:1})}}const ea="";function cr(t){let e,n;return e=new wl({props:{mode:"cancelled"}}),e.$on("restart",t[4]),{c(){W(e.$$.fragment)},m(l,s){B(e,l,s),n=!0},p:H,i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function fr(t){let e,n,l,s=t[3]&&ds(t);return n=new wl({props:{subtitleParser:t[1]}}),n.$on("restart",t[4]),n.$on("tray-pauser",t[7]),n.$on("realign",t[10]),{c(){s&&s.c(),e=A(),W(n.$$.fragment)},m(o,i){s&&s.m(o,i),w(o,e,i),B(n,o,i),l=!0},p(o,i){o[3]?s?(s.p(o,i),i&8&&P(s,1)):(s=ds(o),s.c(),P(s,1),s.m(e.parentNode,e)):s&&(te(),F(s,1,1,()=>{s=null}),ne());const r={};i&2&&(r.subtitleParser=o[1]),n.$set(r)},i(o){l||(P(s),P(n.$$.fragment,o),l=!0)},o(o){F(s),F(n.$$.fragment,o),l=!1},d(o){s&&s.d(o),o&&y(e),q(n,o)}}}function dr(t){let e,n;return e=new or({props:{subtitles:t[1]}}),e.$on("done",t[5]),e.$on("reselect",t[9]),{c(){W(e.$$.fragment)},m(l,s){B(e,l,s),n=!0},p(l,s){const o={};s&2&&(o.subtitles=l[1]),e.$set(o)},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function pr(t){let e,n;return e=new Bo({}),e.$on("subtitles-loaded",t[6]),e.$on("cancel",t[8]),{c(){W(e.$$.fragment)},m(l,s){B(e,l,s),n=!0},p:H,i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function ds(t){let e,n,l,s;const o=[mr,_r],i=[];function r(a,u){return a[1].format==="subrip"?0:a[1].format==="ass"?1:-1}return~(e=r(t))&&(n=i[e]=o[e](t)),{c(){n&&n.c(),l=se()},m(a,u){~e&&i[e].m(a,u),w(a,l,u),s=!0},p(a,u){let c=e;e=r(a),e===c?~e&&i[e].p(a,u):(n&&(te(),F(i[c],1,1,()=>{i[c]=null}),ne()),~e?(n=i[e],n?n.p(a,u):(n=i[e]=o[e](a),n.c()),P(n,1),n.m(l.parentNode,l)):n=null)},i(a){s||(P(n),s=!0)},o(a){F(n),s=!1},d(a){~e&&i[e].d(a),a&&y(l)}}}function _r(t){let e,n;return e=new $o({props:{subtitleParser:t[1],subtitles:t[2]}}),{c(){W(e.$$.fragment)},m(l,s){B(e,l,s),n=!0},p(l,s){const o={};s&2&&(o.subtitleParser=l[1]),s&4&&(o.subtitles=l[2]),e.$set(o)},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function mr(t){let e,n;return e=new po({props:{subtitles:t[2]}}),{c(){W(e.$$.fragment)},m(l,s){B(e,l,s),n=!0},p(l,s){const o={};s&4&&(o.subtitles=l[2]),e.$set(o)},i(l){n||(P(e.$$.fragment,l),n=!0)},o(l){F(e.$$.fragment,l),n=!1},d(l){q(e,l)}}}function hr(t){let e,n,l,s,o,i,r,a,u,c;const f=[pr,dr,fr,cr],p=[];function d(_,b){return _[0]==="prompt"?0:_[0]==="align"?1:_[0]==="play"?2:_[0]==="cancelled"?3:-1}return~(n=d(t))&&(l=p[n]=f[n](t)),o=new Uo({}),r=new ur({props:{subtitleStore:t[2]}}),u=new ei({}),{c(){e=v("div"),l&&l.c(),s=A(),W(o.$$.fragment),i=A(),W(r.$$.fragment),a=A(),W(u.$$.fragment),m(e,"class","subtitles-app svelte-eslw97")},m(_,b){w(_,e,b),~n&&p[n].m(e,null),h(e,s),B(o,e,null),w(_,i,b),B(r,_,b),w(_,a,b),B(u,_,b),c=!0},p(_,[b]){let g=n;n=d(_),n===g?~n&&p[n].p(_,b):(l&&(te(),F(p[g],1,1,()=>{p[g]=null}),ne()),~n?(l=p[n],l?l.p(_,b):(l=p[n]=f[n](_),l.c()),P(l,1),l.m(e,s)):l=null);const $={};b&4&&($.subtitleStore=_[2]),r.$set($)},i(_){c||(P(l),P(o.$$.fragment,_),P(r.$$.fragment,_),P(u.$$.fragment,_),c=!0)},o(_){F(l),F(o.$$.fragment,_),F(r.$$.fragment,_),F(u.$$.fragment,_),c=!1},d(_){_&&y(e),~n&&p[n].d(),q(o),_&&y(i),q(r,_),_&&y(a),q(u,_)}}}function ta(t){return t}function na(t){return t}function br(t,e,n){let l,s;U(t,Ht,$=>n(13,l=$)),U(t,Ze,$=>n(3,s=$));let o="prompt",i=null,r=null,a,u;function c(){n(0,o="prompt"),n(1,i=null)}Nt(()=>{document.addEventListener("visibilitychange",()=>{document.hidden||tt.removePauser("define")});let $="",R="";setInterval(()=>{var k;const j=(k=document.querySelector("video"))==null?void 0:k.getAttribute("src");j&&j!==$&&($=j,c());const S=document.querySelector(".video-title"),T=S?S.textContent:"";T!==R&&(R=T,Me.set(T))},50)});function f(){r=document.querySelector("video"),tt.setVideo(r),n(0,o="play"),u&&u(),$i(i),n(2,a=Qn(pe,!0));let $="";u=a.subscribe(R=>{const j=R.map(S=>S.text||"").join(`
`).trim();l&&j!==$&&j&&($=j,GM_setClipboard(j,"text"))})}function p($){n(1,i=$.detail.subtitles),i.subs.length===0?(console.log("subtitles object failed to parse: ",i),alert("No subtitles were able to be parsed from the selected subtitle file. Please submit a bug report with the episode and the subtitles file you used to the issue tracker (a link can be found in the tray on the right side of the video player)!"),n(0,o="cancelled")):$.detail.skipAlignment?(pe.set(0),f()):n(0,o="align")}function d($){$.detail?tt.addPauser("tray"):tt.removePauser("tray")}return[o,i,a,s,c,f,p,d,()=>n(0,o="cancelled"),()=>n(0,o="prompt"),()=>n(0,o="align")]}class gr extends ee{constructor(e){super(),x(this,e,br,hr,Z,{})}}const la="",Ne=document.createElement("div");function vr(){return location.host.includes("crunchyroll")?document.getElementById("vilosRoot"):document.body}function ps(){const t=vr();if(!t)return setTimeout(()=>{ps()},10);t.appendChild(Ne),Ne.id="sheodox-jimaku-player",Ne.style.position="fixed",Ne.style.width="100%",Ne.style.pointerEvents="none",Ne.style.zIndex="999999999",new gr({target:Ne})}ps()})();

							(function() {
								try {
									if (!document.head.querySelector('#jimaku-player-css')){
										const elementStyle = document.createElement('style');
										elementStyle.id = "jimaku-player-css";
										elementStyle.innerText = "@charset \"UTF-8\";.portal-initial-mount-point.svelte-1ok4co{display:none}.overlay.svelte-1vzg2uj{position:fixed;z-index:10000;top:0;left:0;height:100vh;width:100vw;background:rgba(0,0,0,.6);display:flex;flex-direction:column;justify-content:center;align-items:center}.modal.svelte-1vzg2uj{max-width:90vw;border-radius:.3rem;overflow:hidden;display:flex;flex-direction:column;max-height:90vh;background:var(--sx-gray-600);border:1px solid var(--sx-gray-500)}.modal-title.svelte-1vzg2uj{display:flex;flex-direction:row;padding:1rem 1rem 0}h1.svelte-1vzg2uj,button.close.svelte-1vzg2uj{align-self:center}h1.svelte-1vzg2uj{flex:1}h1.svelte-1vzg2uj{margin:0}i.prepend.svelte-xmlzv1{padding-right:var(--sx-spacing-1)}i.append.svelte-xmlzv1{padding-left:var(--sx-spacing-1)}button.small i.svelte-xmlzv1{font-size:12px}header.svelte-6mm322.svelte-6mm322{width:100%;justify-content:space-around}header.svelte-6mm322 h1.svelte-6mm322{font-size:var(--sx-font-size-9)}header.slim.svelte-6mm322.svelte-6mm322{justify-content:space-between;box-shadow:var(--sx-shadow-1);background:var(--sx-gray-transparent);backdrop-filter:blur(10px);position:sticky;z-index:10;top:0}header.slim.svelte-6mm322 h1.svelte-6mm322{margin:.3rem 0;font-weight:400;font-size:var(--sx-font-size-7)}header.no-toolbar.svelte-6mm322.svelte-6mm322{justify-content:space-around}header.has-toolbar.svelte-6mm322.svelte-6mm322{display:grid;grid-template-columns:repeat(3,1fr)}header.has-toolbar.svelte-6mm322 .header-center.svelte-6mm322{margin:0 auto}header.has-toolbar.svelte-6mm322 .header-end.svelte-6mm322{margin-left:auto}header.svelte-6mm322 .branding.svelte-6mm322 img,header.svelte-6mm322 .branding.svelte-6mm322 svg{height:4rem;width:4rem;margin:0 1rem}header.slim.svelte-6mm322 .branding.svelte-6mm322 img,header.slim.svelte-6mm322 .branding.svelte-6mm322 svg{height:2rem;width:2rem}.row.svelte-6mm322.svelte-6mm322{display:flex;flex-direction:row;align-items:center}@media (max-width: 960px){.has-toolbar.svelte-6mm322 .branding.svelte-6mm322{flex-basis:100%}header.has-toolbar.svelte-6mm322.svelte-6mm322{display:flex}header.has-toolbar.svelte-6mm322 .header-center.svelte-6mm322,header.has-toolbar.svelte-6mm322 .header-end.svelte-6mm322{margin:0}}h1.svelte-6mm322 a.svelte-6mm322{color:var(--sx-text-color);text-decoration:none}.sx-header-menu-trigger.svelte-6mm322.svelte-6mm322{border-radius:50%}.divider.svelte-1riw4fj{color:var(--sx-gray-75)}a.svelte-1riw4fj{color:var(--sx-gray-75);font-weight:500}a.svelte-1riw4fj:hover{color:#fff}.last.svelte-1riw4fj{color:#fff;font-weight:600}input.svelte-1rujirx.svelte-1rujirx.svelte-1rujirx{opacity:0}input.svelte-1rujirx:focus+label.svelte-1rujirx>.checkbox-icon.svelte-1rujirx>i{outline:2px solid var(--sx-input-focus-color);outline-offset:1px;border-radius:3px}.checkbox-icon.svelte-1rujirx.svelte-1rujirx.svelte-1rujirx{margin-left:-1.2rem;color:var(--sx-text-color)}.checkbox-icon.svelte-1rujirx i{padding:1px}.checkbox-icon.checked.svelte-1rujirx.svelte-1rujirx.svelte-1rujirx{color:var(--sx-blue-500)}.disabled.svelte-1rujirx.svelte-1rujirx.svelte-1rujirx{color:var(--sx-muted)}.sx-progress.svelte-1mz7ldv{width:100%;border-radius:.2rem;background:var(--sx-gray-transparent-light);border:none;border-radius:3px;overflow:hidden}.sx-progress.variant-normal.svelte-1mz7ldv{height:var(--sx-spacing-2)}.sx-progress.variant-slim.svelte-1mz7ldv{height:var(--sx-spacing-1)}.sx-progress.variant-minimal.svelte-1mz7ldv{height:1px}.sx-progress-bar.svelte-1mz7ldv{background:var(--sx-pink-500);height:100%;transition:width .1s ease-in-out}footer.svelte-jxbidm{width:100%;position:relative;bottom:0;padding:1rem;display:flex;justify-content:center}.dropdown-menu.svelte-8ip1m5 ul{list-style:none}.dropdown-menu.svelte-8ip1m5 button{color:var(--sx-text-color);text-align:left}.dropdown-menu.svelte-8ip1m5 button:disabled{color:var(--sx-disabled-button-color)}.down-icon.svelte-gv0sjo{padding-left:.5rem}.nav-dropdown-menu.svelte-gv0sjo,.menubutton-menu.svelte-1jm8kvp{z-index:1000}@keyframes svelte-nmccxp-loading{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.container.svelte-nmccxp.svelte-nmccxp:not(.small){padding:1rem;width:100%}.indicator.svelte-nmccxp.svelte-nmccxp{margin:0 auto;height:3rem;width:3rem;border-radius:100%;border:1px solid #00b7ff;border-right-color:transparent;animation:svelte-nmccxp-loading .6s infinite linear}.container.small.svelte-nmccxp.svelte-nmccxp{padding:.2rem}.small.svelte-nmccxp .indicator.svelte-nmccxp{height:1rem;width:1rem}div.svelte-14gkwni.svelte-14gkwni{padding:.2rem;position:relative;flex-direction:row}.focused.svelte-14gkwni.svelte-14gkwni{outline:2px solid var(--sx-input-focus-color)}input.svelte-14gkwni.svelte-14gkwni{outline:none!important;border:none!important;background:transparent!important;transition:opacity .2s;padding:.7rem 0 0;width:100%}label.svelte-14gkwni.svelte-14gkwni{transition:transform .2s ease-in-out,margin .2s ease-in-out,color .2s ease-in-out;display:block;min-height:.5rem;cursor:text;position:absolute;top:0;font-size:1rem;pointer-events:none;transform-origin:top left}.muted-label.svelte-14gkwni label.svelte-14gkwni{transform:scale(.7);color:var(--sx-gray-75)}.emphasized-label.svelte-14gkwni label.svelte-14gkwni{transform:scale(1);margin-top:.5rem;color:var(--sx-gray-50)}.emphasized-label.svelte-14gkwni input.svelte-14gkwni{opacity:0}.tab.svelte-g9bv3d{display:none}.tab.selected.svelte-g9bv3d{display:block}aside.svelte-1dzykfp.svelte-1dzykfp{max-width:100vw;height:100vh;top:0;left:0;right:0;background-color:var(--sx-gray-800);z-index:999;transition:transform .2s;overflow-y:auto}aside.svelte-1dzykfp .sx-sidebar-close-button.svelte-1dzykfp{border-radius:50%}aside.docked.svelte-1dzykfp.svelte-1dzykfp{height:calc(100vh - 48px);top:48px}aside.docked.open.svelte-1dzykfp.svelte-1dzykfp{width:var(--sx-sidebar-width);min-width:var(--sx-sidebar-width);transform:translate(0)}aside.docked.closed.svelte-1dzykfp.svelte-1dzykfp{width:0rem;transform:translate(-100%);overflow:hidden}aside.as-overlay.svelte-1dzykfp.svelte-1dzykfp{position:fixed;width:var(--sx-sidebar-width)}aside.as-overlay.open.svelte-1dzykfp.svelte-1dzykfp{transform:translate(0)}aside.as-overlay.closed.svelte-1dzykfp.svelte-1dzykfp{transform:translate(-100%)}html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button}button::-moz-focus-inner,[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}:root{--sx-hue-gray:210;--sx-gray-900:hsl(var(--sx-hue-gray), 35%, 0%);--sx-gray-800:hsl(var(--sx-hue-gray), 32%, 6%);--sx-gray-700:hsl(var(--sx-hue-gray), 30%, 9%);--sx-gray-600:hsl(var(--sx-hue-gray), 27%, 13%);--sx-gray-500:hsl(var(--sx-hue-gray), 26%, 19%);--sx-gray-400:hsl(var(--sx-hue-gray), 25%, 25%);--sx-gray-300:hsl(var(--sx-hue-gray), 27%, 42%);--sx-gray-200:hsl(var(--sx-hue-gray), 28%, 56%);--sx-gray-100:hsl(var(--sx-hue-gray), 30%, 65%);--sx-gray-75:hsl(var(--sx-hue-gray), 40%, 75%);--sx-gray-50:hsl(var(--sx-hue-gray), 55%, 85%);--sx-gray-25:hsl(var(--sx-hue-gray), 69%, 92%);--sx-gray-transparent:hsla(var(--sx-hue-gray), 20%, 29%, 30%);--sx-gray-transparent-faint:hsla(var(--sx-hue-gray), 20%, 29%, 10%);--sx-gray-transparent-light:hsla(var(--sx-hue-gray), 20%, 50%, 30%);--sx-gray-transparent-lighter:hsla(var(--sx-hue-gray), 40%, 70%, 30%);--sx-gray-transparent-dark:hsla(var(--sx-hue-gray), 26%, 0%, 45%);--sx-gray-transparent-darker:hsla(var(--sx-hue-gray), 26%, 0%, 55%);--sx-red-900:hsl(0, 80%, 10%);--sx-red-800:hsl(0, 75%, 17%);--sx-red-700:hsl(0, 75%, 25%);--sx-red-600:hsl(0, 75%, 40%);--sx-red-500:hsl(0, 75%, 50%);--sx-red-400:hsl(0, 90%, 60%);--sx-red-300:hsl(0, 95%, 70%);--sx-red-200:hsl(0, 100%, 85%);--sx-red-100:hsl(0, 100%, 90%);--sx-red-transparent:hsla(0, 75%, 50%, 30%);--sx-red-transparent-faint:hsla(0, 75%, 50%, 10%);--sx-orange-900:hsl(20, 80%, 10%);--sx-orange-800:hsl(25, 75%, 17%);--sx-orange-700:hsl(25, 75%, 25%);--sx-orange-600:hsl(25, 75%, 40%);--sx-orange-500:hsl(25, 75%, 50%);--sx-orange-400:hsl(25, 75%, 60%);--sx-orange-300:hsl(25, 78%, 70%);--sx-orange-200:hsl(25, 80%, 85%);--sx-orange-100:hsl(20, 85%, 90%);--sx-orange-transparent:hsla(25, 75%, 50%, 30%);--sx-orange-transparent-faint:hsla(25, 75%, 50%, 10%);--sx-yellow-900:hsl(35, 100%, 10%);--sx-yellow-800:hsl(42, 100%, 17%);--sx-yellow-700:hsl(52, 100%, 30%);--sx-yellow-600:hsl(57, 100%, 45%);--sx-yellow-500:hsl(60, 100%, 50%);--sx-yellow-400:hsl(60, 90%, 55%);--sx-yellow-300:hsl(58, 87%, 67%);--sx-yellow-200:hsl(55, 85%, 85%);--sx-yellow-100:hsl(52, 82%, 90%);--sx-yellow-transparent:hsla(60, 100%, 50%, 30%);--sx-yellow-transparent-faint:hsla(60, 100%, 50%, 10%);--sx-green-900:hsl(135, 99%, 7%);--sx-green-800:hsl(135, 99%, 12%);--sx-green-700:hsl(135, 99%, 26%);--sx-green-600:hsl(135, 99%, 40%);--sx-green-500:hsl(135, 99%, 50%);--sx-green-400:hsl(135, 99%, 60%);--sx-green-300:hsl(135, 99%, 72%);--sx-green-200:hsl(135, 99%, 88%);--sx-green-100:hsl(135, 100%, 94%);--sx-green-transparent:hsla(135, 99%, 50%, 30%);--sx-green-transparent-faint:hsla(135, 99%, 50%, 10%);--sx-mint-900:hsl(166, 99%, 7%);--sx-mint-800:hsl(166, 99%, 12%);--sx-mint-700:hsl(166, 99%, 26%);--sx-mint-600:hsl(166, 99%, 40%);--sx-mint-500:hsl(166, 99%, 50%);--sx-mint-400:hsl(166, 99%, 60%);--sx-mint-300:hsl(166, 99%, 72%);--sx-mint-200:hsl(166, 99%, 88%);--sx-mint-100:hsl(166, 100%, 94%);--sx-mint-transparent:hsla(166, 99%, 50%, 30%);--sx-mint-transparent-faint:hsla(166, 99%, 50%, 10%);--sx-cyan-900:hsl(185, 85%, 7%);--sx-cyan-800:hsl(185, 70%, 12%);--sx-cyan-700:hsl(185, 70%, 20%);--sx-cyan-600:hsl(185, 70%, 35%);--sx-cyan-500:hsl(185, 70%, 50%);--sx-cyan-400:hsl(185, 70%, 55%);--sx-cyan-300:hsl(185, 72%, 65%);--sx-cyan-200:hsl(185, 75%, 75%);--sx-cyan-100:hsl(185, 85%, 85%);--sx-cyan-transparent:hsla(185, 70%, 50%, 30%);--sx-cyan-transparent-faint:hsla(185, 70%, 50%, 10%);--sx-blue-900:hsl(215, 100%, 7%);--sx-blue-800:hsl(215, 100%, 10%);--sx-blue-700:hsl(215, 100%, 20%);--sx-blue-600:hsl(215, 100%, 44%);--sx-blue-500:hsl(215, 100%, 50%);--sx-blue-400:hsl(214, 100%, 57%);--sx-blue-300:hsl(213, 100%, 65%);--sx-blue-200:hsl(212, 100%, 75%);--sx-blue-100:hsl(210, 100%, 85%);--sx-blue-transparent:hsla(215, 100%, 50%, 30%);--sx-blue-transparent-faint:hsla(215, 100%, 50%, 10%);--sx-purple-900:hsl(275, 100%, 10%);--sx-purple-800:hsl(272, 92%, 17%);--sx-purple-700:hsl(270, 83%, 25%);--sx-purple-600:hsl(268, 75%, 40%);--sx-purple-500:hsl(268, 60%, 50%);--sx-purple-400:hsl(268, 75%, 57%);--sx-purple-300:hsl(270, 83%, 70%);--sx-purple-200:hsl(272, 92%, 85%);--sx-purple-100:hsl(275, 100%, 90%);--sx-purple-transparent:hsla(268, 90%, 50%, 30%);--sx-purple-transparent-faint:hsla(268, 90%, 50%, 10%);--sx-pink-900:hsl(298, 77%, 10%);--sx-pink-800:hsl(298, 77%, 17%);--sx-pink-700:hsl(298, 77%, 25%);--sx-pink-600:hsl(298, 77%, 40%);--sx-pink-500:hsl(298, 77%, 51%);--sx-pink-400:hsl(298, 77%, 61%);--sx-pink-300:hsl(298, 77%, 72%);--sx-pink-200:hsl(298, 77%, 85%);--sx-pink-100:hsl(298, 77%, 90%);--sx-pink-transparent:hsla(298, 77%, 51%, 30%);--sx-pink-transparent-faint:hsla(298, 77%, 51%, 10%);--sx-peach-900:hsl(330, 77%, 10%);--sx-peach-800:hsl(330, 77%, 17%);--sx-peach-700:hsl(330, 77%, 25%);--sx-peach-600:hsl(330, 77%, 40%);--sx-peach-500:hsl(330, 77%, 51%);--sx-peach-400:hsl(330, 77%, 61%);--sx-peach-300:hsl(330, 77%, 72%);--sx-peach-200:hsl(330, 77%, 85%);--sx-peach-100:hsl(330, 77%, 90%);--sx-peach-transparent:hsla(330, 77%, 51%, 30%);--sx-peach-transparent-faint:hsla(330, 77%, 51%, 10%)}:root{--sx-shadow-1:0 1px 3px hsla(0, 0%, 0%, .6);--sx-shadow-2:0 0 5px hsla(0, 0%, 0%, .6);--sx-shadow-3:0 0 12px hsla(0, 0%, 0%, .6);--sx-shadow-4:0 0 15px hsla(0, 0%, 0%, .6);--sx-shadow-5:0 0 30px hsla(0, 0%, 0%, .6);--sx-light-shadow-1:0 1px 3px hsla(0, 0%, 100%, .3);--sx-light-shadow-2:0 0 5px hsla(0, 0%, 100%, .3);--sx-light-shadow-3:0 0 12px hsla(0, 0%, 100%, .3);--sx-light-shadow-4:0 0 15px hsla(0, 0%, 100%, .3);--sx-light-shadow-5:0 0 30px hsla(0, 0%, 100%, .3)}:root{--sx-spacing-0:0;--sx-spacing-1:4px;--sx-spacing-2:8px;--sx-spacing-3:12px;--sx-spacing-4:16px;--sx-spacing-5:24px;--sx-spacing-6:32px;--sx-spacing-7:48px;--sx-spacing-8:64px;--sx-spacing-9:96px;--sx-spacing-10:128px;--sx-spacing-11:256px;--sx-spacing-12:384px;--sx-spacing-13:512px;--sx-spacing-14:640px;--sx-spacing-15:768px}.m-0{margin:var(--sx-spacing-0)!important}.mt-0{margin-top:var(--sx-spacing-0)!important}.mb-0{margin-bottom:var(--sx-spacing-0)!important}.ml-0{margin-left:var(--sx-spacing-0)!important}.mr-0{margin-right:var(--sx-spacing-0)!important}.my-0{margin-top:var(--sx-spacing-0)!important;margin-bottom:var(--sx-spacing-0)!important}.mx-0{margin-left:var(--sx-spacing-0)!important;margin-right:var(--sx-spacing-0)!important}.p-0{padding:var(--sx-spacing-0)!important}.pt-0{padding-top:var(--sx-spacing-0)!important}.pb-0{padding-bottom:var(--sx-spacing-0)!important}.pl-0{padding-left:var(--sx-spacing-0)!important}.pr-0{padding-right:var(--sx-spacing-0)!important}.py-0{padding-top:var(--sx-spacing-0)!important;padding-bottom:var(--sx-spacing-0)!important}.px-0{padding-left:var(--sx-spacing-0)!important;padding-right:var(--sx-spacing-0)!important}.m-1{margin:var(--sx-spacing-1)!important}.mt-1{margin-top:var(--sx-spacing-1)!important}.mb-1{margin-bottom:var(--sx-spacing-1)!important}.ml-1{margin-left:var(--sx-spacing-1)!important}.mr-1{margin-right:var(--sx-spacing-1)!important}.my-1{margin-top:var(--sx-spacing-1)!important;margin-bottom:var(--sx-spacing-1)!important}.mx-1{margin-left:var(--sx-spacing-1)!important;margin-right:var(--sx-spacing-1)!important}.p-1{padding:var(--sx-spacing-1)!important}.pt-1{padding-top:var(--sx-spacing-1)!important}.pb-1{padding-bottom:var(--sx-spacing-1)!important}.pl-1{padding-left:var(--sx-spacing-1)!important}.pr-1{padding-right:var(--sx-spacing-1)!important}.py-1{padding-top:var(--sx-spacing-1)!important;padding-bottom:var(--sx-spacing-1)!important}.px-1{padding-left:var(--sx-spacing-1)!important;padding-right:var(--sx-spacing-1)!important}.m-2{margin:var(--sx-spacing-2)!important}.mt-2{margin-top:var(--sx-spacing-2)!important}.mb-2{margin-bottom:var(--sx-spacing-2)!important}.ml-2{margin-left:var(--sx-spacing-2)!important}.mr-2{margin-right:var(--sx-spacing-2)!important}.my-2{margin-top:var(--sx-spacing-2)!important;margin-bottom:var(--sx-spacing-2)!important}.mx-2{margin-left:var(--sx-spacing-2)!important;margin-right:var(--sx-spacing-2)!important}.p-2{padding:var(--sx-spacing-2)!important}.pt-2{padding-top:var(--sx-spacing-2)!important}.pb-2{padding-bottom:var(--sx-spacing-2)!important}.pl-2{padding-left:var(--sx-spacing-2)!important}.pr-2{padding-right:var(--sx-spacing-2)!important}.py-2{padding-top:var(--sx-spacing-2)!important;padding-bottom:var(--sx-spacing-2)!important}.px-2{padding-left:var(--sx-spacing-2)!important;padding-right:var(--sx-spacing-2)!important}.m-3{margin:var(--sx-spacing-3)!important}.mt-3{margin-top:var(--sx-spacing-3)!important}.mb-3{margin-bottom:var(--sx-spacing-3)!important}.ml-3{margin-left:var(--sx-spacing-3)!important}.mr-3{margin-right:var(--sx-spacing-3)!important}.my-3{margin-top:var(--sx-spacing-3)!important;margin-bottom:var(--sx-spacing-3)!important}.mx-3{margin-left:var(--sx-spacing-3)!important;margin-right:var(--sx-spacing-3)!important}.p-3{padding:var(--sx-spacing-3)!important}.pt-3{padding-top:var(--sx-spacing-3)!important}.pb-3{padding-bottom:var(--sx-spacing-3)!important}.pl-3{padding-left:var(--sx-spacing-3)!important}.pr-3{padding-right:var(--sx-spacing-3)!important}.py-3{padding-top:var(--sx-spacing-3)!important;padding-bottom:var(--sx-spacing-3)!important}.px-3{padding-left:var(--sx-spacing-3)!important;padding-right:var(--sx-spacing-3)!important}.m-4{margin:var(--sx-spacing-4)!important}.mt-4{margin-top:var(--sx-spacing-4)!important}.mb-4{margin-bottom:var(--sx-spacing-4)!important}.ml-4{margin-left:var(--sx-spacing-4)!important}.mr-4{margin-right:var(--sx-spacing-4)!important}.my-4{margin-top:var(--sx-spacing-4)!important;margin-bottom:var(--sx-spacing-4)!important}.mx-4{margin-left:var(--sx-spacing-4)!important;margin-right:var(--sx-spacing-4)!important}.p-4{padding:var(--sx-spacing-4)!important}.pt-4{padding-top:var(--sx-spacing-4)!important}.pb-4{padding-bottom:var(--sx-spacing-4)!important}.pl-4{padding-left:var(--sx-spacing-4)!important}.pr-4{padding-right:var(--sx-spacing-4)!important}.py-4{padding-top:var(--sx-spacing-4)!important;padding-bottom:var(--sx-spacing-4)!important}.px-4{padding-left:var(--sx-spacing-4)!important;padding-right:var(--sx-spacing-4)!important}.m-5{margin:var(--sx-spacing-5)!important}.mt-5{margin-top:var(--sx-spacing-5)!important}.mb-5{margin-bottom:var(--sx-spacing-5)!important}.ml-5{margin-left:var(--sx-spacing-5)!important}.mr-5{margin-right:var(--sx-spacing-5)!important}.my-5{margin-top:var(--sx-spacing-5)!important;margin-bottom:var(--sx-spacing-5)!important}.mx-5{margin-left:var(--sx-spacing-5)!important;margin-right:var(--sx-spacing-5)!important}.p-5{padding:var(--sx-spacing-5)!important}.pt-5{padding-top:var(--sx-spacing-5)!important}.pb-5{padding-bottom:var(--sx-spacing-5)!important}.pl-5{padding-left:var(--sx-spacing-5)!important}.pr-5{padding-right:var(--sx-spacing-5)!important}.py-5{padding-top:var(--sx-spacing-5)!important;padding-bottom:var(--sx-spacing-5)!important}.px-5{padding-left:var(--sx-spacing-5)!important;padding-right:var(--sx-spacing-5)!important}.m-6{margin:var(--sx-spacing-6)!important}.mt-6{margin-top:var(--sx-spacing-6)!important}.mb-6{margin-bottom:var(--sx-spacing-6)!important}.ml-6{margin-left:var(--sx-spacing-6)!important}.mr-6{margin-right:var(--sx-spacing-6)!important}.my-6{margin-top:var(--sx-spacing-6)!important;margin-bottom:var(--sx-spacing-6)!important}.mx-6{margin-left:var(--sx-spacing-6)!important;margin-right:var(--sx-spacing-6)!important}.p-6{padding:var(--sx-spacing-6)!important}.pt-6{padding-top:var(--sx-spacing-6)!important}.pb-6{padding-bottom:var(--sx-spacing-6)!important}.pl-6{padding-left:var(--sx-spacing-6)!important}.pr-6{padding-right:var(--sx-spacing-6)!important}.py-6{padding-top:var(--sx-spacing-6)!important;padding-bottom:var(--sx-spacing-6)!important}.px-6{padding-left:var(--sx-spacing-6)!important;padding-right:var(--sx-spacing-6)!important}.m-7{margin:var(--sx-spacing-7)!important}.mt-7{margin-top:var(--sx-spacing-7)!important}.mb-7{margin-bottom:var(--sx-spacing-7)!important}.ml-7{margin-left:var(--sx-spacing-7)!important}.mr-7{margin-right:var(--sx-spacing-7)!important}.my-7{margin-top:var(--sx-spacing-7)!important;margin-bottom:var(--sx-spacing-7)!important}.mx-7{margin-left:var(--sx-spacing-7)!important;margin-right:var(--sx-spacing-7)!important}.p-7{padding:var(--sx-spacing-7)!important}.pt-7{padding-top:var(--sx-spacing-7)!important}.pb-7{padding-bottom:var(--sx-spacing-7)!important}.pl-7{padding-left:var(--sx-spacing-7)!important}.pr-7{padding-right:var(--sx-spacing-7)!important}.py-7{padding-top:var(--sx-spacing-7)!important;padding-bottom:var(--sx-spacing-7)!important}.px-7{padding-left:var(--sx-spacing-7)!important;padding-right:var(--sx-spacing-7)!important}.m-8{margin:var(--sx-spacing-8)!important}.mt-8{margin-top:var(--sx-spacing-8)!important}.mb-8{margin-bottom:var(--sx-spacing-8)!important}.ml-8{margin-left:var(--sx-spacing-8)!important}.mr-8{margin-right:var(--sx-spacing-8)!important}.my-8{margin-top:var(--sx-spacing-8)!important;margin-bottom:var(--sx-spacing-8)!important}.mx-8{margin-left:var(--sx-spacing-8)!important;margin-right:var(--sx-spacing-8)!important}.p-8{padding:var(--sx-spacing-8)!important}.pt-8{padding-top:var(--sx-spacing-8)!important}.pb-8{padding-bottom:var(--sx-spacing-8)!important}.pl-8{padding-left:var(--sx-spacing-8)!important}.pr-8{padding-right:var(--sx-spacing-8)!important}.py-8{padding-top:var(--sx-spacing-8)!important;padding-bottom:var(--sx-spacing-8)!important}.px-8{padding-left:var(--sx-spacing-8)!important;padding-right:var(--sx-spacing-8)!important}.m-9{margin:var(--sx-spacing-9)!important}.mt-9{margin-top:var(--sx-spacing-9)!important}.mb-9{margin-bottom:var(--sx-spacing-9)!important}.ml-9{margin-left:var(--sx-spacing-9)!important}.mr-9{margin-right:var(--sx-spacing-9)!important}.my-9{margin-top:var(--sx-spacing-9)!important;margin-bottom:var(--sx-spacing-9)!important}.mx-9{margin-left:var(--sx-spacing-9)!important;margin-right:var(--sx-spacing-9)!important}.p-9{padding:var(--sx-spacing-9)!important}.pt-9{padding-top:var(--sx-spacing-9)!important}.pb-9{padding-bottom:var(--sx-spacing-9)!important}.pl-9{padding-left:var(--sx-spacing-9)!important}.pr-9{padding-right:var(--sx-spacing-9)!important}.py-9{padding-top:var(--sx-spacing-9)!important;padding-bottom:var(--sx-spacing-9)!important}.px-9{padding-left:var(--sx-spacing-9)!important;padding-right:var(--sx-spacing-9)!important}.m-10{margin:var(--sx-spacing-10)!important}.mt-10{margin-top:var(--sx-spacing-10)!important}.mb-10{margin-bottom:var(--sx-spacing-10)!important}.ml-10{margin-left:var(--sx-spacing-10)!important}.mr-10{margin-right:var(--sx-spacing-10)!important}.my-10{margin-top:var(--sx-spacing-10)!important;margin-bottom:var(--sx-spacing-10)!important}.mx-10{margin-left:var(--sx-spacing-10)!important;margin-right:var(--sx-spacing-10)!important}.p-10{padding:var(--sx-spacing-10)!important}.pt-10{padding-top:var(--sx-spacing-10)!important}.pb-10{padding-bottom:var(--sx-spacing-10)!important}.pl-10{padding-left:var(--sx-spacing-10)!important}.pr-10{padding-right:var(--sx-spacing-10)!important}.py-10{padding-top:var(--sx-spacing-10)!important;padding-bottom:var(--sx-spacing-10)!important}.px-10{padding-left:var(--sx-spacing-10)!important;padding-right:var(--sx-spacing-10)!important}.m-11{margin:var(--sx-spacing-11)!important}.mt-11{margin-top:var(--sx-spacing-11)!important}.mb-11{margin-bottom:var(--sx-spacing-11)!important}.ml-11{margin-left:var(--sx-spacing-11)!important}.mr-11{margin-right:var(--sx-spacing-11)!important}.my-11{margin-top:var(--sx-spacing-11)!important;margin-bottom:var(--sx-spacing-11)!important}.mx-11{margin-left:var(--sx-spacing-11)!important;margin-right:var(--sx-spacing-11)!important}.p-11{padding:var(--sx-spacing-11)!important}.pt-11{padding-top:var(--sx-spacing-11)!important}.pb-11{padding-bottom:var(--sx-spacing-11)!important}.pl-11{padding-left:var(--sx-spacing-11)!important}.pr-11{padding-right:var(--sx-spacing-11)!important}.py-11{padding-top:var(--sx-spacing-11)!important;padding-bottom:var(--sx-spacing-11)!important}.px-11{padding-left:var(--sx-spacing-11)!important;padding-right:var(--sx-spacing-11)!important}.m-12{margin:var(--sx-spacing-12)!important}.mt-12{margin-top:var(--sx-spacing-12)!important}.mb-12{margin-bottom:var(--sx-spacing-12)!important}.ml-12{margin-left:var(--sx-spacing-12)!important}.mr-12{margin-right:var(--sx-spacing-12)!important}.my-12{margin-top:var(--sx-spacing-12)!important;margin-bottom:var(--sx-spacing-12)!important}.mx-12{margin-left:var(--sx-spacing-12)!important;margin-right:var(--sx-spacing-12)!important}.p-12{padding:var(--sx-spacing-12)!important}.pt-12{padding-top:var(--sx-spacing-12)!important}.pb-12{padding-bottom:var(--sx-spacing-12)!important}.pl-12{padding-left:var(--sx-spacing-12)!important}.pr-12{padding-right:var(--sx-spacing-12)!important}.py-12{padding-top:var(--sx-spacing-12)!important;padding-bottom:var(--sx-spacing-12)!important}.px-12{padding-left:var(--sx-spacing-12)!important;padding-right:var(--sx-spacing-12)!important}.m-13{margin:var(--sx-spacing-13)!important}.mt-13{margin-top:var(--sx-spacing-13)!important}.mb-13{margin-bottom:var(--sx-spacing-13)!important}.ml-13{margin-left:var(--sx-spacing-13)!important}.mr-13{margin-right:var(--sx-spacing-13)!important}.my-13{margin-top:var(--sx-spacing-13)!important;margin-bottom:var(--sx-spacing-13)!important}.mx-13{margin-left:var(--sx-spacing-13)!important;margin-right:var(--sx-spacing-13)!important}.p-13{padding:var(--sx-spacing-13)!important}.pt-13{padding-top:var(--sx-spacing-13)!important}.pb-13{padding-bottom:var(--sx-spacing-13)!important}.pl-13{padding-left:var(--sx-spacing-13)!important}.pr-13{padding-right:var(--sx-spacing-13)!important}.py-13{padding-top:var(--sx-spacing-13)!important;padding-bottom:var(--sx-spacing-13)!important}.px-13{padding-left:var(--sx-spacing-13)!important;padding-right:var(--sx-spacing-13)!important}.m-14{margin:var(--sx-spacing-14)!important}.mt-14{margin-top:var(--sx-spacing-14)!important}.mb-14{margin-bottom:var(--sx-spacing-14)!important}.ml-14{margin-left:var(--sx-spacing-14)!important}.mr-14{margin-right:var(--sx-spacing-14)!important}.my-14{margin-top:var(--sx-spacing-14)!important;margin-bottom:var(--sx-spacing-14)!important}.mx-14{margin-left:var(--sx-spacing-14)!important;margin-right:var(--sx-spacing-14)!important}.p-14{padding:var(--sx-spacing-14)!important}.pt-14{padding-top:var(--sx-spacing-14)!important}.pb-14{padding-bottom:var(--sx-spacing-14)!important}.pl-14{padding-left:var(--sx-spacing-14)!important}.pr-14{padding-right:var(--sx-spacing-14)!important}.py-14{padding-top:var(--sx-spacing-14)!important;padding-bottom:var(--sx-spacing-14)!important}.px-14{padding-left:var(--sx-spacing-14)!important;padding-right:var(--sx-spacing-14)!important}.m-15{margin:var(--sx-spacing-15)!important}.mt-15{margin-top:var(--sx-spacing-15)!important}.mb-15{margin-bottom:var(--sx-spacing-15)!important}.ml-15{margin-left:var(--sx-spacing-15)!important}.mr-15{margin-right:var(--sx-spacing-15)!important}.my-15{margin-top:var(--sx-spacing-15)!important;margin-bottom:var(--sx-spacing-15)!important}.mx-15{margin-left:var(--sx-spacing-15)!important;margin-right:var(--sx-spacing-15)!important}.p-15{padding:var(--sx-spacing-15)!important}.pt-15{padding-top:var(--sx-spacing-15)!important}.pb-15{padding-bottom:var(--sx-spacing-15)!important}.pl-15{padding-left:var(--sx-spacing-15)!important}.pr-15{padding-right:var(--sx-spacing-15)!important}.py-15{padding-top:var(--sx-spacing-15)!important;padding-bottom:var(--sx-spacing-15)!important}.px-15{padding-left:var(--sx-spacing-15)!important;padding-right:var(--sx-spacing-15)!important}:root{--sx-accent-blue:#0cacff;--sx-accent-blue-dark:#0cacff21;--sx-accent-blue-light:#0185c9;--sx-accent-red:var(--sx-red-500);--sx-accent-red-bright:var(--sx-red-400);--sx-accent-red-dark:var(--sx-red-600);--sx-accent-mint:#01fdc2;--sx-accent-cyan:#01fdfd;--sx-accent-purple:var(--sx-purple-300);--sx-accent-purple-dark:#7804cd;--sx-accent-purple-bright:#b300ff;--sx-accent-pink:var(--sx-pink-600);--sx-accent-pink-light:#cc00ff;--sx-accent-gray:#3d3d42;--sx-gradient-start:var(--sx-accent-purple);--sx-gradient-end:var(--sx-accent-pink);--sx-gradient-start-light:var(--sx-peach-300);--sx-gradient-end-light:var(--sx-pink-400);--sx-accent-gradient:linear-gradient(to right, var(--sx-gradient-start), var(--sx-gradient-end));--sx-accent-gradient-light:linear-gradient(to right, var(--sx-gradient-start-light), var(--sx-gradient-end-light));--sx-text-color:var(--sx-gray-25);--sx-muted:var(--sx-gray-100);--sx-nav-highlight:var(--sx-accent-mint);--sx-nav-highlight-active:var(--sx-accent-cyan);--sx-input-bg:var(--sx-gray-transparent-dark);--sx-input-focus-color:var(--sx-blue-500);--sx-disabled-button-color:var(--sx-gray-300);--sx-primary:#00ffc3;--sx-primary-light:#1affc9;--sx-primary-dark:#00523e;--sx-en-fonts:-apple-system, Noto Sans, Roboto, Ubuntu, Segoe UI, sans-serif;--sx-button-letter-spacing:.2px}.f-row{display:flex;flex-direction:row}.f-column{display:flex;flex-direction:column}.justify-content-center{justify-content:center}.justify-content-start{justify-content:start}.justify-content-end{justify-content:end}.justify-content-between{justify-content:space-between}.justify-content-around{justify-content:space-around}.align-items-center{align-items:center}.align-items-start{align-items:start}.align-items-end{align-items:end}.align-items-baseline{align-items:baseline}.align-self-start{align-self:start}.align-self-center{align-self:center}.align-self-end{align-self:end}.f-wrap{flex-wrap:wrap}.f-0{flex:0}.f-1{flex:1}.f-2{flex:2}.f-3{flex:3}.f-4{flex:4}.f-5{flex:5}.gap-0{gap:var(--sx-spacing-0)}.gap-1{gap:var(--sx-spacing-1)}.gap-2{gap:var(--sx-spacing-2)}.gap-3{gap:var(--sx-spacing-3)}.gap-4{gap:var(--sx-spacing-4)}.gap-5{gap:var(--sx-spacing-5)}.gap-6{gap:var(--sx-spacing-6)}.gap-7{gap:var(--sx-spacing-7)}.gap-8{gap:var(--sx-spacing-8)}.gap-9{gap:var(--sx-spacing-9)}.gap-10{gap:var(--sx-spacing-10)}.gap-11{gap:var(--sx-spacing-11)}.gap-12{gap:var(--sx-spacing-12)}.gap-13{gap:var(--sx-spacing-13)}.gap-14{gap:var(--sx-spacing-14)}.gap-15{gap:var(--sx-spacing-15)}:root{--sx-font-size-1:10px;--sx-font-size-2:12px;--sx-font-size-3:14px;--sx-font-size-4:16px;--sx-font-size-5:18px;--sx-font-size-6:20px;--sx-font-size-7:24px;--sx-font-size-8:30px;--sx-font-size-9:36px;--sx-font-size-10:48px;--sx-font-size-11:60px;--sx-font-size-12:72px}.sx-font-size-1{font-size:var(--sx-font-size-1)!important}.sx-font-size-2{font-size:var(--sx-font-size-2)!important}.sx-font-size-3{font-size:var(--sx-font-size-3)!important}.sx-font-size-4{font-size:var(--sx-font-size-4)!important}.sx-font-size-5{font-size:var(--sx-font-size-5)!important}.sx-font-size-6{font-size:var(--sx-font-size-6)!important}.sx-font-size-7{font-size:var(--sx-font-size-7)!important}.sx-font-size-8{font-size:var(--sx-font-size-8)!important}.sx-font-size-9{font-size:var(--sx-font-size-9)!important}.sx-font-size-10{font-size:var(--sx-font-size-10)!important}.sx-font-size-11{font-size:var(--sx-font-size-11)!important}.sx-font-size-12{font-size:var(--sx-font-size-12)!important}.muted{color:var(--sx-muted)}.fw-500{font-weight:500}.fw-bold{font-weight:600}.fw-normal{font-weight:400}.text-align-center{text-align:center}.text-align-left{text-align:left}.text-align-right{text-align:right}a[href]{color:var(--sx-text-color);text-decoration:none}a[href].inline-link{color:#00b7ff}a[href].inline-link:hover{text-decoration:underline}.has-inline-links a{color:#00b7ff}.has-inline-links a:hover{text-decoration:underline}button,button[type=button],input[type=submit],.button{text-decoration:none;display:inline-block;border-radius:.2rem;background:none;border:none;color:var(--sx-text-color);cursor:pointer;padding:.7rem;margin:.2rem;line-height:1;font-weight:600;font-size:.9rem;transition:color .15s,background .15s;font-family:var(--sx-en-fonts);letter-spacing:var(--sx-button-letter-spacing)}button:hover:not(:disabled),button.hover,button[type=button]:hover:not(:disabled),button[type=button].hover,input[type=submit]:hover:not(:disabled),input[type=submit].hover,.button:hover:not(:disabled),.button.hover{background:var(--sx-gray-transparent-light)}button[aria-pressed=true],button[type=button][aria-pressed=true],input[type=submit][aria-pressed=true],.button[aria-pressed=true]{color:#fff;background:var(--sx-gray-transparent)}button[aria-pressed=true]>*,button[type=button][aria-pressed=true]>*,input[type=submit][aria-pressed=true]>*,.button[aria-pressed=true]>*{filter:drop-shadow(0 0 .5rem)}button:focus,button[type=button]:focus,input[type=submit]:focus,.button:focus{outline:2px solid var(--sx-input-focus-color);outline-offset:2px}button.primary,.button.primary{background-color:var(--sx-blue-400);color:var(--sx-blue-900)}button.primary:hover:not(:disabled),.button.primary:hover:not(:disabled){background-color:var(--sx-blue-300)}button.secondary,.button.secondary{background:var(--sx-gray-transparent)}button:disabled{color:var(--sx-disabled-button-color);background:none;cursor:auto}button.inverted:not(:disabled),.button.inverted:not(:disabled){color:var(--sx-blue-700);background:var(--sx-gray-25)}button.inverted:hover:not(:disabled),.button.inverted:hover:not(:disabled){background:white}button.galaxy:not(:disabled),.button.galaxy:not(:disabled){background:var(--sx-accent-gradient);color:#fff}button.galaxy:not(:disabled):hover,.button.galaxy:not(:disabled):hover{background:var(--sx-accent-gradient-light)}button.electric:not(:disabled),.button.electric:not(:disabled){background:var(--sx-yellow-300);color:var(--sx-yellow-900)}button.electric:hover:not(:disabled),.button.electric:hover:not(:disabled){background:var(--sx-yellow-200)}button.danger:not(:disabled){background:var(--sx-red-400);color:#000}button.danger:not(:disabled):hover{background:var(--sx-red-300)}button.small,.button.small{padding:.3rem}@keyframes sx-button-ripple{0%{opacity:.6;transform:scale(0%,0)}to{opacity:0;transform:scale(10)}}.sx-has-ripple{overflow:hidden;position:relative}.sx-has-ripple *{pointer-events:none}.sx-button-ripple{pointer-events:none;transform-origin:center;box-shadow:inset 0 0 .5rem var(--sx-gray-50);border-radius:50%;display:inline-block;position:absolute;z-index:1;animation:sx-button-ripple .5s;height:1rem;width:1rem;top:calc(var(--y) - .5rem);left:calc(var(--x) - .5rem)}blockquote{padding-left:.5rem;border-left:.2rem solid white}blockquote>p{margin:0}code{background:var(--sx-gray-transparent-light);border-radius:3px;padding:0 .2rem}footer nav.simple-footer-links{display:flex;flex-direction:row;justify-content:center}footer nav.simple-footer-links li{margin:0 1rem}footer nav.simple-footer-links ul{display:flex;flex-direction:row;justify-content:center;margin:0}@media (max-width: 650px){footer nav.simple-footer-links ul{flex-direction:column;align-items:center}footer nav.simple-footer-links li{margin:1rem 0}}.header nav,header nav{height:100%}.header nav ul,.header nav ol,header nav ul,header nav ol{display:flex;flex-direction:row;margin:0;height:100%;padding:0}.header nav li,header nav li{position:relative}.header nav a[href],.header nav .a,header nav a[href],header nav .a{height:100%;font-size:1rem;border:none;display:flex;align-items:center;padding:0 1rem;font-weight:500!important;border-bottom:2px solid transparent;transition:background .1s,border-bottom-color .1s;min-height:3rem}.header nav a[href]:disabled,.header nav .a:disabled,header nav a[href]:disabled,header nav .a:disabled{color:var(--sx-gray-300)}.header nav a[href]:hover:not(:disabled),.header nav .a:hover:not(:disabled),header nav a[href]:hover:not(:disabled),header nav .a:hover:not(:disabled){background:var(--sx-gray-transparent);text-decoration:none;border-color:transparent!important}.header nav a[href].active:not(:disabled),.header nav .a.active:not(:disabled),header nav a[href].active:not(:disabled),header nav .a.active:not(:disabled){border-color:var(--sx-blue-400)}.header nav a[href]:focus,.header nav .a:focus,header nav a[href]:focus,header nav .a:focus{border-color:var(--sx-blue-300);border-bottom-color:transparent;border-radius:3px}.header nav a[href][aria-pressed=true],.header nav .a[aria-pressed=true],header nav a[href][aria-pressed=true],header nav .a[aria-pressed=true]{border-bottom-color:transparent!important;background-color:var(--sx-gray-500)}.header nav .dropdown-menu a,.header nav .dropdown-menu .a,header nav .dropdown-menu a,header nav .dropdown-menu .a{padding:1rem!important}h1.header,h2.header{font-size:1.8rem}hr{color:#fff}textarea{font-size:.7rem}input[type=text],input:not([type]),input[type=date],input[type=time],input[type=password],input[type=email],input[type=number],textarea,select{color:#fff;transition:border .2s;border-radius:.2rem;background:var(--sx-input-bg);padding:.2rem;font-family:var(--sx-en-fonts);border:1px solid transparent}input[type=text]:focus,input:not([type]):focus,input[type=date]:focus,input[type=time]:focus,input[type=password]:focus,input[type=email]:focus,input[type=number]:focus,textarea:focus,select:focus{background:rgba(11,15,21,.8);border-color:transparent;outline:2px solid var(--sx-input-focus-color)}input[type=text]:disabled,input:not([type]):disabled,input[type=date]:disabled,input[type=time]:disabled,input[type=password]:disabled,input[type=email]:disabled,input[type=number]:disabled,textarea:disabled,select:disabled{color:var(--sx-muted)}input[type=text],input:not([type]),input[type=date],input[type=password],input[type=time],input[type=email],input[type=number],select{font-size:1rem}textarea{font-size:.9rem}.input-group{border-radius:6px;background:var(--sx-input-bg);display:flex;border:1px solid var(--sx-gray-transparent-lighter)}.input-group input{border-color:transparent}.input-group button{margin:0}nav ul,nav ol{list-style:none}nav ul a[href],nav ul .a,nav ol a[href],nav ol .a{color:var(--sx-text-color);font-weight:700;text-decoration:none;border-bottom:.2rem solid transparent;margin:0;border-radius:0}nav ul a[href]:focus,nav ul .a:focus,nav ol a[href]:focus,nav ol .a:focus{outline:2px solid var(--sx-blue-500);outline-offset:-2px}nav ul a[href]:hover:not(:disabled),nav ul .a:hover:not(:disabled),nav ol a[href]:hover:not(:disabled),nav ol .a:hover:not(:disabled){border-bottom-color:var(--sx-nav-highlight);color:#fff}table{border-collapse:separate;border-spacing:0}table.hoverable tbody tr:hover{background:rgba(87,102,162,.1294117647)}th{background:var(--sx-gray-transparent)}td,th{padding:.2rem .5rem}table{border:2px solid var(--sx-gray-transparent-light);border-radius:5px}th{padding:var(--sx-spacing-3);text-align:left}.sx-badge-orange{color:var(--sx-orange-400);background-color:var(--sx-orange-transparent-faint);padding:2px var(--sx-spacing-1);margin:var(--sx-spacing-1);font-weight:600;border-radius:6px}.sx-badge-yellow{color:var(--sx-yellow-400);background-color:var(--sx-yellow-transparent-faint);padding:2px var(--sx-spacing-1);margin:var(--sx-spacing-1);font-weight:600;border-radius:6px}.sx-badge-green{color:var(--sx-green-400);background-color:var(--sx-green-transparent-faint);padding:2px var(--sx-spacing-1);margin:var(--sx-spacing-1);font-weight:600;border-radius:6px}.sx-badge-mint{color:var(--sx-mint-400);background-color:var(--sx-mint-transparent-faint);padding:2px var(--sx-spacing-1);margin:var(--sx-spacing-1);font-weight:600;border-radius:6px}.sx-badge-cyan{color:var(--sx-cyan-400);background-color:var(--sx-cyan-transparent-faint);padding:2px var(--sx-spacing-1);margin:var(--sx-spacing-1);font-weight:600;border-radius:6px}.sx-badge-blue{color:var(--sx-blue-400);background-color:var(--sx-blue-transparent-faint);padding:2px var(--sx-spacing-1);margin:var(--sx-spacing-1);font-weight:600;border-radius:6px}.sx-badge-gray{color:var(--sx-gray-50);background-color:var(--sx-gray-transparent);padding:2px var(--sx-spacing-1);margin:var(--sx-spacing-1);font-weight:600;border-radius:6px}.sx-badge-red{color:var(--sx-red-400);background-color:var(--sx-red-transparent-faint);padding:2px var(--sx-spacing-1);margin:var(--sx-spacing-1);font-weight:600;border-radius:6px}.sx-badge-purple{color:var(--sx-purple-200);background-color:var(--sx-purple-transparent-faint);padding:2px var(--sx-spacing-1);margin:var(--sx-spacing-1);font-weight:600;border-radius:6px}.sx-badge-pink{color:var(--sx-pink-300);background-color:var(--sx-pink-transparent-faint);padding:2px var(--sx-spacing-1);margin:var(--sx-spacing-1);font-weight:600;border-radius:6px}.sx-badge-peach{color:var(--sx-peach-300);background-color:var(--sx-peach-transparent-faint);padding:2px var(--sx-spacing-1);margin:var(--sx-spacing-1);font-weight:600;border-radius:6px}.card{--card-padding:var(--sx-arg-card-padding, var(--sx-spacing-2));background-color:var(--sx-gray-transparent);border:1px solid transparent;transition:border-color .1s,background-color .1s;border-radius:10px}.card.clickable:hover{border-color:var(--sx-blue-500);cursor:pointer}.card .card-title{font-size:var(--sx-font-size-5);padding-top:var(--card-padding);padding-right:var(--card-padding);padding-left:var(--card-padding)}.card .card-body{padding:var(--card-padding)}.card.two-tone .card-title{background-color:var(--sx-gray-transparent);padding:var(--card-padding)}.card.card-image{position:relative;overflow:hidden;display:flex}.card.card-image .card-inset{background:var(--sx-gray-500);border-radius:8px;position:absolute;bottom:0;left:50%;transform:translate(-50%);margin-bottom:var(--sx-spacing-4);width:calc(100% - 2 * var(--sx-spacing-4));transition:margin-bottom .1s,background-color .1s}.card.card-image .card-inset .card-body{color:var(--sx-gray-75)}.card.card-image img{transition:transform .1s,filter .1s}.card.card-image:hover img{transform:scale(102%);filter:brightness(80%)}.card.card-image.clickable:hover .card-inset{margin-bottom:var(--sx-spacing-5);background:var(--sx-gray-400)}.page-content{width:95vw;max-width:1300px;margin:0 auto}.sx-toggles{--toggle-border-color:var(--sx-gray-transparent-lighter);--toggle-border-radius:10px;border-radius:6px;display:flex;background-color:var(--sx-gray-transparent-dark);border:1px solid var(--toggle-border-color);padding:var(--sx-spacing-1);gap:var(--sx-spacing-1)}.sx-toggles input{position:absolute;top:auto;width:1px;height:1px;opacity:0}.sx-toggles input:checked+label{color:var(--sx-gray-25);background-color:var(--sx-gray-transparent-light)}.sx-toggles input:focus+label{outline:2px solid var(--sx-input-focus-color);outline-offset:2px;border-radius:2px;z-index:1}.sx-toggles label{padding:var(--sx-spacing-1) var(--sx-spacing-2);color:var(--sx-gray-75);transition:color .1s,background-color .1s;cursor:pointer;display:inline-block;font-weight:500;letter-spacing:--sx-button-letter-spacing;position:relative;border-radius:3px}.sx-toggles label:hover{background-color:var(--sx-gray-transparent)}.dropdown-menu{box-shadow:var(--sx-shadow-3);background:var(--sx-gray-500)}.dropdown-menu ul{margin:0;padding:0;display:flex;flex-direction:column}.dropdown-menu ul li a,.dropdown-menu ul li .a{padding:var(--sx-spacing-4);margin:0;border:none;color:#fff;background:none;line-height:1;width:100%}.dropdown-menu ul li:hover{background:var(--sx-gray-400)}.dropdown-menu ul li:hover button,.dropdown-menu ul li:hover a{background:none;width:100%}.dropdown-menu ul,.dropdown-menu li,.dropdown-menu button,.dropdown-menu .button,.dropdown-menu a,.dropdown-menu .a{width:100%}.dropdown-menu button,.dropdown-menu .button,.dropdown-menu a,.dropdown-menu .a{margin:0}.modal-body{padding:1rem;flex:1;overflow:auto}.modal-footer{display:flex;justify-content:end;padding:.5rem}.modal-footer button{margin:.5rem}.panel{background:var(--sx-gray-600);padding:0;margin:0}.panel .panel-body,.panel.panel-body{padding:1rem}.panel.bordered{border:var(--sx-panel-border)}.sub-panel{margin:1rem 1rem 2rem;background:var(--sx-sub-panel-bg);padding:.5rem;border-radius:.2rem}aside.sx-sidebar{position:sticky}aside.sx-sidebar .sx-sidebar-header h1{margin:.3rem 0;font-size:var(--sx-font-size-7);font-weight:400}aside.sx-sidebar .sx-sidebar-simple-links{display:flex;flex-direction:column;padding:var(--sx-spacing-2);gap:var(--sx-spacing-2)}aside.sx-sidebar .sx-sidebar-simple-links a{border-radius:5px;display:block;padding:var(--sx-spacing-2);font-size:var(--sx-font-size-4)}aside.sx-sidebar .sx-sidebar-simple-links a:hover{background-color:var(--sx-gray-transparent)}aside.sx-sidebar .sx-sidebar-simple-links a.active{background-color:var(--sx-gray-transparent-light)}.tab-list{list-style:none;padding:0;margin:0;display:flex}.tab-list li{display:inline}.tab-list button{margin:0;color:var(--sx-gray-75);border-radius:5px 5px 0 0;border-bottom:2px solid var(--sx-gray-400);transition:border-bottom-color .2s;font-size:var(--sx-font-size-4)}.tab-list button:hover{background:var(--sx-gray-transparent);border-bottom-color:var(--sx-blue-400);color:var(--sx-text-color)}.tab-list button:focus{border-bottom-color:var(--sx-blue-transparent);color:var(--sx-text-color);outline:none}.tab-list button.selected{color:var(--sx-text-color);border-bottom-color:var(--sx-blue-500);background:var(--sx-gray-transparent)}html{min-height:100%;display:flex}body,#app-root{font-size:var(--sx-font-size-3);line-height:1.4;font-family:var(--sx-en-fonts);background-color:var(--sx-gray-700);color:var(--sx-text-color);margin:0;padding:0;width:100%;opacity:1;text-rendering:optimizeLegibility;font-weight:400;display:flex;flex-direction:column;flex:1}*,*:before,*:after{box-sizing:border-box}*{scrollbar-color:#444 #121212}.sr-only{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}fieldset.svelte-1vn20zt.svelte-1vn20zt{--fieldset-legend-color:var(--sx-arg-fieldset-legend-color, var(--sx-text-color));--fieldset-border-radius:var(--sx-arg-fieldset-border-radius, var(--fieldset-default-border-radius))}fieldset.variant-bordered.svelte-1vn20zt.svelte-1vn20zt{--sx-fieldset-bordered-legend-color:white;--sx-fieldset-background-color:var(--sx-gray-transparent);--sx-fieldset-bordered-border-color:var(--sx-gray-400)}fieldset.variant-bordered.svelte-1vn20zt.svelte-1vn20zt,fieldset.variant-bordered.svelte-1vn20zt span.svelte-1vn20zt{background-color:var(--sx-fieldset-background-color);border:1px solid var(--sx-fieldset-bordered-border-color);border-radius:var(--fieldset-border-radius)}fieldset.variant-bordered.svelte-1vn20zt legend.svelte-1vn20zt{color:var(--sx-fieldset-bordered-legend-color);line-height:1;font-weight:600}fieldset.variant-bordered.svelte-1vn20zt legend span.svelte-1vn20zt{padding-left:var(--sx-spacing-1);padding-right:var(--sx-spacing-1);background:var(--sx-fieldset-bordered-border-color);font-size:var(--sx-legend-font-size);display:inline-block}fieldset.variant-box.svelte-1vn20zt.svelte-1vn20zt{--sx-fieldset-background-color:var(--sx-gray-transparent);--sx-fieldset-box-top:calc(var(--sx-legend-font-size) + var(--sx-spacing-1));border:none;background-color:var(--sx-fieldset-background-color);overflow:hidden;position:relative;padding-top:var(--sx-fieldset-box-top);border-radius:var(--fieldset-border-radius)}fieldset.variant-box.svelte-1vn20zt legend.svelte-1vn20zt{font-size:var(--sx-font-size-3);color:var(--fieldset-legend-color);border-radius:2px;position:relative;width:100%}fieldset.variant-box.svelte-1vn20zt legend span.svelte-1vn20zt{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;text-overflow:ellipsis;overflow:hidden;font-weight:600;position:relative;top:var(--sx-fieldset-box-top);font-size:var(--sx-legend-font-size)}fieldset.variant-tab.svelte-1vn20zt.svelte-1vn20zt{--sx-fieldset-background-color:var(--sx-gray-500);border:none;background-color:var(--sx-fieldset-background-color);overflow:hidden;position:relative;border-radius:var(--fieldset-border-radius)}fieldset.variant-tab.svelte-1vn20zt legend.svelte-1vn20zt{font-size:var(--sx-font-size-3);color:var(--sx-text-color);border-radius:2px;position:relative;margin-left:var(--sx-spacing-3);width:100%}fieldset.variant-tab.svelte-1vn20zt legend span.svelte-1vn20zt{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:calc(100% - var(--sx-spacing-3) * 2);display:inline-block;background:var(--sx-fieldset-background-color);font-weight:600}fieldset.variant-tab.svelte-1vn20zt legend.svelte-1vn20zt:after,fieldset.variant-tab.svelte-1vn20zt legend.svelte-1vn20zt:before{content:\" \";width:0;height:0;position:absolute;background-color:transparent;border-color:transparent;border-style:solid}fieldset.variant-tab.svelte-1vn20zt legend.svelte-1vn20zt:after{border-left-color:var(--sx-fieldset-background-color)}fieldset.variant-tab.svelte-1vn20zt legend.svelte-1vn20zt:before{transform:translate(-100%);border-right-color:var(--sx-fieldset-background-color)}fieldset.variant-tab.size-small.svelte-1vn20zt legend.svelte-1vn20zt{font-size:var(--sx-font-size-1)}fieldset.variant-tab.size-small.svelte-1vn20zt legend span.svelte-1vn20zt{font-weight:600}fieldset.variant-tab.size-small.svelte-1vn20zt legend.svelte-1vn20zt:after,fieldset.variant-tab.size-small.svelte-1vn20zt legend.svelte-1vn20zt:before{border-width:.6rem}fieldset.variant-tab.size-normal.svelte-1vn20zt legend.svelte-1vn20zt{font-size:var(--sx-font-size-3)}fieldset.variant-tab.size-normal.svelte-1vn20zt legend span.svelte-1vn20zt{font-weight:600}fieldset.variant-tab.size-normal.svelte-1vn20zt legend.svelte-1vn20zt:after,fieldset.variant-tab.size-normal.svelte-1vn20zt legend.svelte-1vn20zt:before{border-width:.75rem}fieldset.variant-tab.size-large.svelte-1vn20zt legend.svelte-1vn20zt{font-size:var(--sx-font-size-5)}fieldset.variant-tab.size-large.svelte-1vn20zt legend span.svelte-1vn20zt{font-weight:600}fieldset.variant-tab.size-large.svelte-1vn20zt legend.svelte-1vn20zt:after,fieldset.variant-tab.size-large.svelte-1vn20zt legend.svelte-1vn20zt:before{border-width:1rem}.size-small.svelte-1vn20zt.svelte-1vn20zt{--sx-legend-font-size:var(--sx-font-size-1);--fieldset-default-border-radius:5px}.size-normal.svelte-1vn20zt.svelte-1vn20zt{--sx-legend-font-size:var(--sx-font-size-3);--fieldset-default-border-radius:10px}.size-large.svelte-1vn20zt.svelte-1vn20zt{--sx-legend-font-size:var(--sx-font-size-5);--fieldset-default-border-radius:10px}.centeredLegend.svelte-1vn20zt legend.svelte-1vn20zt{text-align:center;margin:0!important}.centeredLegend.svelte-1vn20zt legend span.svelte-1vn20zt{display:inline}.mutedLegend.svelte-1vn20zt legend.svelte-1vn20zt{--sx-text-color:var(--sx-gray-75)}button.svelte-1ghkwsr,a.svelte-1ghkwsr{margin:0;font-weight:600}a[href=\"\"].svelte-1ghkwsr{color:var(--sx-disabled-button-color);pointer-events:none}.toast.svelte-p7faep{padding:.5rem;margin:.5rem;border-radius:.2rem;box-shadow:0 0 .2rem #000}.title.svelte-p7faep{font-size:1.1rem}p.svelte-p7faep{margin:0}.error.svelte-p7faep{background:var(--sx-red-400);color:#fff}.info.svelte-p7faep{background:var(--sx-gray-500)}pre.svelte-p7faep{overflow:auto;font-size:.7rem}button.svelte-p7faep{padding:.3rem}#toast-container.svelte-1qo5t84{position:fixed;max-width:95vw;width:20rem;z-index:10001}.top-right.svelte-1qo5t84{right:0}.bottom-center.svelte-1qo5t84{bottom:0;left:50%;transform:translate(-50%)}.bottom-left.svelte-1qo5t84{bottom:0;left:0}.fine-align.svelte-8v3i6j{top:50vh;left:50vw;transform:translate(-50%,-50%)!important;max-width:20rem}.a.svelte-1sbqwdd:hover{text-decoration:underline}.a.svelte-1sbqwdd{background:none!important;color:#fff;text-transform:none;font-weight:400;margin:0;padding:0;font-size:var(--sx-font-size-5);line-height:1.2;text-align:left}ul.svelte-1sbqwdd{list-style:none;padding:0;display:flex;flex-direction:column}.muted.svelte-1sbqwdd{font-style:italic}.subtitle.svelte-1sbqwdd{white-space:wrap}button.svelte-ve7qmk.svelte-ve7qmk{align-self:center;max-width:20rem;overflow:hidden;margin:0}pre.svelte-ve7qmk.svelte-ve7qmk{margin:0;padding:0;font-size:.7rem}.with-previews.svelte-ve7qmk.svelte-ve7qmk{display:grid;gap:var(--sx-spacing-3);grid-template-columns:1fr 1fr}.no-previews.svelte-ve7qmk button.svelte-ve7qmk{margin:var(--sx-spacing-1)}#resume-button.svelte-1ggjcbl{width:100%;margin:0}h3.svelte-1ggjcbl,button.svelte-1ggjcbl{margin:0}.restart.svelte-1ggjcbl{width:100%}kbd.svelte-ht1j20{color:#fff;background:var(--sx-gray-400);border-radius:.2rem;padding:0 .2rem;font-family:monospace;font-size:var(--sx-font-size-2)}input[type=range].svelte-ht1j20:disabled{opacity:.3}.radio-label.svelte-ht1j20{display:block}.modal-body.svelte-ht1j20{max-width:30rem}.logo.svelte-v7pnro,.logo.svelte-v7pnro svg{width:2rem;height:2rem}.logo.svelte-v7pnro{display:inline-block}table.svelte-6bkr3j{border:1px solid var(--sx-gray-300);border-radius:3px}.modal-body.svelte-6bkr3j{width:30rem;text-align:left}.tray.svelte-1l37kb3.svelte-1l37kb3{width:28rem;background:rgba(255,255,255,.2);position:fixed;right:0;top:50%;color:#fff;height:calc(100% - 15rem);display:flex;flex-direction:column;text-align:center;border-radius:15px 0 0 15px;transform:translateY(-50%)}.tray.inactive.svelte-1l37kb3.svelte-1l37kb3{background:transparent;transition:background .2s}.tray.svelte-1l37kb3>.svelte-1l37kb3{visibility:hidden}.tray.svelte-1l37kb3.svelte-1l37kb3:hover,.tray.debug-always-open.svelte-1l37kb3.svelte-1l37kb3{background:var(--sx-gray-700);overflow:auto;border:1px solid rgba(140,140,140,.1294117647);border-right:none}.tray.svelte-1l37kb3:hover>*,.tray.debug-always-open.svelte-1l37kb3>*{visibility:visible}.tray-header.svelte-1l37kb3.svelte-1l37kb3{background:var(--sx-gray-600)}.tab-content.svelte-1l37kb3.svelte-1l37kb3{text-align:left;flex:1}.tab-cancelled.svelte-1l37kb3.svelte-1l37kb3{text-align:center}.hidden.svelte-1l37kb3.svelte-1l37kb3{display:none}.tray.svelte-1l37kb3 .tab-list{margin:0}.tray.svelte-1l37kb3 .tab-list li{display:inline-block}#app-title.svelte-1l37kb3.svelte-1l37kb3{line-height:1;font-size:1.2rem}.subtitles.svelte-1u656ch.svelte-1u656ch{--player-width:calc(100vh * var(--aspect-ratio));height:100vh;width:var(--player-width);margin:0 auto;position:relative;pointer-events:none!important}p.svelte-1u656ch.svelte-1u656ch{color:#fff;margin:0;padding:0;white-space:pre-line;text-align:center;max-width:var(--player-width);font-family:Source Han Sans,\\6e90\\30ce\\89d2\\30b4\\30b7\\30c3\\30af,Hiragino Sans,HiraKakuProN-W3,Hiragino Kaku Gothic ProN W3,Hiragino Kaku Gothic ProN,\\30d2\\30e9\\30ae\\30ce\\89d2\\30b4  ProN W3,Noto Sans JP,Noto Sans CJK JP,Noto Sans,\\30e1\\30a4\\30ea\\30aa,Meiryo,\\6e38\\30b4\\30b7\\30c3\\30af,YuGothic,\\ff2d\\ff33  \\ff30\\30b4\\30b7\\30c3\\30af,MS PGothic,\\ff2d\\ff33  \\30b4\\30b7\\30c3\\30af,MS Gothic,sans-serif;display:block;transition:top .1s;text-shadow:-4px -4px 0px rgb(9,9,9),-4px -3px 0px rgb(9,9,9),-4px -2px 0px rgb(9,9,9),-4px -1px 0px rgb(9,9,9),-4px 0px 0px rgb(9,9,9),-4px 1px 0px rgb(9,9,9),-4px 2px 0px rgb(9,9,9),-4px 3px 0px rgb(9,9,9),-4px 4px 0px rgb(9,9,9),-3px -4px 0px rgb(9,9,9),-3px -3px 0px rgb(9,9,9),-3px -2px 0px rgb(9,9,9),-3px -1px 0px rgb(9,9,9),-3px 0px 0px rgb(9,9,9),-3px 1px 0px rgb(9,9,9),-3px 2px 0px rgb(9,9,9),-3px 3px 0px rgb(9,9,9),-3px 4px 0px rgb(9,9,9),-2px -4px 0px rgb(9,9,9),-2px -3px 0px rgb(9,9,9),-2px -2px 0px rgb(9,9,9),-2px -1px 0px rgb(9,9,9),-2px 0px 0px rgb(9,9,9),-2px 1px 0px rgb(9,9,9),-2px 2px 0px rgb(9,9,9),-2px 3px 0px rgb(9,9,9),-2px 4px 0px rgb(9,9,9),-1px -4px 0px rgb(9,9,9),-1px -3px 0px rgb(9,9,9),-1px -2px 0px rgb(9,9,9),-1px -1px 0px rgb(9,9,9),-1px 0px 0px rgb(9,9,9),-1px 1px 0px rgb(9,9,9),-1px 2px 0px rgb(9,9,9),-1px 3px 0px rgb(9,9,9),-1px 4px 0px rgb(9,9,9),0px -4px 0px rgb(9,9,9),0px -3px 0px rgb(9,9,9),0px -2px 0px rgb(9,9,9),0px -1px 0px rgb(9,9,9),0px 0px 0px rgb(9,9,9),0px 1px 0px rgb(9,9,9),0px 2px 0px rgb(9,9,9),0px 3px 0px rgb(9,9,9),0px 4px 0px rgb(9,9,9),1px -4px 0px rgb(9,9,9),1px -3px 0px rgb(9,9,9),1px -2px 0px rgb(9,9,9),1px -1px 0px rgb(9,9,9),1px 0px 0px rgb(9,9,9),1px 1px 0px rgb(9,9,9),1px 2px 0px rgb(9,9,9),1px 3px 0px rgb(9,9,9),1px 4px 0px rgb(9,9,9),2px -4px 0px rgb(9,9,9),2px -3px 0px rgb(9,9,9),2px -2px 0px rgb(9,9,9),2px -1px 0px rgb(9,9,9),2px 0px 0px rgb(9,9,9),2px 1px 0px rgb(9,9,9),2px 2px 0px rgb(9,9,9),2px 3px 0px rgb(9,9,9),2px 4px 0px rgb(9,9,9),3px -4px 0px rgb(9,9,9),3px -3px 0px rgb(9,9,9),3px -2px 0px rgb(9,9,9),3px -1px 0px rgb(9,9,9),3px 0px 0px rgb(9,9,9),3px 1px 0px rgb(9,9,9),3px 2px 0px rgb(9,9,9),3px 3px 0px rgb(9,9,9),3px 4px 0px rgb(9,9,9),4px -4px 0px rgb(9,9,9),4px -3px 0px rgb(9,9,9),4px -2px 0px rgb(9,9,9),4px -1px 0px rgb(9,9,9),4px 0px 0px rgb(9,9,9),4px 1px 0px rgb(9,9,9),4px 2px 0px rgb(9,9,9),4px 3px 0px rgb(9,9,9),4px 4px 0px rgb(9,9,9),2px 2px 0px rgb(20,20,20)}p.svelte-1u656ch.svelte-1u656ch:hover{cursor:pointer;color:#0aff8c!important}.subtitles.actionable.svelte-1u656ch p.svelte-1u656ch{pointer-events:auto}.subs-without-styles-container.svelte-1u656ch.svelte-1u656ch{position:absolute;bottom:0;left:50%;transform:translate(-50%);transition:bottom .1s}.subs-without-styles-container.normal.active.svelte-1u656ch.svelte-1u656ch{bottom:100px}.subs-without-styles-container.inverted.svelte-1u656ch.svelte-1u656ch{top:0;bottom:unset}p.svelte-ffx501{cursor:default;color:#fff;margin:0;padding:0;white-space:pre-wrap;font-family:Source Han Sans,\\6e90\\30ce\\89d2\\30b4\\30b7\\30c3\\30af,Hiragino Sans,HiraKakuProN-W3,Hiragino Kaku Gothic ProN W3,Hiragino Kaku Gothic ProN,\\30d2\\30e9\\30ae\\30ce\\89d2\\30b4  ProN W3,Noto Sans JP,Noto Sans CJK JP,Noto Sans,\\30e1\\30a4\\30ea\\30aa,Meiryo,\\6e38\\30b4\\30b7\\30c3\\30af,YuGothic,\\ff2d\\ff33  \\ff30\\30b4\\30b7\\30c3\\30af,MS PGothic,\\ff2d\\ff33  \\30b4\\30b7\\30c3\\30af,MS Gothic,sans-serif}p.svelte-ffx501:hover{color:#0aff8c!important;cursor:pointer}@keyframes svelte-ffx501-movement{0%{top:var(--move-from-top);left:var(--move-from-left)}to{top:var(--move-to-top);left:var(--move-to-left)}}.has-movement.svelte-ffx501{position:fixed;animation:svelte-ffx501-movement var(--move-duration) linear forwards;animation-delay:var(--move-delay)}.subtitles.svelte-14akjkn.svelte-14akjkn{--player-width:calc(100vh * var(--aspect-ratio));height:100vh;width:var(--player-width);margin:0 auto;position:relative;pointer-events:none}.layer.svelte-14akjkn.svelte-14akjkn{width:100%;height:100%}.an.svelte-14akjkn.svelte-14akjkn{position:absolute;display:flex;width:100%;flex-direction:column;max-width:calc(100vh * var(--aspect-ratio));padding:.8rem}.an1.svelte-14akjkn.svelte-14akjkn{top:100vh;left:0;transform:translateY(-100%)}.an2.svelte-14akjkn.svelte-14akjkn{top:100vh;left:calc(var(--player-width) / 2);transform:translate(-50%,-100%)}.an3.svelte-14akjkn.svelte-14akjkn{top:100vh;left:var(--player-width);transform:translate(-100%,-100%)}.an4.svelte-14akjkn.svelte-14akjkn{top:50vh;left:0;transform:translateY(-50%)}.an5.svelte-14akjkn.svelte-14akjkn{top:50vh;left:calc(var(--player-width) / 2);transform:translate(-50%,-50%)}.an6.svelte-14akjkn.svelte-14akjkn{top:50vh;left:var(--player-width);transform:translate(-100%,-50%)}.an7.svelte-14akjkn.svelte-14akjkn{top:0;left:0;transform:translate(0)}.an8.svelte-14akjkn.svelte-14akjkn{top:0;left:calc(var(--player-width) / 2);transform:translate(-50%)}.an9.svelte-14akjkn.svelte-14akjkn{top:0;left:100vw;left:var(--player-width);transform:translate(-100%)}.an1.svelte-14akjkn.svelte-14akjkn,.an4.svelte-14akjkn.svelte-14akjkn,.an7.svelte-14akjkn.svelte-14akjkn{text-align:left}.an2.svelte-14akjkn.svelte-14akjkn,.an5.svelte-14akjkn.svelte-14akjkn,.an8.svelte-14akjkn.svelte-14akjkn{text-align:center}.an3.svelte-14akjkn.svelte-14akjkn,.an6.svelte-14akjkn.svelte-14akjkn,.an9.svelte-14akjkn.svelte-14akjkn{text-align:right}.an1.svelte-14akjkn.svelte-14akjkn,.an2.svelte-14akjkn.svelte-14akjkn,.an3.svelte-14akjkn.svelte-14akjkn{flex-direction:column-reverse}.non-actionable.svelte-14akjkn.svelte-14akjkn{pointer-events:none}.actionable.svelte-14akjkn .an.svelte-14akjkn{pointer-events:auto}#subtitles-prompt.svelte-hysbl4.svelte-hysbl4{top:50%;left:50%;position:fixed;transform:translate(-50%,-50%)}.column.svelte-hysbl4.svelte-hysbl4{display:flex;flex-direction:column}.column.svelte-hysbl4>.svelte-hysbl4{align-self:center;margin:.5rem}label.svelte-hysbl4.svelte-hysbl4{transition:background .2s;border-radius:.2rem;color:#fff;border:none;cursor:pointer;padding:10px;line-height:1;font-weight:700;text-transform:uppercase;display:inline-block;font-size:1.2rem}label.svelte-hysbl4.svelte-hysbl4:hover{background:var(--sx-gray-300)}input.svelte-hysbl4.svelte-hysbl4{display:none}button.svelte-hysbl4.svelte-hysbl4,label.svelte-hysbl4.svelte-hysbl4{background:var(--sx-gray-400)}button.svelte-hysbl4.svelte-hysbl4:hover,label.svelte-hysbl4.svelte-hysbl4:hover{background:var(--sx-gray-300)}.toast.svelte-1lzj44a{border-radius:4px;box-shadow:var(--sx-shadow-3);font-weight:700;line-height:1;max-width:15rem}.toast.variant-info.svelte-1lzj44a{background:var(--sx-gray-600)}.toast.variant-error.svelte-1lzj44a{background:var(--sx-accent-red);color:#000}.toasts.svelte-1lzj44a{position:fixed;bottom:20%;left:50%;transform:translate(-50%)}#alignment.svelte-1v5j0a9.svelte-1v5j0a9{top:50%;left:50%;position:fixed;transform:translate(-50%,-50%);max-width:20rem;text-align:center}button.svelte-1v5j0a9.svelte-1v5j0a9{max-width:20rem}.show-name.svelte-1v5j0a9.svelte-1v5j0a9{font-style:italic}#subtitle-list.svelte-1v5j0a9.svelte-1v5j0a9{overflow:auto}h1.svelte-1v5j0a9.svelte-1v5j0a9{margin:0}h1.svelte-1v5j0a9.svelte-1v5j0a9{font-size:1.3rem}h2.svelte-1v5j0a9.svelte-1v5j0a9{font-size:.9rem}.alignment-sign-hint.svelte-1v5j0a9.svelte-1v5j0a9{font-size:.8rem}#manual-alignment.svelte-1v5j0a9.svelte-1v5j0a9{width:5rem;align-self:center}@media (max-width: 700px){button.svelte-1v5j0a9.svelte-1v5j0a9,input.svelte-1v5j0a9.svelte-1v5j0a9,label.svelte-1v5j0a9.svelte-1v5j0a9,legend.svelte-1v5j0a9.svelte-1v5j0a9,p.svelte-1v5j0a9.svelte-1v5j0a9{font-size:.7rem!important;margin:.2rem}.alignment-sign-hint.svelte-1v5j0a9.svelte-1v5j0a9{font-size:.6rem}button.svelte-1v5j0a9.svelte-1v5j0a9{padding:4px}h1.svelte-1v5j0a9.svelte-1v5j0a9{font-size:1rem}h2.svelte-1v5j0a9.svelte-1v5j0a9{font-size:.9rem}#subtitle-options.svelte-1v5j0a9.svelte-1v5j0a9{max-height:30vh}}h2.svelte-1v5j0a9.svelte-1v5j0a9{margin:0}p.svelte-1v5j0a9.svelte-1v5j0a9{align-self:center}.search-match.svelte-1v5j0a9.svelte-1v5j0a9:not(:last-child){margin-bottom:1rem}.search-match.svelte-1v5j0a9 legend.svelte-1v5j0a9{margin:0 auto}.subtitles-app.svelte-eslw97{position:relative;pointer-events:none}.subtitles-app.svelte-eslw97>*{z-index:1000000000;pointer-events:auto}#sheodox-jimaku-player{position:relative;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;text-align:center}#sheodox-jimaku-player .small-button{font-size:.8rem;padding:.2rem}#sheodox-jimaku-player .tray h1{font-size:2rem;padding:.5rem 0;border-radius:3px;margin:0}#sheodox-jimaku-player .tray h2,#sheodox-jimaku-player .tray h3{margin:var(--sx-spacing-3) 0 0 0}#sheodox-jimaku-player .tray h3{margin-top:1rem}#sheodox-jimaku-player .tray p{margin:0 0 var(--sx-spacing-3) 0}#sheodox-jimaku-player .tray a,#sheodox-jimaku-player .tray .a{font-family:Source Han Sans,\\6e90\\30ce\\89d2\\30b4\\30b7\\30c3\\30af,Hiragino Sans,HiraKakuProN-W3,Hiragino Kaku Gothic ProN W3,Hiragino Kaku Gothic ProN,\\30d2\\30e9\\30ae\\30ce\\89d2\\30b4  ProN W3,Noto Sans JP,Noto Sans CJK JP,Noto Sans,\\30e1\\30a4\\30ea\\30aa,Meiryo,\\6e38\\30b4\\30b7\\30c3\\30af,YuGothic,\\ff2d\\ff33  \\ff30\\30b4\\30b7\\30c3\\30af,MS PGothic,\\ff2d\\ff33  \\30b4\\30b7\\30c3\\30af,MS Gothic,sans-serif}#sheodox-jimaku-player .panel{align-self:center;background:var(--sx-gray-600);color:#fff;padding:.5rem;display:flex;flex-direction:column;border-radius:4px;justify-content:center;max-height:80vh;left:50vw;transform:translate(-50%);position:absolute}#sheodox-jimaku-player .sr{position:absolute;left:-10000px;top:auto;width:1px;height:1px;overflow:hidden}#sheodox-jimaku-player fieldset{border-radius:3px;border-color:var(--sx-gray-200)}.portal-mount .overlay,.portal-mount .modal{z-index:1000000000}\n"
										document.head.appendChild(elementStyle)
									}
								} catch(error) {
									console.error(error, 'unable to concat style inside the bundled file')
								}
							})()
